"use strict";(self["webpackChunkadlash"]=self["webpackChunkadlash"]||[]).push([[549],{9549:function(e,a,l){l.r(a),l.d(a,{default:function(){return We}});l(4114);var t=l(641),n=l(953),s=l(3751),o=l(33),r=l(1299),u=l(7977),i=l(8162),d=l(5590),p=l(4830),v=l(2964),m=l(5220),c=l(1250),k=l(5246);const f=e=>((0,t.Qi)("data-v-5b451bb6"),e=e(),(0,t.jt)(),e),b={class:"P-info"},L={class:"cont1"},g={class:"left3"},h={class:"logo1"},y=["src"],x={class:"icons"},R={href:"#",class:"btn-amount"},I=["src"],N=f((()=>(0,t.Lk)("p",null,"Amount",-1))),_={href:"#",class:"btn-loan-brkdwn"},V=["src"],E=f((()=>(0,t.Lk)("p",null,"Loan Breakdown",-1))),B={class:"active"},w={href:"#",class:"btn-info"},K=["src"],C=f((()=>(0,t.Lk)("p",null,"Personal Information",-1))),S={href:"#",class:"btn-info2"},W=["src"],D=f((()=>(0,t.Lk)("p",null,"Contact Information",-1))),P={href:"#",class:"btn-info3"},U=["src"],J=f((()=>(0,t.Lk)("p",null,"Employment Information",-1))),O={class:"form-margin"},X=f((()=>(0,t.Lk)("label",{for:"title"},[(0,t.eW)("Title"),(0,t.Lk)("span",{class:"text-red"},"*")],-1))),M=f((()=>(0,t.Lk)("br",null,null,-1))),q=(0,t.Fv)('<option value="" selected data-v-5b451bb6>Select</option><option value="Mr" data-v-5b451bb6>Mr</option><option value="Mrs" data-v-5b451bb6>Mrs</option><option value="Miss" data-v-5b451bb6>Miss</option><option value="Dr" data-v-5b451bb6>Dr</option>',5),F=[q],T={key:0,style:{padding:"10px 20px","border-radius":"20px","background-color":"lightgray",width:"100%"}},A=f((()=>(0,t.Lk)("label",{for:"bvn_method",style:{"font-weight":"900"}},[(0,t.eW)("Select Preffered Method to Receive OTP"),(0,t.Lk)("span",{class:"text-red"},"*")],-1))),Q=f((()=>(0,t.Lk)("br",null,null,-1))),$={for:"",style:{"text-align":"left"}},j=["value"],z={key:0,style:{"margin-top":"10px"}},G=f((()=>(0,t.Lk)("label",{for:"bvn_method",style:{"font-weight":"900"}},[(0,t.eW)("Enter OTP Phone Number"),(0,t.Lk)("span",{class:"text-red"},"*")],-1))),H=f((()=>(0,t.Lk)("br",null,null,-1))),Y={key:1,style:{"margin-top":"10px"}},Z={for:"otp"},ee=f((()=>(0,t.Lk)("span",{class:"text-red"},"*",-1))),ae=f((()=>(0,t.Lk)("br",null,null,-1))),le={key:2,for:"",id:"",style:{"font-weight":"bold","font-size":"11px",color:"red"}},te={class:"form-margin"},ne=f((()=>(0,t.Lk)("label",{for:"First Name"},[(0,t.eW)("First Name"),(0,t.Lk)("span",{class:"text-red"},"*")],-1))),se=f((()=>(0,t.Lk)("br",null,null,-1))),oe={class:"form-margin"},re=f((()=>(0,t.Lk)("label",{for:"Last Name"},[(0,t.eW)("Last Name"),(0,t.Lk)("span",{class:"text-red"},"*")],-1))),ue=f((()=>(0,t.Lk)("br",null,null,-1))),ie={class:"form-margin"},de=f((()=>(0,t.Lk)("label",{for:"Date"},[(0,t.eW)("Date of Birth"),(0,t.Lk)("span",{class:"text-red"},"*")],-1))),pe=f((()=>(0,t.Lk)("br",null,null,-1))),ve={class:"form-margin"},me=f((()=>(0,t.Lk)("label",{for:"options"},[(0,t.eW)("Gender"),(0,t.Lk)("span",{class:"text-red"},"*")],-1))),ce=f((()=>(0,t.Lk)("br",null,null,-1))),ke=f((()=>(0,t.Lk)("option",{value:"",disabled:"",selected:"",hidden:""},null,-1))),fe=f((()=>(0,t.Lk)("option",{value:"male"},"Male",-1))),be=f((()=>(0,t.Lk)("option",{value:"female"},"Female",-1))),Le=[ke,fe,be],ge={class:"form-margin"},he=f((()=>(0,t.Lk)("label",{for:"nin"},[(0,t.eW)("NIN"),(0,t.Lk)("span",{class:"text-red"},"*")],-1))),ye={style:{"margin-top":"10px"}},xe={class:"form-margin"},Re=f((()=>(0,t.Lk)("label",{for:"bvn"},[(0,t.eW)("BVN"),(0,t.Lk)("span",{class:"text-red"},"*")],-1))),Ie={style:{"margin-top":"10px"}},Ne=f((()=>(0,t.Lk)("div",{class:"form-margin"},[(0,t.Lk)("label",{for:"Referral"},"Referral Code"),(0,t.Lk)("br"),(0,t.Lk)("input",{type:"text",id:"referral",name:""}),(0,t.Lk)("div",{class:"text-red"},"Loans with referral code will be processed faster")],-1))),_e={class:"bit"},Ve=f((()=>(0,t.Lk)("button",{type:"submit",class:"Next"},"NEXT",-1))),Ee=f((()=>(0,t.Lk)("div",{class:"image1"},null,-1))),Be="https://sapphire-api.digisparksolutions.ng",we="6552a219-b30a-4764-95b4-d7996a74ed7c";var Ke={__name:"ApplyStep3",setup(e){const a=(0,k.dj)(),l=(0,m.rd)(),f=(0,n.KR)(""),q=(0,n.KR)(),ke=(0,n.KR)(),fe=(0,n.KR)(),be=(0,n.KR)(""),Ke=(0,n.KR)(),Ce=((0,n.KR)(!1),(0,n.KR)()),Se=(0,n.KR)(),We=(0,n.KR)([]),De=(0,n.KR)(!1),Pe=(0,n.KR)(),Ue=(0,n.KR)(),Je=(0,n.KR)(),Oe=(0,n.KR)(),Xe=(0,n.KR)(),Me=()=>{const e=document.getElementById("referral"),a=JSON.parse(sessionStorage.getItem("formData"));a&&(ke.value=a.nin||"",q.value=a.bvn||"",fe.value=a.otp||"",f.value=a.title,fe.value&&(De.value=!0),Ue.value=a.firstName||"",Je.value=a.lastName||"",Oe.value=a.dateOfBirth||"",Xe.value=a.gender||"",e.value=a.referralCode||"")},qe=async()=>{if(Ce.value&&("alternate_phone"!=Ce.value||Se.value&&11==Se.value.length)){be.value="Sending BVN OTP, Please wait...",Ke.value="",De.value=!1;const e={bvn:q.value,sessionId:Pe.value,method:Ce.value};Se.value&&(e["phone_number"]=Se.value),c.A.post(`${Be}/api/bvn/verify`,e,{headers:{"x-sentinel-key":we}}).then((e=>{be.value=null;const a=e.data;if("00"!=a.status_code)throw new Error(a.message);Ke.value=a.hint,De.value=!0})).catch((e=>{be.value=null,console.log("Bvn Validation failed",e.response),422==e.response.status?a.error(e.response.data.message):a.error("Initiate BVN failed!")}))}},Fe=async()=>{if(6==fe.value.toString().length){be.value="Validating BVN, Please wait...",Ke.value="";const e={bvn:q.value,otp:fe.value,sessionId:Pe.value};c.A.post(`${Be}/api/bvn/fetch`,e,{headers:{"x-sentinel-key":we}}).then((e=>{be.value=null;const a=e.data;if("00"!==a.status_code)throw new Error(a.message);console.log("response data: ",e.data),Ue.value=a["data"]["first_name"],Je.value=a["data"]["last_name"],Xe.value=a["data"]["gender"],Oe.value=a["data"]["dob"]})).catch((e=>{be.value=null,console.log("User does not exist",e.response),422==e.response.status||e.response.data.status_code&&"14"==e.response.data.status_code?a.error(e.response.data.message):a.error("Validate BVN failed!")}))}};(0,t.sV)((()=>{Me()}));const Te=()=>{const e=document.getElementById("bvn"),a=document.getElementById("first-name"),t=document.getElementById("last-name"),n=document.getElementById("myDate"),s=document.getElementById("gender"),o=document.getElementById("referral"),r={bvn:e.value,nin:ke.value,otp:fe.value,sessionId:Pe.value,title:f.value,firstName:a.value,lastName:t.value,dateOfBirth:n.value,gender:s.value,referralCode:o.value},u=JSON.parse(sessionStorage.getItem("formData"))||{},i={...u,...r};sessionStorage.setItem("formData",JSON.stringify(i)),l.push("/apply-step4")};return(e,a)=>{const l=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("section",b,[(0,t.Lk)("div",L,[(0,t.Lk)("div",g,[(0,t.Lk)("div",h,[(0,t.Lk)("img",{src:(0,n.R1)(r),alt:""},null,8,y)]),(0,t.Lk)("div",x,[(0,t.Lk)("div",null,[(0,t.Lk)("a",R,[(0,t.Lk)("img",{src:(0,n.R1)(u),alt:""},null,8,I)]),N]),(0,t.Lk)("div",null,[(0,t.Lk)("a",_,[(0,t.Lk)("img",{src:(0,n.R1)(i),alt:""},null,8,V)]),E]),(0,t.Lk)("div",B,[(0,t.Lk)("a",w,[(0,t.Lk)("img",{src:(0,n.R1)(d),alt:""},null,8,K)]),C]),(0,t.Lk)("div",null,[(0,t.Lk)("a",S,[(0,t.Lk)("img",{src:(0,n.R1)(p),alt:""},null,8,W)]),D]),(0,t.Lk)("div",null,[(0,t.Lk)("a",P,[(0,t.Lk)("img",{src:(0,n.R1)(v),alt:""},null,8,U)]),J])]),(0,t.Lk)("form",{class:"info",onSubmit:(0,s.D$)(Te,["prevent"])},[(0,t.Lk)("div",O,[X,M,(0,t.bo)((0,t.Lk)("select",{name:"","onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),required:""},F,512),[[s.u1,f.value]])]),We.value.length?((0,t.uX)(),(0,t.CE)("div",T,[A,Q,((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(We.value,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e,style:{"text-align":"left","margin-top":"10px"}},[(0,t.Lk)("label",$,[(0,t.bo)((0,t.Lk)("input",{type:"radio",name:"bvn_method",style:{"text-align":"left"},value:e["method"],"onUpdate:modelValue":a[1]||(a[1]=e=>Ce.value=e),onChange:qe},null,40,j),[[s.XL,Ce.value]]),(0,t.eW)(" "+(0,o.v_)(e["hint"]),1)])])))),128)),"alternate_phone"==Ce.value?((0,t.uX)(),(0,t.CE)("div",z,[G,H,(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>Se.value=e),name:"alternate_phone_number",onInput:qe,maxlength:"11"},null,544),[[s.Jo,Se.value]])])):(0,t.Q3)("",!0)])):(0,t.Q3)("",!0),De.value?((0,t.uX)(),(0,t.CE)("div",Y,[(0,t.Lk)("label",Z,[(0,t.eW)((0,o.v_)(Ke.value??"BVN OTP"),1),ee]),ae,(0,t.bo)((0,t.Lk)("input",{type:"number",id:"otp",name:"otp",required:"",maxlength:"6","onUpdate:modelValue":a[3]||(a[3]=e=>fe.value=e),onInput:Fe},null,544),[[s.Jo,fe.value]])])):(0,t.Q3)("",!0),be.value?((0,t.uX)(),(0,t.CE)("label",le,(0,o.v_)(be.value),1)):(0,t.Q3)("",!0),(0,t.Lk)("div",te,[ne,se,(0,t.bo)((0,t.Lk)("input",{type:"text",id:"first-name",name:"",required:"","onUpdate:modelValue":a[4]||(a[4]=e=>Ue.value=e)},null,512),[[s.Jo,Ue.value]])]),(0,t.Lk)("div",oe,[re,ue,(0,t.bo)((0,t.Lk)("input",{type:"text",id:"last-name",name:"",required:"","onUpdate:modelValue":a[5]||(a[5]=e=>Je.value=e)},null,512),[[s.Jo,Je.value]])]),(0,t.Lk)("div",ie,[de,pe,(0,t.bo)((0,t.Lk)("input",{type:"date",id:"myDate",name:"myDate",value:"",required:"","onUpdate:modelValue":a[6]||(a[6]=e=>Oe.value=e)},null,512),[[s.Jo,Oe.value]])]),(0,t.Lk)("div",ve,[me,ce,(0,t.bo)((0,t.Lk)("select",{id:"gender",name:"options",required:"","onUpdate:modelValue":a[7]||(a[7]=e=>Xe.value=e)},Le,512),[[s.u1,Xe.value]])]),(0,t.Lk)("div",ge,[he,(0,t.Lk)("div",ye,[(0,t.bo)((0,t.Lk)("input",{type:"text",id:"nin",name:"nin",maxlength:"11","onUpdate:modelValue":a[8]||(a[8]=e=>ke.value=e)},null,512),[[s.Jo,ke.value]])])]),(0,t.Lk)("div",xe,[Re,(0,t.Lk)("div",Ie,[(0,t.bo)((0,t.Lk)("input",{type:"number",id:"bvn",name:"bvn",required:"",maxlength:"11","onUpdate:modelValue":a[9]||(a[9]=e=>q.value=e)},null,512),[[s.Jo,q.value]])])]),Ne,(0,t.Lk)("span",_e,[(0,t.bF)(l,{to:"/apply-step2",class:"prev"},{default:(0,t.k6)((()=>[(0,t.eW)("PREV")])),_:1}),Ve])],32)]),Ee])])}}},Ce=l(6262);const Se=(0,Ce.A)(Ke,[["__scopeId","data-v-5b451bb6"]]);var We=Se},7977:function(e,a,l){e.exports=l.p+"img/amount-stepper-icon 1.6a42f57f.svg"},8162:function(e,a,l){e.exports=l.p+"img/breakdown-stepper-icon 1.a186ec32.svg"},4830:function(e,a,l){e.exports=l.p+"img/contact-info-stepper-icon 1.5e312d17.svg"},2964:function(e,a,l){e.exports=l.p+"img/employment-info-stepper-icon 1.c1f0fa3a.svg"},5590:function(e,a,l){e.exports=l.p+"img/personal-info-stepper-icon 1.21bdd72e.svg"},1299:function(e,a,l){e.exports=l.p+"img/credit-flex-logo.2c250582.png"}}]);