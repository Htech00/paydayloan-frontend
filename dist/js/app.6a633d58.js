(function(){"use strict";var e={6141:function(e,t,a){var s=a(8358),l=a(8953);t.A={async apply(e){return l.A.post("/api/loan/apply",e,{headers:{"Content-Type":"application/json"}})},async allLoans(){const e=s.A.getters["auth/token"];return l.A.get("/api/admin/loans?filterStatus=&filterType",{headers:{Authorization:"Bearer "+e["token"]}})},async topupLoans(e=null,t=""){const a=s.A.getters["auth/token"];return l.A.get(e??`/api/admin/loans/top-up?q=${t}`,{headers:{Authorization:"Bearer "+a["token"]}})},async moreRecords(e,t="",a=""){const o=s.A.getters["auth/token"];return l.A.get(e??`/api/admin/loans?q=${t}&filterStatus=${a}`,{headers:{Authorization:"Bearer "+o["token"]}})},async pendingAuthorization(){const e=s.A.getters["auth/token"];return l.A.get("/api/admin/loans?filterStatus=pending_customer_confirmation&filterType",{headers:{Authorization:"Bearer "+e["token"]}})},async offerSent(){const e=s.A.getters["auth/token"];return l.A.get("/api/admin/loans?filterStatus=confirmation_sent&filterType",{headers:{Authorization:"Bearer "+e["token"]}})},async pendingApproval(){const e=s.A.getters["auth/token"];return l.A.get("/api/admin/loans?filterStatus=pending_approval&filterType",{headers:{Authorization:"Bearer "+e["token"]}})},async pendingDeductionSetup(){const e=s.A.getters["auth/token"];return l.A.get("/api/admin/loans?filterStatus=pending_deduction_setup&filterType",{headers:{Authorization:"Bearer "+e["token"]}})},async disbursed(){const e=s.A.getters["auth/token"];return l.A.get("/api/admin/loans?filterStatus=disbursed~completed~liquidated~pending_pickup&filterType",{headers:{Authorization:"Bearer "+e["token"]}})},async pendingDisbursal(){const e=s.A.getters["auth/token"];return l.A.get("/api/admin/loans?filterStatus=pending_disbursement&filterType",{headers:{Authorization:"Bearer "+e["token"]}})},async completed(){const e=s.A.getters["auth/token"];return l.A.get("/api/admin/loans?filterStatus=completed~liquidated&filterType",{headers:{Authorization:"Bearer "+e["token"]}})},async rejected(){const e=s.A.getters["auth/token"];return l.A.get("/api/admin/loans?filterStatus=rejected&filterType",{headers:{Authorization:"Bearer "+e["token"]}})},async loanDetails(e){const t=s.A.getters["auth/token"];return l.A.get(`/api/admin/loans/${e}/details`,{headers:{Authorization:"Bearer "+t["token"]}})},async loanTypes(){const e=s.A.getters["auth/token"];return l.A.get("/api/admin/loanTypes/all",{headers:{Authorization:"Bearer "+e["token"]}})},async banks(){s.A.getters["auth/token"];return l.A.get("/api/banks")},async affordabilityCheck(e){const t=s.A.getters["auth/token"];return l.A.get(`/api/admin/loans/${e}/affordability`,{headers:{Authorization:"Bearer "+t["token"]}})},async approve(e){const t=s.A.getters["auth/token"];return l.A.put(`/api/admin/loans/${e}/approve`,{},{headers:{Authorization:"Bearer "+t["token"]}})},async disburse(e,t){const a=s.A.getters["auth/token"];return l.A.put(`/api/admin/loans/${e}/disburse`,t,{headers:{Authorization:"Bearer "+a["token"],"Content-Type":"application/json"}})},async calculateOffer(e){const t=s.A.getters["auth/token"];return l.A.post("/api/admin/loans/offer/calculate",e,{headers:{Authorization:"Bearer "+t["token"],"Content-Type":"application/json"}})},async initiateDevicePickup(e){const t=s.A.getters["auth/token"];return l.A.get(`/api/admin/device/pickup/details?loan_reference=${e}`,{headers:{Authorization:"Bearer "+t["token"],"Content-Type":"application/json"}})},async sendDevicePickupOtp(e){const t=s.A.getters["auth/token"];return l.A.get(`/api/admin/device/pickup/send/otp?loan_reference=${e}`,{headers:{Authorization:"Bearer "+t["token"],"Content-Type":"application/json"}})},async confirmDevicePickup(e){const t=s.A.getters["auth/token"];return l.A.post("/api/admin/device/pickup/confirm",e,{headers:{Authorization:"Bearer "+t["token"],"Content-Type":"application/json"}})},async reject(e){const t=s.A.getters["auth/token"];return l.A.put(`/api/admin/loans/${e}/reject`,{},{headers:{Authorization:"Bearer "+t["token"]}})},async uploadAuthorization(e,t){const a=s.A.getters["auth/token"];return l.A.post(`/api/admin/loans/authorization/${e}/upload`,t,{headers:{Authorization:"Bearer "+a["token"],"Content-Type":"multipart/form-data"}})},async updateFile(e,t){const a=s.A.getters["auth/token"];return l.A.post(`/api/admin/loans/file/${e}/update`,t,{headers:{Authorization:"Bearer "+a["token"],"Content-Type":"multipart/form-data"}})}}},9180:function(e,t,a){var s=a(8953),l=a(8358);t.A={async register(e){return s.A.post("/api/user/register",e)},async getBanks(){return s.A.get("/api/banks")},async checkExistingUser(e,t,a){return s.A.get(`api/user/details/ippis?ippis=${e}&phone_number=${t}&email=${a}`)},async validateAccount(e){return s.A.post("api/banks/account/validate",e)},async resetPassword(e){const t=l.A.getters["auth/token"];return s.A.post("api/admin/user/password/reset",e,{headers:{Authorization:"Bearer "+t["token"]}})},async login(e){return s.A.post("/api/user/login",e)},async logout(){},async auth(){const e=l.A.getters["auth/token"];return s.A.get("/api/user",{headers:{Authorization:"Bearer "+e["token"]}})}}},7254:function(e,t,a){var s=a(3751),l=a(953),o=a(641);const n={key:0},i={class:"main-content d-flex flex-column transition overflow-hidden"};function d(e,t,a,s,l,d){const r=(0,o.g2)("MainHeader"),c=(0,o.g2)("MainSidebar"),m=(0,o.g2)("router-view"),u=(0,o.g2)("MainFooter");return e.isExcludedRoute?((0,o.uX)(),(0,o.Wv)(m,{key:1})):((0,o.uX)(),(0,o.CE)("div",n,[(0,o.bF)(r),(0,o.bF)(c),(0,o.Lk)("div",i,[(0,o.bF)(m),(0,o.bF)(u)])]))}const r=(0,l.Kh)({open:!1,onChange(){r.open=!r.open}});var c=r,m=a(33),u=a(8081);const p={class:"row align-items-center"},b={class:"col-xl-4 col-lg-5 col-md-6"},k={class:"header-left-side justify-content-center justify-content-md-start d-flex align-items-center"},f=(0,o.Lk)("i",{class:"flaticon-menu-3"},null,-1),h=[f],g={class:"col-xl-8 col-lg-7 col-md-6"},v={class:"header-right-side d-flex align-items-center justify-content-center justify-content-md-end"},L={class:"dropdown profile-dropdown"},y={class:"dropdown-toggle text-start fs-14 text-black-emphasis d-flex align-items-center p-0 position-relative bg-transparent border-0 transition lh-1",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},x=(0,o.Lk)("img",{src:u,class:"rounded",width:"44",height:"44",alt:"admin"},null,-1),w={class:"title d-none d-lg-block ms-10 ms-lg-15"},A={class:"d-block fw-bold mb-5 mb-md-8"},D={class:"text-body-emphasis fw-semibold fs-13"},_={class:"dropdown-menu rounded-0 bg-white border-0 start-auto end-0"},C={class:"ps-0 mb-0 list-unstyled dropdown-body"},P={class:"text-body-secondary fw-semibold transition position-relative"},F=(0,o.Lk)("i",{class:"flaticon-user-2"},null,-1),T={class:"text-body-secondary fw-semibold transition position-relative"},E=(0,o.Lk)("i",{class:"flaticon-setting"},null,-1),B={class:"text-body-secondary fw-semibold transition position-relative"},R=(0,o.Lk)("i",{class:"flaticon-warning"},null,-1),M={class:"text-body-secondary fw-semibold transition position-relative"},S=(0,o.Lk)("i",{class:"flaticon-logout"},null,-1);function N(e,t,a,l,n,i){const d=(0,o.g2)("LightDarkSwtichBtn"),r=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("header",{class:(0,m.C4)(["header-area bg-white text-center text-md-start pt-15 pb-15 ps-15 pe-15 ps-md-20 pe-md-20 pe-lg-30 transition mb-25 position-fixed",{sticky:e.isSticky}]),id:"header"},[(0,o.Lk)("div",p,[(0,o.Lk)("div",b,[(0,o.Lk)("div",k,[(0,o.Lk)("button",{class:"header-burger-menu transition position-relative lh-1 bg-transparent p-0 border-0",id:"header-burger-menu",onClick:t[0]||(t[0]=(...t)=>e.stateStoreInstance.onChange&&e.stateStoreInstance.onChange(...t))},h)])]),(0,o.Lk)("div",g,[(0,o.Lk)("div",v,[(0,o.bF)(d),(0,o.Lk)("div",L,[(0,o.Lk)("button",y,[x,(0,o.Lk)("span",w,[(0,o.Lk)("span",A,(0,m.v_)(e.user.first_name)+" "+(0,m.v_)(e.user.last_name),1),(0,o.Lk)("span",D,(0,m.v_)(e.user.roles?.length?e.user.roles[0]?.name:""),1)])]),(0,o.Lk)("div",_,[(0,o.Lk)("ul",C,[(0,o.Lk)("li",P,[F,(0,o.eW)(" My Account "),(0,o.bF)(r,{to:"/profile",class:"d-block position-absolute start-0 top-0 end-0 bottom-0 text-decoration-none"})]),(0,o.Lk)("li",T,[E,(0,o.eW)(" Settings "),(0,o.bF)(r,{to:"/profile-settings",class:"d-block position-absolute start-0 top-0 end-0 bottom-0 text-decoration-none"})]),(0,o.Lk)("li",B,[R,(0,o.eW)(" Support "),(0,o.bF)(r,{to:"/support-desk-card",class:"d-block position-absolute start-0 top-0 end-0 bottom-0 text-decoration-none"})]),(0,o.Lk)("li",M,[S,(0,o.eW)(" Logout "),(0,o.bF)(r,{to:"#",onClick:(0,s.D$)(e.logout,["prevent"]),class:"d-block position-absolute start-0 top-0 end-0 bottom-0 text-decoration-none"},null,8,["onClick"])])])])])])])])],2)}a(4114);const U={class:"dark-swtich-btn"},I=(0,o.Lk)("i",{class:"flaticon-moon"},null,-1),X=[I];function j(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)("div",U,[(0,o.Lk)("button",{class:"switch-toggle transition d-inline-block position-relative border-0 rounded-circle",id:"switch-toggle",onClick:t[0]||(t[0]=(...t)=>e.toggleDarkMode&&e.toggleDarkMode(...t))},X)])}var W=(0,o.pM)({name:"LightDarkSwtichBtn",data(){return{isDarkMode:!1}},methods:{toggleDarkMode(){this.isDarkMode=!this.isDarkMode,document.body.classList.toggle("dark",this.isDarkMode),localStorage.setItem("dark",this.isDarkMode.toString())}},mounted(){const e=localStorage.getItem("dark");e&&(this.isDarkMode="true"===e,document.body.classList.toggle("dark",this.isDarkMode))}}),O=a(6262);const V=(0,O.A)(W,[["render",j]]);var z=V,Q=a(6278),H=a(9180),$=a(7665),q=a(8358),K=(0,o.pM)({name:"MainHeader",components:{LightDarkSwtichBtn:z},data(){return{user:q.A.getters["auth/user"]}},methods:{...(0,Q.i0)({signOut:"auth/logout"}),async logout(){await H.A.logout().then((()=>{this.signOut(),$.A.push("/login")}))}},setup(){const e=c,t=(0,l.KR)(!1);return(0,o.sV)((()=>{window.addEventListener("scroll",(()=>{let e=window.scrollY;t.value=e>=100}))})),{isSticky:t,stateStoreInstance:e}}});const J=(0,O.A)(K,[["render",N]]);var Y=J,G="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASkSURBVHgBrVdPbxtFFH9vdnaJ1UaJxQfI5ggHKCfUA6ojhDhG3LhlkZrWolHjCoSgB7zuqReESxPJQpHiSEgcCQeEBIfYJ46lp97A+QQbNcklyc7jzczOrk1ir5vmaW3tn9n3m/fv994ilEjUSOZn3pTr5FENJLyLPlTB5wcSAH0ECIBQAprrgK8lAfhI4F1b3PwQ98fplZNA7z48YsA0JkXz6Nl7hPpgALRXyId5wP9EDKrvEOxPAtUixj2of3nYBJW2WfccKyWnnJWihSd0a8kcoJ+QfQ4xlMiFwHfuHzYVqdhiaRDAi1+3O8rsN+sI1GDz4+s78KrAUT0JARiUnO4C07jS3qQCemgbxs24C1PIuRj7QjQLjdqjNqyoRBvS9Ennq+pgnLL6Ly8jT+L2vT+OGpyACUnqy0Du/vB+5ZwHRlwYRUnoV/BfnZUiQJOp4LP/PHjSiecaUCKf7x5tc9ZHOtNBZ7rPO+YKQMmJ5ovo6TuVvls74mrfF02TsTpHtKl8gIIBu75dBlr/mUOEsAIuRi4YJu4UAqS9+y+Om+eAtbUMGY04woRM7XTi8e7NFQV+U2e6xdHh1lrQlJfDZ4nXXhzWRoA9EE0qqiaLLQzEGXRhOqmZGrYVbTUNlRxmh/DFduNZMm8eRJ8moXxD/IOBZiDemy+IY6tj1Prx8VwMl5C1P9myGWxCgLdYJ6LJF7Dp7MEDY7HvcWzR7tSVirEWVBcuKRsfzfY2Pri+xFb30bCBjoLmOdYsxLLQ1rJjInBUYDyskwt2Oo/LY1sqRC2ySi3Jggn7DSFJrA+vMzsCGvgYbMMVyMbN2Z5lPwLHgHw2x67mrpMzUca6inY2v6vswxVI4y/tUeNmgCHKF3x+I1+V4b5CJpfKmQxWcouz0mKQv7NyoqJw+b/TuYLYstT3mBtSxw0G0DK/or7gmCb5A9NKCW6vJTW4ApFBsMIaF4bvadtPhNfmgqXnNqHQMg2YlG/Ca4q2lr0b5S0Vs7xWXC2LlYFAD3cdL2dsxfh4a/WLl3u3v7b0dhkRIDm2sIAZO9isJjhNRcvsgzl63jvBZyKAkLsSWIZBw1xomIZLWncY+8MZmVbbD6oHk0DrvyehNxPsoU+hfo88zeXsYx+6T9+69pnZWLdbPUBB5qJIeJtsRFBMGGRIpVcGqkVyJvObC06HVqD4VJGIC4+wbP1U7bGXW467nCBmZOfO07RVBqqt1bFFyCc1mzkc2823C27Iu9NWtxoTqSXNWu6eHXXQDTy9zjfVXgkueCSZCVWY6zBGI52SGNn0yOiztWUUL642Et4xLoPAGr83b/JN0a+TAO/9xq5NjxsMtJ61VWet9li3815lMLweYQq5++jwe25tDdfa7OAO2VBv79kfl6LU7RTBjD08/ui1p+pksXNzlJQETCW07OJsrsiO0UUU3TI9sRQTqKZIUqr1f9CpgO98e8QZCqHtHdmXQjZGg2Ubl/zZV0QxdUCqHnF3ii/SO/ETxmo2M3YxXQ8rJvtlkY/b5NouHYDC1sbS7NghcSLw6sNEd67QjdempIbam8HS7hbmw+mA/59zsfaD47N2+5PJ9f4foeTxMtEA4pAAAAAASUVORK5CYII=";const Z={class:"logo position-absolute start-0 end-0 top-0 bg-black"},ee=(0,o.Lk)("img",{src:G,alt:"logo-icon"},null,-1),te=(0,o.Lk)("span",{class:"fw-bold ms-10"},"Sentinel",-1),ae=(0,o.Lk)("div",{class:"border-bottom"},null,-1),se=(0,o.Lk)("i",{class:"ph-duotone ph-caret-double-right"},null,-1),le=[se],oe={class:"sidebar-menu"},ne={class:"sidebar-navbar-nav ps-0 mb-0 list-unstyled accordion",id:"sidebarNavAccordion"},ie={class:"sidebar-nav-item"},de=(0,o.Lk)("i",{class:"flaticon-more-1"},null,-1),re=(0,o.Lk)("span",{class:"title"},"Dashboard",-1),ce={class:"sidebar-nav-item accordion-item bg-transparent border-0 rounded-0"},me=(0,o.Lk)("a",{href:"#",class:"accordion-button rounded-0 shadow-none bg-transparent d-block","data-bs-toggle":"collapse","data-bs-target":"#sidebarCollapseOne","aria-expanded":"true","aria-controls":"sidebarCollapseOne"},[(0,o.Lk)("i",{class:"flaticon-more-1"}),(0,o.Lk)("span",{class:"title"},"Loan")],-1),ue={id:"sidebarCollapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#sidebarNavAccordion"},pe={class:"accordion-body"},be={class:"sidebar-sub-menu ps-0 mb-0 list-unstyled"},ke={class:"sidebar-sub-menu-item"},fe={key:0,class:"sidebar-sub-menu-item"},he={key:1,class:"sidebar-sub-menu-item"},ge={key:2,class:"sidebar-sub-menu-item"},ve={class:"sidebar-sub-menu-item"},Le={class:"sidebar-sub-menu-item"},ye={class:"sidebar-sub-menu-item"},xe={class:"sidebar-sub-menu-item"},we={class:"sidebar-sub-menu-item"},Ae={class:"sidebar-sub-menu-item"},De={class:"sidebar-nav-item accordion-item bg-transparent border-0 rounded-0"},_e=(0,o.Lk)("a",{href:"#",class:"accordion-button rounded-0 shadow-none bg-transparent d-block","data-bs-toggle":"collapse","data-bs-target":"#sidebarCollapseTwo","aria-expanded":"false","aria-controls":"sidebarCollapseTwo"},[(0,o.Lk)("i",{class:"flaticon-more-1"}),(0,o.Lk)("span",{class:"title"},"Deductions")],-1),Ce={id:"sidebarCollapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#sidebarNavAccordion"},Pe={class:"accordion-body"},Fe={class:"sidebar-sub-menu ps-0 mb-0 list-unstyled"},Te={key:0,class:"sidebar-sub-menu-item"},Ee={key:1,class:"sidebar-sub-menu-item"},Be={key:2,class:"sidebar-sub-menu-item"},Re={class:"sidebar-sub-menu-item"},Me={class:"sidebar-sub-menu-item"},Se={class:"sidebar-nav-item accordion-item bg-transparent border-0 rounded-0"},Ne=(0,o.Lk)("a",{href:"#",class:"accordion-button rounded-0 shadow-none bg-transparent d-block","data-bs-toggle":"collapse","data-bs-target":"#sidebarCollapseThree","aria-expanded":"true","aria-controls":"sidebarCollapseThree"},[(0,o.Lk)("i",{class:"flaticon-more-1"}),(0,o.Lk)("span",{class:"title"},"Admin management")],-1),Ue={id:"sidebarCollapseThree",class:"accordion-collapse collapse","data-bs-parent":"#sidebarNavAccordion"},Ie={class:"accordion-body"},Xe={class:"sidebar-sub-menu ps-0 mb-0 list-unstyled"},je={class:"sidebar-sub-menu-item"},We={key:0,class:"sidebar-sub-menu-item"},Oe={key:1,class:"sidebar-sub-menu-item"},Ve={class:"sidebar-sub-menu-item"},ze={class:"sidebar-sub-menu-item"},Qe={class:"sidebar-nav-item accordion-item bg-transparent border-0 rounded-0"},He=(0,o.Lk)("a",{href:"#",class:"accordion-button rounded-0 shadow-none bg-transparent d-block","data-bs-toggle":"collapse","data-bs-target":"#sidebarCollapseFour","aria-expanded":"true","aria-controls":"sidebarCollapseFour"},[(0,o.Lk)("i",{class:"flaticon-more-1"}),(0,o.Lk)("span",{class:"title"},"Leads management")],-1),$e={id:"sidebarCollapseFour",class:"accordion-collapse collapse","data-bs-parent":"#sidebarNavAccordion"},qe={class:"accordion-body"},Ke={class:"sidebar-sub-menu ps-0 mb-0 list-unstyled"},Je={class:"sidebar-sub-menu-item"},Ye={class:"sidebar-sub-menu-item"},Ge={key:0,class:"sidebar-sub-menu-item"},Ze={class:"sidebar-sub-menu-item"},et={key:1,class:"sidebar-sub-menu-item"},tt={class:"sidebar-nav-item"},at=(0,o.Lk)("i",{class:"flaticon-logout"},null,-1),st=(0,o.Lk)("span",{class:"title"},"Logout",-1);function lt(e,t,a,l,n,i){const d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",{class:(0,m.C4)(["sidebar-area position-fixed start-0 top-0 bg-black h-100vh transition",{active:e.stateStoreInstance.open}]),id:"sidebar-area"},[(0,o.Lk)("div",Z,[(0,o.bF)(d,{to:"/dashboard",class:"d-flex align-items-center text-white text-decoration-none"},{default:(0,o.k6)((()=>[ee,te])),_:1}),ae,(0,o.Lk)("button",{class:"sidebar-burger-menu position-absolute lh-1 bg-transparent p-0 border-0",onClick:t[0]||(t[0]=(...t)=>e.stateStoreInstance.onChange&&e.stateStoreInstance.onChange(...t))},le)]),(0,o.Lk)("div",oe,[(0,o.Lk)("ul",ne,[(0,o.Lk)("li",ie,[(0,o.bF)(d,{to:"/dashboard",class:"sidebar-nav-link d-block"},{default:(0,o.k6)((()=>[de,re])),_:1})]),(0,o.Lk)("li",ce,[me,(0,o.Lk)("div",ue,[(0,o.Lk)("div",pe,[(0,o.Lk)("ul",be,[(0,o.Lk)("li",ke,[(0,o.bF)(d,{to:"/all-loans",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" All Loans ")])),_:1})]),e.hasAnyPermission(["edit-loan"])?((0,o.uX)(),(0,o.CE)("li",fe,[(0,o.bF)(d,{to:"/pending-loans",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Pending Authorization ")])),_:1})])):(0,o.Q3)("",!0),e.hasAnyPermission(["edit-loan"])?((0,o.uX)(),(0,o.CE)("li",he,[(0,o.bF)(d,{to:"/loan-offer-sent",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Offer Sent ")])),_:1})])):(0,o.Q3)("",!0),e.hasAnyPermission(["approve-loan"])?((0,o.uX)(),(0,o.CE)("li",ge,[(0,o.bF)(d,{to:"/pending-approval",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Pending Approval ")])),_:1})])):(0,o.Q3)("",!0),(0,o.Lk)("li",ve,[e.hasAnyPermission(["setup-deduction"])?((0,o.uX)(),(0,o.Wv)(d,{key:0,to:"/loans/pending-deduction-setup",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Pending Deduction Setup ")])),_:1})):(0,o.Q3)("",!0)]),(0,o.Lk)("li",Le,[e.hasAnyPermission(["disburse-loan"])?((0,o.uX)(),(0,o.Wv)(d,{key:0,to:"/loans/pending-disbursal",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Pending Disbursal ")])),_:1})):(0,o.Q3)("",!0)]),(0,o.Lk)("li",ye,[(0,o.bF)(d,{to:"/loans/disbursed",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Disbursed Loans ")])),_:1})]),(0,o.Lk)("li",xe,[(0,o.bF)(d,{to:"/completed-loans",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Completed Loans ")])),_:1})]),(0,o.Lk)("li",we,[(0,o.bF)(d,{to:"/rejected-loans",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Rejected Loans ")])),_:1})]),(0,o.Lk)("li",Ae,[e.hasAnyPermission(["process-device-pickup"])?((0,o.uX)(),(0,o.Wv)(d,{key:0,to:"/device/pickup/initiate",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Confirm Device Pickup ")])),_:1})):(0,o.Q3)("",!0)])])])])]),(0,o.Lk)("li",De,[_e,(0,o.Lk)("div",Ce,[(0,o.Lk)("div",Pe,[(0,o.Lk)("ul",Fe,[e.hasAnyPermission(["view-repayments"])?((0,o.uX)(),(0,o.CE)("li",Te,[(0,o.bF)(d,{to:"/deductions/pending",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Pending Deductions ")])),_:1})])):(0,o.Q3)("",!0),e.hasAnyPermission(["view-repayments"])?((0,o.uX)(),(0,o.CE)("li",Ee,[(0,o.bF)(d,{to:"/deductions/overdue",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Overdue Deductions ")])),_:1})])):(0,o.Q3)("",!0),e.hasAnyPermission(["view-repayments"])?((0,o.uX)(),(0,o.CE)("li",Be,[(0,o.bF)(d,{to:"/deductions/all",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" All Deductions ")])),_:1})])):(0,o.Q3)("",!0),(0,o.Lk)("li",Re,[e.hasAnyPermission(["view-repayments"])?((0,o.uX)(),(0,o.Wv)(d,{key:0,to:"/repayments/successful",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Successful Repayments ")])),_:1})):(0,o.Q3)("",!0)]),(0,o.Lk)("li",Me,[e.hasAnyPermission(["edit-repayment"])?((0,o.uX)(),(0,o.Wv)(d,{key:0,to:"/deductions/stop",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Stop Deduction ")])),_:1})):(0,o.Q3)("",!0)])])])])]),(0,o.Lk)("li",Se,[Ne,(0,o.Lk)("div",Ue,[(0,o.Lk)("div",Ie,[(0,o.Lk)("ul",Xe,[(0,o.Lk)("li",je,[e.hasAnyPermission(["view-roles"])?((0,o.uX)(),(0,o.Wv)(d,{key:0,to:"/roles",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" All Roles ")])),_:1})):(0,o.Q3)("",!0)]),e.hasAnyPermission(["view-admin"])?((0,o.uX)(),(0,o.CE)("li",We,[(0,o.bF)(d,{to:"/admins",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" All Admins ")])),_:1})])):(0,o.Q3)("",!0),e.hasAnyPermission(["view-users"])?((0,o.uX)(),(0,o.CE)("li",Oe,[(0,o.bF)(d,{to:"/users",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" All Users ")])),_:1})])):(0,o.Q3)("",!0),(0,o.Lk)("li",Ve,[e.hasAnyPermission(["view-products"])?((0,o.uX)(),(0,o.Wv)(d,{key:0,to:"/products",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" All Products ")])),_:1})):(0,o.Q3)("",!0)]),(0,o.Lk)("li",ze,[e.hasAnyPermission(["view-special-approval"])?((0,o.uX)(),(0,o.Wv)(d,{key:0,to:"/special-loan-approvals",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Special Loan Approvals ")])),_:1})):(0,o.Q3)("",!0)])])])])]),(0,o.Lk)("li",Qe,[He,(0,o.Lk)("div",$e,[(0,o.Lk)("div",qe,[(0,o.Lk)("ul",Ke,[(0,o.Lk)("li",Je,[e.hasAnyPermission(["view-all-leads"])?((0,o.uX)(),(0,o.Wv)(d,{key:0,to:"/leads",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" All Leads ")])),_:1})):(0,o.Q3)("",!0)]),(0,o.Lk)("li",Ye,[e.hasAnyPermission(["view-all-leads"])?((0,o.uX)(),(0,o.Wv)(d,{key:0,to:"/loans/top-up",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" All Top-up Loans ")])),_:1})):(0,o.Q3)("",!0)]),e.hasAnyPermission(["process-leads"])?((0,o.uX)(),(0,o.CE)("li",Ge,[(0,o.bF)(d,{to:"/leads/pending",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Pending Leads ")])),_:1})])):(0,o.Q3)("",!0),(0,o.Lk)("li",Ze,[(0,o.bF)(d,{to:"/loan-calculator",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Loan Calculator ")])),_:1})]),e.hasAnyPermission(["view-all-leads"])?((0,o.uX)(),(0,o.CE)("li",et,[(0,o.bF)(d,{to:"/leads/report",class:"sidebar-sub-menu-link"},{default:(0,o.k6)((()=>[(0,o.eW)(" Leads Report ")])),_:1})])):(0,o.Q3)("",!0)])])])]),(0,o.Lk)("li",tt,[(0,o.bF)(d,{to:"#",onClick:(0,s.D$)(e.logout,["prevent"]),class:"sidebar-nav-link d-block"},{default:(0,o.k6)((()=>[at,st])),_:1},8,["onClick"])])])])],2)}var ot=a(4105),nt=(0,o.pM)({name:"MainSidebar",mixins:[ot.A],methods:{...(0,Q.i0)({signOut:"auth/logout"}),async logout(){await H.A.logout().then((()=>{this.signOut(),$.A.push("/login")}))}},setup(){const e=c;return{stateStoreInstance:e}}});const it=(0,O.A)(nt,[["render",lt]]);var dt=it;const rt=(0,o.Lk)("div",{class:"flex-grow-1"},null,-1),ct={class:"footer-area text-center text-md-start bg-white ps-15 pe-15 pt-20 pb-20 ps-md-40 pe-md-40 pt-md-25 pb-md-25"},mt={class:"row align-items-center"},ut=(0,o.Lk)("div",{class:"col-md-6 col-lg-6"},[(0,o.Lk)("p",{class:"text-body-secondary fw-medium mb-0"},[(0,o.eW)(" © "),(0,o.Lk)("span",{class:"fw-bold text-primary"},"Sentinel"),(0,o.eW)(". All rights reserved. ")])],-1),pt={class:"col-md-6 col-lg-6 text-md-end"},bt={class:"footer-menu ps-0 mb-0 list-unstyled fw-medium"},kt={class:"d-inline-block"},ft={class:"d-inline-block"};function ht(e,t,a,s,l,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[rt,(0,o.Lk)("footer",ct,[(0,o.Lk)("div",mt,[ut,(0,o.Lk)("div",pt,[(0,o.Lk)("ul",bt,[(0,o.Lk)("li",kt,[(0,o.bF)(i,{to:"/privacy-policy",class:"text-decoration-none text-body-secondary transition"},{default:(0,o.k6)((()=>[(0,o.eW)(" Privacy Policy ")])),_:1})]),(0,o.Lk)("li",ft,[(0,o.bF)(i,{to:"/terms-conditions",class:"text-decoration-none text-body-secondary transition"},{default:(0,o.k6)((()=>[(0,o.eW)(" Terms & Conditions ")])),_:1})])])])])])],64)}var gt={name:"MainFooter"};const vt=(0,O.A)(gt,[["render",ht]]);var Lt=vt,yt=a(5220),xt=(0,o.pM)({name:"App",components:{MainHeader:Y,MainSidebar:dt,MainFooter:Lt},mounted(){document.body.classList.add("bg-body-secondary")},setup(){const e=c;(0,o.nT)((()=>{e.open?(document.body.classList.remove("sidebar-show"),document.body.classList.add("sidebar-hide"),console.log("show")):(document.body.classList.remove("sidebar-hide"),document.body.classList.add("sidebar-show"),console.log("hide"))}));const t=(0,yt.lq)(),a=["LoginPage","RegisterPage","ForgotPasswordPage","LandingPage","ApplyStep1","ApplyStep2","ApplyStep3","ApplyStep4","ApplyStep5","ApplyStep6"],s=(0,l.KR)(!1);return(0,o.nT)((()=>{const e=t.name?.toString()??"";s.value=a.includes(e)})),{isExcludedRoute:s}}});const wt=(0,O.A)(xt,[["render",d]]);var At=wt,Dt=a(82),_t=a(1079),Ct=a(9950),Pt=a(7459),Ft=a.n(Pt),Tt=a(5246),Et=(a(7917),a(1250)),Bt=a(1021);const Rt=(0,s.Ef)(At).use($.A);Rt.use(_t.A,Q.Ay),Rt.use(Dt.Ay),Rt.component("QuillEditor",Ct.tB),Rt.use(q.A),Rt.use(Bt.A,Et.A),Rt.use(Ft());const Mt=(0,l.Kh)({formData:{amount:"",tenor:""}}),St=e=>{Mt.formData={...Mt.formData,...e}},Nt={};Rt.use(Tt.Ay,Nt),Rt.provide("globalState",Mt),Rt.provide("updateFormData",St),Rt.mount("#app")},4105:function(e,t,a){var s=a(8358);t.A={namespaced:!0,methods:{hasAnyPermission:function(e){if(s.A.getters){const t=s.A.getters["auth/token"],a=t["permissions"];let l=!1;return e.forEach((function(e){l=a?.includes(e)})),l}return!1},formatDate(e){const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=new Date(e);return a.getDate()+" "+t[a.getMonth()]+" "+a.getFullYear()},formatDateTime(e){const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=e?new Date(e):null;return a?a.getDate()+" "+t[a.getMonth()]+" "+a.getFullYear()+" "+a.toLocaleTimeString():null},formatNumber(e){const t=new Intl.NumberFormat("en-GB",{style:"currency",currency:"NGN"});return t.format(e).substring(4)},sentenceCase(e){return e.charAt(0).toUpperCase()+e.slice(1)},isOdd(e){return e%2}}}},7665:function(e,t,a){a.d(t,{A:function(){return cD}});var s=a(5220),l=a(8358),o=a(641),n=a(3751);const i={class:"row flex justify-content-end"},d={class:"col-lg-4 col-sm-12 my-3"},r=(0,o.Lk)("div",null,[(0,o.Lk)("label",{for:"filter"},"Filter Period:")],-1),c=(0,o.Fv)('<option value="null" selected>Today</option><option value="yesterday">Yesterday</option><option value="week">This Week</option><option value="last_week">Last Week</option><option value="month">This Month</option><option value="last_month">Last Month</option><option value="this_quarter">This Quarter</option><option value="this_year">This Year</option><option value="last_year">Last Year</option>',9),m=[c],u={class:"row"},p={class:"col-xxl-12 col-xxxl-6"},b=(0,o.Fv)('<div class="row"><div class="col-lg-6 col-xxxl-6 col-md-6"></div><div class="col-lg-6 col-xxxl-6 col-md-6"></div><div class="col-xl-12 col-lg-6 col-xxxl-6 col-md-12"></div><div class="col-xl-12 col-lg-6 col-xxxl-6 col-md-12"></div></div>',1),k={class:"col-xxl-12 col-xxxl-6"},f={class:"row"},h=(0,o.Fv)('<div class="col-xxl-4"></div><div class="col-xxl-4"></div><div class="col-xxl-4"></div><div class="col-xxl-6"></div><div class="col-xxl-6"></div>',5);function g(e,t,a,s,l,c){const g=(0,o.g2)("WhatHappening"),v=(0,o.g2)("StatsBox");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",i,[(0,o.Lk)("div",d,[r,(0,o.bo)((0,o.Lk)("select",{id:"filter","onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),onChange:t[1]||(t[1]=(...t)=>e.changeFilter&&e.changeFilter(...t)),class:"form-control"},m,544),[[n.u1,e.filter]])])]),(0,o.Lk)("div",u,[(0,o.Lk)("div",p,[(0,o.bF)(g,{name:e.user.first_name},null,8,["name"]),b]),(0,o.Lk)("div",k,[(0,o.Lk)("div",f,[e.callsInitiated?((0,o.uX)(),(0,o.Wv)(v,{key:0,stat:e.callsInitiated,loading:e.loading,class:"true",icon:"flaticon-phone"},null,8,["stat","loading"])):(0,o.Q3)("",!0),e.applicationsReceived?((0,o.uX)(),(0,o.Wv)(v,{key:1,stat:e.applicationsReceived,loading:e.loading,class:"true",icon:"flat-delivery"},null,8,["stat","loading"])):(0,o.Q3)("",!0),e.applicationsApproved?((0,o.uX)(),(0,o.Wv)(v,{key:2,stat:e.applicationsApproved,loading:e.loading,class:"true",icon:"flat-delivery"},null,8,["stat","loading"])):(0,o.Q3)("",!0),e.applicationsRejected?((0,o.uX)(),(0,o.Wv)(v,{key:3,stat:e.applicationsRejected,loading:e.loading,class:"true",icon:"flat-delivery"},null,8,["stat","loading"])):(0,o.Q3)("",!0),e.applicationsDisbursed?((0,o.uX)(),(0,o.Wv)(v,{key:4,stat:e.applicationsDisbursed,loading:e.loading,class:"true",icon:"flat-delivery"},null,8,["stat","loading"])):(0,o.Q3)("",!0),e.disbursedTotal?((0,o.uX)(),(0,o.Wv)(v,{key:5,sign:"₦",stat:e.disbursedTotal,loading:e.loading,class:"true",icon:"flat-delivery"},null,8,["stat","loading"])):(0,o.Q3)("",!0),e.totalCollections?((0,o.uX)(),(0,o.Wv)(v,{key:6,sign:"₦",stat:e.totalCollections,loading:e.loading,class:"true",icon:"flat-delivery"},null,8,["stat","loading"])):(0,o.Q3)("",!0),e.totalDueCollections?((0,o.uX)(),(0,o.Wv)(v,{key:7,sign:"₦",stat:e.totalDueCollections,loading:e.loading,class:"true",icon:"flat-delivery"},null,8,["stat","loading"])):(0,o.Q3)("",!0),e.totalOverdueCollections?((0,o.uX)(),(0,o.Wv)(v,{key:8,sign:"₦",stat:e.totalOverdueCollections,loading:e.loading,class:"true",icon:"flat-delivery"},null,8,["stat","loading"])):(0,o.Q3)("",!0),e.totalPendingCollections?((0,o.uX)(),(0,o.Wv)(v,{key:9,sign:"₦",stat:e.totalPendingCollections,loading:e.loading,class:"true",icon:"flat-delivery"},null,8,["stat","loading"])):(0,o.Q3)("",!0),e.collectionRate?((0,o.uX)(),(0,o.Wv)(v,{key:10,sign:"%",signAfter:"true",stat:e.collectionRate,loading:e.loading,class:"true",icon:"flat-delivery"},null,8,["stat","loading"])):(0,o.Q3)("",!0)])]),h])],64)}var v=a(33),L=a.p+"img/welcome3.0db670b3.png";const y={class:"card mb-25 border-0 rounded-0 welcome-box"},x={class:"card-body pe-15 pe-sm-20 pe-md-0 pb-0 pt-15 pt-sm-20"},w={class:"row align-items-center"},A={class:"col-lg-6 col-md-6"},D={class:"title position-relative"},_={class:"fw-semibold mb-8"},C={class:"fw-bold"},P=(0,o.Lk)("span",{class:"d-block text-black-emphasis fs-md-15 fs-lg-16"}," What would you like to do today? ",-1),F=(0,o.Fv)('<ul class="ps-0 mb-0 list-unstyled"><li class="d-inline-block text-uppercase fw-medium fs-13 text-black-emphasis position-relative"> LOANS TODAY <span class="d-block fw-black lh-1 text-black mt-5 mt-md-10"> 0 </span></li><li class="d-inline-block text-uppercase fw-medium fs-13 text-black-emphasis position-relative"> TOTAL LEADS <span class="d-block fw-black lh-1 text-black mt-5 mt-md-10"> 0 </span></li><li class="d-inline-block text-uppercase fw-medium fs-13 text-black-emphasis position-relative"> CALLS MADE <span class="d-block fw-black lh-1 text-black mt-5 mt-md-10"> 0 </span></li></ul>',1),T=(0,o.Lk)("div",{class:"col-lg-6 col-md-6 text-center mt-15 mt-md-0"},[(0,o.Lk)("img",{src:L,alt:"welcome-image"})],-1);function E(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)("div",y,[(0,o.Lk)("div",x,[(0,o.Lk)("div",w,[(0,o.Lk)("div",A,[(0,o.Lk)("div",D,[(0,o.Lk)("h3",_,[(0,o.eW)(" Good "+(0,v.v_)(e.timeofDay)+", ",1),(0,o.Lk)("span",C,(0,v.v_)(e.name)+"!",1)]),P]),F]),T])])])}var B=(0,o.pM)({name:"WhatHappening",props:["name"],data(){return{timeofDay:""}},mounted(){var e=new Date,t=e.getHours();t<12&&(this.timeofDay="Morning"),t>=12&&t<16&&(this.timeofDay="Afternoon"),t>16&&(this.timeofDay="Evening")}}),R=a(6262);const M=(0,R.A)(B,[["render",E]]);var S=M;const N={class:"col-xl-4 col-sm-6"},U={class:"card mb-25 border-0 rounded-0 bg-white stats-box"},I={class:"card-body pe-20 ps-20 pe-md-25 ps-md-25 pe-lg-15 ps-lg-15"},X={class:"d-flex align-items-center"},j={class:"title ms-15"},W={class:"d-block mb-7 fs-13 text-uppercase fw-medium text-dark-emphasis"},O={class:"fw-black mb-8 lh-1"},V={key:0},z={class:"fw-medium text-dark-emphasis"};function Q(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)("div",N,[(0,o.Lk)("div",U,[(0,o.Lk)("div",I,[(0,o.Lk)("div",X,[(0,o.Lk)("div",{class:(0,v.C4)(["icon position-relative rounded-circle text-center",e.stat.class])},[(0,o.Lk)("i",{class:(0,v.C4)(e.icon)},null,2)],2),(0,o.Lk)("div",j,[(0,o.Lk)("span",W,(0,v.v_)(e.stat.title),1),(0,o.Lk)("h4",O,[(0,o.eW)((0,v.v_)(e.signAfter?"":e.sign)+(0,v.v_)(e.loading?"...":e.sign?e.formatNumber(e.stat.current):e.stat.current)+" "+(0,v.v_)(e.signAfter?e.sign:""),1),null!=e.stat.count?((0,o.uX)(),(0,o.CE)("span",V,"("+(0,v.v_)(e.stat.count)+")",1)):(0,o.Q3)("",!0)]),(0,o.Lk)("span",z,(0,v.v_)(e.signAfter?"":e.sign)+(0,v.v_)(e.loading?"...":e.sign?e.formatNumber(e.stat.previous):e.stat.previous)+(0,v.v_)(e.signAfter?e.sign:""),1),(0,o.Lk)("span",{class:(0,v.C4)({"fw-bold text-success ms-8":e.stat.current>e.stat.previous,"fw-bold text-danger ms-8":e.stat.current<=e.stat.previous})},[(0,o.eW)((0,v.v_)(e.stat.percent)+"% ",1),(0,o.Lk)("i",{class:(0,v.C4)([e.stat.current>e.stat.previous?"flaticon-up-arrow":"flaticon-down-arrow","fs-12 lh-1 position-relative top-1"])},null,2)],2)])])])])])}var H=a(4105),$=(0,o.pM)({name:"StatsBox",mixins:[H.A],props:["stat","icon","class","iconUp","sign","signAfter","loading"]});const q=(0,R.A)($,[["render",Q]]);var K=q,J=a(8953),Y={async leadsTotals(e=""){const t=l.A.getters["auth/token"];return J.A.get(`/api/admin/leads/count?filter=${e}`,{headers:{Authorization:"Bearer "+t["token"]}})}},G=(0,o.pM)({name:"EcommercePage",data(){return{applicationsReceived:null,applicationsApproved:null,applicationsRejected:null,applicationsDisbursed:null,callsInitiated:null,disbursedTotal:null,totalCollections:null,totalDueCollections:null,totalOverdueCollections:null,totalPendingCollections:null,collectionRate:null,filter:null,loading:!1,user:l.A.getters["auth/user"]}},mounted(){console.log("warwin..."),this.getReports()},mixins:[H.A],methods:{changeFilter(){this.getReports(this.filter)},getReports(e=null){this.loading=!0,Y.leadsTotals(e??"").then((e=>{this.loading=!1,this.callsInitiated=e.data?.data?.callsInitiated,this.disbursedTotal=e.data?.data?.disbursedTotal,this.applicationsDisbursed=e.data?.data?.applicationsDisbursed,this.totalDueCollections=e.data?.data?.totalDueCollections,this.totalOverdueCollections=e.data?.data?.totalOverdueCollections,this.totalPendingCollections=e.data?.data?.totalPendingCollections,this.collectionRate=e.data?.data?.collectionRate,this.totalCollections=e.data?.data?.totalCollections,this.applicationsReceived=e.data?.data?.applicationsReceived,this.applicationsApproved=e.data?.data?.applicationsApproved,this.applicationsRejected=e.data?.data?.applicationsRejected}))}},components:{WhatHappening:S,StatsBox:K}});const Z=(0,R.A)(G,[["render",g]]);var ee=Z;function te(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{pageTitle:"Disbursed Loans Page"}),(0,o.bF)(d,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails},null,8,["propData","callBack","viewDetails"])],64)}a(4114);const ae={class:"mb-20 d-sm-flex align-items-center justify-content-between letter-spacing"},se={class:"mb-5 mb-sm-0 fw-bold"},le={"aria-label":"breadcrumb"},oe={class:"breadcrumb mb-0 list-unstyled ps-0"},ne={class:"breadcrumb-item"},ie={class:"breadcrumb-item active","aria-current":"page"};function de(e,t,a,s,l,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",ae,[(0,o.Lk)("h4",se,(0,v.v_)(e.pageTitle),1),(0,o.Lk)("nav",le,[(0,o.Lk)("ol",oe,[(0,o.Lk)("li",ne,[(0,o.bF)(i,{to:"/",class:"text-decoration-none text-black"},{default:(0,o.k6)((()=>[(0,o.eW)(" Dashboard ")])),_:1})]),(0,o.Lk)("li",ie,(0,v.v_)(e.pageTitle),1)])])])}var re=(0,o.pM)({name:"BreadCrumb",props:["pageTitle"]});const ce=(0,R.A)(re,[["render",de]]);var me=ce;const ue={class:"card mb-25 border-0 rounded-0 bg-white letter-spacing"},pe={class:"card-head box-shadow bg-white d-lg-flex align-items-center justify-content-between p-15 p-sm-20 p-md-25"},be={class:"d-sm-flex align-items-center"},ke=(0,o.Lk)("i",{class:"flaticon-plus position-relative ms-5 fs-12"},null,-1),fe=["action"],he={class:"d-flex justify-content-around align-items-center p-10 mx-2 bg-light"},ge=(0,o.Lk)("input",{type:"date",placeholder:"Start Date",name:"from_date",class:"form-control shadow-none text-black rounded-0 border-0 bg-white",style:{height:"45px"},required:""},null,-1),ve=(0,o.Lk)("input",{type:"date",placeholder:"End Date",name:"to_date",class:"form-control shadow-none text-black rounded-0 border-0 bg-white ms-2",style:{height:"45px"},required:""},null,-1),Le={type:"date",name:"status",class:"form-control shadow-none text-black rounded-0 border-0 bg-white ms-2",style:{height:"45px"}},ye=(0,o.Lk)("option",{value:""},"Select Status",-1),xe=(0,o.Lk)("button",{style:{height:"45px"},class:"default-outline-btn position-relative transition fw-medium text-black pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-30 pe-md-30 rounded-1 bg-transparent fs-md-15 fs-lg-16 d-inline-block mb-10 mb-lg-0 ms-10",type:"submit"},[(0,o.eW)(" Export"),(0,o.Lk)("i",{class:"flaticon-file-1 position-relative ms-5 top-2 fs-15"})],-1),we={class:"d-flex align-items-center"},Ae={class:"search-box position-relative me-15"},De=(0,o.Lk)("button",{type:"submit",class:"bg-transparent text-primary transition p-0 border-0"},[(0,o.Lk)("i",{class:"flaticon-search-interface-symbol"})],-1),_e=(0,o.Lk)("button",{class:"dot-btn lh-1 position-relative top-3 bg-transparent border-0 shadow-none p-0 transition d-inline-block",type:"button"},[(0,o.Lk)("i",{class:"flaticon-dots"})],-1),Ce={class:"card-body p-15 p-sm-20 p-md-25"},Pe={class:"table-responsive"},Fe={class:"table text-nowrap align-left mb-0"},Te={key:0,class:"px-0 py-3"},Ee={key:1},Be={key:0,class:"dropdown"},Re=(0,o.Lk)("button",{class:"dropdown-toggle lh-1 bg-transparent border-0 shadow-none p-0 transition",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[(0,o.Lk)("i",{class:"flaticon-dots"})],-1),Me={class:"dropdown-menu"},Se=["onClick"],Ne=(0,o.Lk)("i",{class:"flaticon-view lh-1 me-8 position-relative top-1"},null,-1),Ue=["onClick"],Ie=(0,o.Lk)("td",{class:"shadow-none lh-1 fw-medium text-body-tertiary text-start pe-0"},null,-1),Xe={class:"pagination-area d-md-flex mt-15 mt-sm-20 mt-md-25 justify-content-between align-items-center"},je={class:"mb-0 text-paragraph"},We={class:"fw-bold"},Oe={class:"fw-bold"},Ve={class:"mt-15 mt-md-0"},ze={class:"pagination mb-0"},Qe=["onClick"],He=(0,o.Lk)("i",{class:"flaticon-chevron"},null,-1),$e=[He],qe=["onClick"],Ke=(0,o.Lk)("i",{class:"flaticon-chevron-1"},null,-1),Je=[Ke],Ye=["onClick"];function Ge(e,t,a,s,l,i){return(0,o.uX)(),(0,o.CE)("div",ue,[(0,o.Lk)("div",pe,[(0,o.Lk)("div",be,[a.headAction?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"default-btn position-relative transition border-0 fw-medium text-white pt-11 pb-11 ps-25 pe-25 pt-md-12 pb-md-12 ps-md-30 pe-md-30 rounded-1 bg-success fs-md-15 fs-lg-16 d-inline-block me-10 mb-10 mb-lg-0 text-nowrap",type:"button",onClick:t[0]||(t[0]=(0,n.D$)(((...e)=>a.headAction&&a.headAction(...e)),["prevent"]))},[(0,o.eW)((0,v.v_)(a.headActionText?a.headActionText:"Create New Lead"),1),ke])):(0,o.Q3)("",!0),a.report&&a.webAccessToken?((0,o.uX)(),(0,o.CE)("form",{key:1,action:a.downloadReportUrl??"http://sapphire-api.digisparksolutions.ng/reports/download"},[(0,o.Lk)("div",he,[(0,o.bo)((0,o.Lk)("input",{type:"hidden",name:"report_type","onUpdate:modelValue":t[1]||(t[1]=e=>l.downloadForm.reportType=e)},null,512),[[n.Jo,l.downloadForm.reportType]]),(0,o.bo)((0,o.Lk)("input",{type:"hidden",name:"token","onUpdate:modelValue":t[2]||(t[2]=e=>l.downloadForm.token=e)},null,512),[[n.Jo,l.downloadForm.token]]),(0,o.bo)((0,o.Lk)("input",{type:"hidden",name:"action","onUpdate:modelValue":t[3]||(t[3]=e=>l.downloadForm.action=e)},null,512),[[n.Jo,l.downloadForm.action]]),ge,ve,(0,o.Lk)("select",Le,[ye,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.statusOptions,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e},(0,v.v_)(e),1)))),128))]),xe])],8,fe)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",we,[(0,o.Lk)("form",Ae,[(0,o.bo)((0,o.Lk)("input",{type:"text",onInput:t[4]||(t[4]=(...e)=>i.search&&i.search(...e)),"onUpdate:modelValue":t[5]||(t[5]=e=>l.query=e),class:"form-control shadow-none text-black rounded-0 border-0",placeholder:"Search"},null,544),[[n.Jo,l.query]]),De]),_e])]),(0,o.Lk)("div",Ce,[(0,o.Lk)("div",Pe,[(0,o.Lk)("table",Fe,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.tableHeaders,((e,t)=>((0,o.uX)(),(0,o.CE)("th",{key:t,class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13 pt-0 ps-0"},(0,v.v_)(e),1)))),128))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.tableData,((e,t)=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e,((t,s)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:s},[s<e.length-1?((0,o.uX)(),(0,o.CE)("td",Te,(0,v.v_)(t),1)):((0,o.uX)(),(0,o.CE)("td",Ee,[Array.isArray(a.viewDetails)?((0,o.uX)(),(0,o.CE)("div",Be,[Re,(0,o.Lk)("ul",Me,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.viewDetails.filter((e=>e.hasPermission)),(e=>((0,o.uX)(),(0,o.CE)("li",{key:e},[(0,o.Lk)("a",{class:"dropdown-item d-flex align-items-center",href:"javascript:void(0);",onClick:a=>e.method(t)},[Ne,(0,o.eW)(" "+(0,v.v_)(e?.buttonText),1)],8,Se)])))),128))])])):((0,o.uX)(),(0,o.CE)("a",{key:1,class:"dropdown-item d-flex align-items-center",href:"javascript:void(0);",onClick:(0,n.D$)((e=>a.viewDetails(t)),["prevent"])},[(0,o.Lk)("i",{class:(0,v.C4)(["lh-1 me-8 position-relative top-1",{"flaticon-plus":a.buttonText?.toLowerCase().includes("add"),"flaticon-edit":a.buttonText?.toLowerCase().includes("edit"),"flaticon-view":a.buttonText?.toLowerCase().includes("view")}])},null,2),(0,o.eW)(" "+(0,v.v_)(a.buttonText?a.buttonText:"View"),1)],8,Ue))]))],64)))),128)),Ie])))),128))])])]),(0,o.Lk)("div",Xe,[(0,o.Lk)("p",je,[(0,o.eW)(" Showing "),(0,o.Lk)("span",We,(0,v.v_)(a.propData.from),1),(0,o.eW)(" out of "),(0,o.Lk)("span",Oe,(0,v.v_)(a.propData.total),1),(0,o.eW)(" results ")]),(0,o.Lk)("nav",Ve,[(0,o.Lk)("ul",ze,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.propData.links,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{class:"page-item",key:e},[t==a.propData.links.length-1?((0,o.uX)(),(0,o.CE)("a",{key:0,class:"page-link",href:"#",onClick:(0,n.D$)((t=>a.callBack(e.url)),["prevent"]),"aria-label":"Previous"},$e,8,Qe)):0==t?((0,o.uX)(),(0,o.CE)("a",{key:1,class:"page-link",href:"#",onClick:(0,n.D$)((t=>a.callBack(e.url)),["prevent"]),"aria-label":"Previous"},Je,8,qe)):((0,o.uX)(),(0,o.CE)("a",{key:2,class:(0,v.C4)(["page-link",{active:e.active}]),href:"#",onClick:(0,n.D$)((t=>a.callBack(e.url)),["prevent"])},(0,v.v_)(e.label),11,Ye))])))),128))])])])])])}var Ze={name:"CustomTable",props:["propData","callBack","viewDetails","buttonText","headAction","headActionText","report","webAccessToken","webAction","downloadStatusOptions","downloadReportUrl"],data(){return{tableHeaders:[],tableData:[],mount:0,query:null,searchLocked:!1,statusOptions:[],downloadForm:{reportType:null,token:null,action:null}}},methods:{search(){this.searchLocked||(this.searchLocked=!0,setTimeout((()=>{this.callBack(null,this.query),this.searchLocked=!1}),2e3))}},updated(){this.propData&&Array.isArray(this.propData.headers)&&(this.tableHeaders=this.propData.headers),this.propData&&Array.isArray(this.propData.data)&&(this.tableData=this.propData.data),this.downloadForm.reportType=this.report,this.downloadForm.token=this.webAccessToken,this.downloadForm.action=this.webAction,this.statusOptions=this.downloadStatusOptions,console.log("rara rasputia",this.downloadForm.token)},mounted(){this.propData&&Array.isArray(this.propData.headers)&&(this.tableHeaders=this.propData.headers),this.propData&&Array.isArray(this.propData.data)&&(this.tableData=this.propData.data)}};const et=(0,R.A)(Ze,[["render",Ge]]);var tt=et,at=a(6141),st=(0,o.pM)({name:"DisbursedLoansPage",components:{BreadCrumb:me,CustomTable:tt},mounted(){at.A.disbursed().then((e=>{this.retrieveRecords(e)}))},mixins:[H.A],methods:{viewDetails(e){cD.push("/loans/"+e)},moreRecords(e,t){console.log("stop the madness",e),null!=e&&void 0!=typeof e&&at.A.moreRecords(e).then((e=>{this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&at.A.moreRecords(e,t).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user.first_name+" "+e.user.last_name,e.user.phone_number,this.formatNumber(e.amount),e.tenor.toString(),e?.loan_type?.name,e.organization_name,this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Amount","Tenor","Type","Organisation","Date Created"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}},data(){return{dataToPass:{}}}});const lt=(0,R.A)(st,[["render",te]]);var ot=lt;function nt(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{pageTitle:"All Loans"}),(0,o.bF)(d,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails,report:"loans",webAccessToken:e.webAccessToken,webAction:"download-loans-report",downloadStatusOptions:e.statusOptions,downloadReportUrl:"https://sapphire-api.digisparksolutions.ng/reports/download/credit"},null,8,["propData","callBack","viewDetails","webAccessToken","downloadStatusOptions"])],64)}var it={async setupDeduction(e){const t=l.A.getters["auth/token"];return J.A.put(`/api/admin/loans/deduction/${e}/setup`,{},{headers:{Authorization:"Bearer "+t["token"],"Content-Type":"application/json"}})},async repaymentMethods(){const e=l.A.getters["auth/token"];return J.A.get("/api/admin/repayment/methods",{headers:{Authorization:"Bearer "+e["token"]}})},async manualRepayment(e){const t=l.A.getters["auth/token"];return J.A.post("api/admin/deductions/repayment/manual",e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t["token"]}})},async payments(e="",t=null,a="",s="",o=""){const n=l.A.getters["auth/token"];return J.A.get(t??`api/admin/deductions/payments?q=${a}&status=${e}&loanId=${s}&paymentMethodId=${o}`,{headers:{Authorization:"Bearer "+n["token"]}})},async statusOptions(){const e=l.A.getters["auth/token"];return J.A.get("/api/admin/credit/status-options",{headers:{Authorization:"Bearer "+e["token"]}})},async deductionSchedule(e){const t=l.A.getters["auth/token"];return J.A.get(`/api/admin/deductions/${e}/schedule`,{headers:{Authorization:"Bearer "+t["token"]}})},async pendingDeductions(e,t=""){const a=l.A.getters["auth/token"];return J.A.get(e??`/api/admin/deductions/pending?q=${t}`,{headers:{Authorization:"Bearer "+a["token"]}})},async overdueDeductions(e,t=""){const a=l.A.getters["auth/token"];return J.A.get(e??`/api/admin/deductions/overdue?q=${t}`,{headers:{Authorization:"Bearer "+a["token"]}})},async allDeductions(e,t=""){const a=l.A.getters["auth/token"];return J.A.get(e??`/api/admin/deductions/all?q=${t}`,{headers:{Authorization:"Bearer "+a["token"]}})},async getPaymentMethods(){const e=l.A.getters["auth/token"];return J.A.get("api/admin/repayment/methods",{headers:{Authorization:"Bearer "+e["token"]}})},async uploadRepayments(e){const t=l.A.getters["auth/token"];return J.A.post("/api/admin/repayments/upload",e,{headers:{Authorization:"Bearer "+t["token"],"Content-Type":"multipart/form-data"}})},async createDeduction(e){const t=l.A.getters["auth/token"];return J.A.post("api/admin/deductions/repayment/manual",e,{headers:{Authorization:"Bearer "+t["token"]}})},async stopCollection(e){const t=l.A.getters["auth/token"];return J.A.post("api/admin/deductions/remita/stopLoanCollection",e,{headers:{Authorization:"Bearer "+t["token"]}})}},dt={async getRoles(){const e=l.A.getters["auth/token"];return J.A.get("api/admin/roles",{headers:{Authorization:"Bearer "+e["token"]}})},async getPermissions(){const e=l.A.getters["auth/token"];return J.A.get("api/admin/permissions",{headers:{Authorization:"Bearer "+e["token"]}})},async getWebAccess(e){const t=l.A.getters["auth/token"],a=J.A.post("api/admin/webAccessToken/issue",e,{headers:{Authorization:"Bearer "+t["token"]}});return a},async getUsers(e="no",t="",a=null){const s=l.A.getters["auth/token"];return J.A.get(a??`api/admin/users?q=${t}&isAdmin=${e}`,{headers:{Authorization:"Bearer "+s["token"]}})},async create(e){const t=l.A.getters["auth/token"];return J.A.post("api/admin/user/create",e,{headers:{Authorization:"Bearer "+t["token"]}})},async update(e){const t=l.A.getters["auth/token"];return J.A.patch(`api/admin/user/${e.id}/update`,e,{headers:{Authorization:"Bearer "+t["token"]}})},async userUpdate(e){const t=l.A.getters["auth/token"];return J.A.patch(`api/admin/user/profile/${e.id}/update`,e,{headers:{Authorization:"Bearer "+t["token"]}})},async createRole(e){const t=l.A.getters["auth/token"];return J.A.post("api/admin/roles/create",e,{headers:{Authorization:"Bearer "+t["token"]}})},async updateRole(e){const t=l.A.getters["auth/token"];return J.A.patch(`api/admin/roles/${e.id}/update`,e,{headers:{Authorization:"Bearer "+t["token"]}})}},rt=(0,o.pM)({name:"LoansPage",components:{BreadCrumb:me,CustomTable:tt},data(){return{dataToPass:{},webAccessToken:null,statusOptions:null}},mounted(){at.A.allLoans().then((e=>{this.retrieveRecords(e)})),this.downloadReport&&dt.getWebAccess({action:"download-loans-report"}).then((e=>{this.webAccessToken=e.data?.data?.token,console.log("web acCESS",this.webAccessToken)})),it.statusOptions().then((e=>{this.statusOptions=e.data.data}))},computed:{downloadReport(){return this.hasAnyPermission(["download-loans-report"])}},mixins:[H.A],methods:{viewDetails(e){cD.push("/loans/"+e)},moreRecords(e,t){console.log("stop the madness",e),null!=e&&void 0!=typeof e&&at.A.moreRecords(e).then((e=>{this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&at.A.moreRecords(e,t).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[(e.user?.first_name??"")+" "+(e.user?.last_name??""),e.user?.phone_number,this.formatNumber(e.amount),e.tenor.toString(),e?.loan_type?.name,e?.application_type,e.organization_name,this.formatDate(e.created_at),e.status,e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Amount","Tenor","Platform","Type","Organisation","Date Created","STATUS"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}}});const ct=(0,R.A)(rt,[["render",nt]]);var mt=ct;const ut={class:"row"},pt={class:"col-12 my-3",style:{"text-align":"right"}},bt={key:0,class:"btn btn-md border border-danger text-danger mx-2 mb-3","data-bs-toggle":"modal","data-bs-target":"#rejectLoanModal"},kt={key:1,class:"btn btn-md border border-success text-success mx-2 mb-3","data-bs-toggle":"modal","data-bs-target":"#approveModal"},ft={key:2,class:"btn btn-md border border-success text-success mx-2 mb-3","data-bs-toggle":"modal","data-bs-target":"#deductionSetupModal"},ht={key:3,class:"btn btn-md border border-success text-success mx-2 mb-3","data-bs-toggle":"modal","data-bs-target":"#manualDisbursementModal"},gt={key:4,class:"btn btn-md border border-secondary text-secondary mx-2 mb-3","data-bs-toggle":"modal","data-bs-target":"#uploadAudioModal"},vt={class:"row"},Lt={class:"col-lg-12 col-xl-12 col-xxl-6"},yt={class:"card mb-25 border-0 rounded-0 bg-white order-details-box letter-spacing"},xt={class:"card-head bg-white d-flex align-items-center"},wt=(0,o.Lk)("i",{class:"flaticon-sterile-box text-primary"},null,-1),At={class:"mb-0 fw-bold text-black ms-10 ms-md-15"},Dt={class:"card-body"},_t={class:"list ps-0 mb-0 list-unstyled"},Ct={class:"d-flex align-items-center justify-content-between"},Pt=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-calendar"}),(0,o.eW)(" Data Created: ")],-1),Ft={class:"d-block text-paragraph fs-md-15 fs-lg-16"},Tt={key:0,class:"d-flex align-items-center justify-content-between"},Et=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-atm"}),(0,o.eW)(" Device Details: ")],-1),Bt={class:"d-block text-paragraph fs-md-15 fs-lg-16"},Rt={key:1,class:"d-flex align-items-center justify-content-between"},Mt=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-atm"}),(0,o.eW)(" Device Pickup Location: ")],-1),St={class:"d-block text-paragraph fs-md-15 fs-lg-16"},Nt={class:"d-flex align-items-center justify-content-between"},Ut=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-atm"}),(0,o.eW)(" Marketer: ")],-1),It={class:"d-block text-paragraph fs-md-15 fs-lg-16"},Xt={class:"d-flex align-items-center justify-content-between"},jt=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-express-delivery"}),(0,o.eW)(" Referral Code: ")],-1),Wt={class:"d-block text-paragraph fs-md-15 fs-lg-16"},Ot={class:"d-flex align-items-center justify-content-between"},Vt=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-express-delivery"}),(0,o.eW)(" Status: ")],-1),zt={class:"d-block text-paragraph fs-md-15 fs-lg-16"},Qt={class:"d-flex align-items-center justify-content-between"},Ht=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-express-delivery"}),(0,o.eW)(" Digisign Email: ")],-1),$t={class:"d-block text-paragraph fs-md-15 fs-lg-16"},qt={class:"d-flex align-items-center justify-content-between"},Kt=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-express-delivery"}),(0,o.eW)(" Digisign Link: ")],-1),Jt={class:"d-block fs-md-15 fs-lg-16"},Yt={style:{width:"300px"},class:"d-flex align-items-baseline"},Gt={class:"text-truncate flex-grow-1"},Zt={class:"flex-shrink-0"},ea={class:"d-flex align-items-center justify-content-between"},ta=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-express-delivery"}),(0,o.eW)(" Digisign Verification: ")],-1),aa={class:"d-block text-paragraph fs-md-15 fs-lg-16"},sa={key:2,class:"d-flex align-items-center justify-content-between"},la=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-warning"}),(0,o.eW)(" Rejection Reason: ")],-1),oa={class:"d-block text-paragraph fs-md-15 fs-lg-16"},na={class:"col-lg-6 col-xl-12 col-xxl-6"},ia={class:"card mb-25 border-0 rounded-0 bg-white order-details-box letter-spacing"},da=(0,o.Lk)("div",{class:"card-head bg-white d-flex align-items-center"},[(0,o.Lk)("i",{class:"flaticon-user-3 text-success"}),(0,o.Lk)("h5",{class:"mb-0 fw-bold text-black ms-10 ms-md-15"}," Customer Details ")],-1),ra={class:"card-body"},ca={class:"list ps-0 mb-0 list-unstyled"},ma={class:"d-flex align-items-center justify-content-between"},ua=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-user-1"}),(0,o.eW)(" Title: ")],-1),pa={class:"d-block text-paragraph fs-md-15 fs-lg-16"},ba={class:"d-flex align-items-center justify-content-between"},ka=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-envelope"}),(0,o.eW)(" First Name: ")],-1),fa={class:"d-block text-paragraph fs-md-15 fs-lg-16"},ha={class:"d-flex align-items-center justify-content-between"},ga=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-envelope"}),(0,o.eW)(" Last Name: ")],-1),va={class:"d-block text-paragraph fs-md-15 fs-lg-16"},La={class:"d-flex align-items-center justify-content-between"},ya=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-phone-call"}),(0,o.eW)(" Gender: ")],-1),xa={class:"d-block text-paragraph fs-md-15 fs-lg-16"},wa={class:"d-flex align-items-center justify-content-between"},Aa=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-phone-call"}),(0,o.eW)(" Date of Bith: ")],-1),Da={class:"d-block text-paragraph fs-md-15 fs-lg-16"},_a={key:0},Ca=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-phone-call"}),(0,o.eW)(" Authorization Audio: ")],-1),Pa={class:"d-block text-paragraph fs-md-15 fs-lg-16"},Fa=["src"],Ta={key:1,class:"d-flex align-items-center justify-content-between"},Ea=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-document"}),(0,o.eW)(" Valid ID: ")],-1),Ba=(0,o.Lk)("div",{class:"d-inline-block"},null,-1),Ra={key:2,class:"d-flex align-items-center justify-content-between"},Ma=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-document"}),(0,o.eW)(" Staff ID: ")],-1),Sa={class:"col-lg-6 col-xl-12 col-xxl-6"},Na={class:"card mb-25 border-0 rounded-0 bg-white order-details-box letter-spacing"},Ua=(0,o.Lk)("div",{class:"card-head bg-white d-flex align-items-center"},[(0,o.Lk)("i",{class:"flaticon-document text-info"}),(0,o.Lk)("h5",{class:"mb-0 fw-bold text-black ms-10 ms-md-15"},"Work Information")],-1),Ia={class:"card-body"},Xa={class:"list ps-0 mb-0 list-unstyled"},ja={class:"d-flex align-items-center justify-content-between"},Wa=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-copy"}),(0,o.eW)(" Organization Name: ")],-1),Oa={class:"d-block fs-md-15 fs-lg-16"},Va={class:"d-flex align-items-center justify-content-between"},za=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-express-delivery"}),(0,o.eW)(" IPPIS No: ")],-1),Qa={class:"d-block text-primary fs-md-15 fs-lg-16"},Ha={class:"d-flex align-items-center justify-content-between"},$a=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-shield"}),(0,o.eW)(" Salary Bank Name: ")],-1),qa={class:"d-block text-paragraph fs-md-15 fs-lg-16"},Ka={class:"d-flex align-items-center justify-content-between"},Ja=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-shield"}),(0,o.eW)(" Salary Bank Account: ")],-1),Ya={class:"d-block text-paragraph fs-md-15 fs-lg-16"},Ga={class:"col-lg-6 col-xl-12 col-xxl-6"},Za={class:"card mb-25 border-0 rounded-0 bg-white order-details-box letter-spacing"},es=(0,o.Lk)("div",{class:"card-head bg-white d-flex align-items-center"},[(0,o.Lk)("i",{class:"flaticon-phone text-info"}),(0,o.Lk)("h5",{class:"mb-0 fw-bold text-black ms-10 ms-md-15"},"Contact Information")],-1),ts={class:"card-body"},as={class:"list ps-0 mb-0 list-unstyled"},ss={class:"d-flex align-items-center justify-content-between"},ls=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-copy"}),(0,o.eW)(" Email: ")],-1),os={class:"d-block text-primary fs-md-15 fs-lg-16"},ns={class:"d-flex align-items-center justify-content-between"},is=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-express-delivery"}),(0,o.eW)(" House Address: ")],-1),ds={class:"d-block fs-md-15 fs-lg-16"},rs={class:"d-flex align-items-center justify-content-between"},cs=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-express-delivery"}),(0,o.eW)(" City: ")],-1),ms={class:"d-block fs-md-15 fs-lg-16"},us={class:"d-flex align-items-center justify-content-between"},ps=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-express-delivery"}),(0,o.eW)(" State: ")],-1),bs={class:"d-block fs-md-15 fs-lg-16"},ks={class:"d-flex align-items-center justify-content-between"},fs=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"},[(0,o.Lk)("i",{class:"flaticon-express-delivery"}),(0,o.eW)(" Personal Phone: ")],-1),hs={class:"d-block fs-md-15 fs-lg-16"},gs={class:"mt-5 mb-40"},vs={key:0},Ls={class:"row"},ys={class:"col-lg-6 col-xxxl-3"},xs={class:"card mb-25 border-0 rounded-0 bg-white order-details-box letter-spacing"},ws=(0,o.Lk)("div",{class:"card-head"},[(0,o.Lk)("h5",{class:"mb-0 fw-bold text-white"},"RSP Details")],-1),As={class:"card-body"},Ds={class:"list ps-0 mb-0 list-unstyled"},_s={class:"d-flex align-items-center justify-content-between"},Cs=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," Remita Name: ",-1),Ps={class:"d-block fs-md-15 fs-lg-16"},Fs={class:"d-flex align-items-center justify-content-between"},Ts=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," Remita MDA: ",-1),Es={class:"d-block fs-md-15 fs-lg-16"},Bs={class:"d-flex align-items-center justify-content-between"},Rs=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," Salary Bank Name: ",-1),Ms={class:"d-block fs-md-15 fs-lg-16"},Ss={class:"d-flex align-items-center justify-content-between"},Ns=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," Salary Account Number: ",-1),Us={class:"d-block fs-md-15 fs-lg-16"},Is={class:"d-flex align-items-center justify-content-between"},Xs=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," BVN: ",-1),js={class:"d-block fs-md-15 fs-lg-16"},Ws={class:"d-flex align-items-center justify-content-between"},Os=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," Verified Remita Name: ",-1),Vs={class:"d-block fs-md-15 fs-lg-16"},zs={class:"col-lg-6 col-xxxl-3"},Qs=(0,o.Lk)("div",{class:"card-head"},[(0,o.Lk)("h5",{class:"mb-0 fw-bold text-white"},"Request Details")],-1),Hs={class:"card-body"},$s={class:"list ps-0 mb-0 list-unstyled"},qs={class:"d-flex align-items-center justify-content-between"},Ks=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Amount: ",-1),Js={class:"d-block fs-md-15 fs-lg-16"},Ys={class:"d-flex align-items-center justify-content-between"},Gs=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Tenor: ",-1),Zs={class:"d-block fs-md-15 fs-lg-16"},el={class:"d-flex align-items-center justify-content-between"},tl=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Monthly Repayment: ",-1),al={class:"d-block fs-md-15 fs-lg-16"},sl={class:"d-flex align-items-center justify-content-between"},ll=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Average Net Pay: ",-1),ol={class:"d-block fs-md-15 fs-lg-16"},nl={class:"d-flex align-items-center justify-content-between"},il=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Other Deductions: ",-1),dl={class:"d-block fs-md-15 fs-lg-16"},rl={class:"d-flex align-items-center justify-content-between"},cl=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Remita Loan: ",-1),ml={class:"d-block fs-md-15 fs-lg-16"},ul={class:"d-flex align-items-center justify-content-between"},pl=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Disposable Income: ",-1),bl={class:"d-block fs-md-15 fs-lg-16"},kl={class:"col-lg-8"},fl={class:"card mb-25 border-0 rounded-0 bg-white order-details-box letter-spacing"},hl=(0,o.Lk)("div",{class:"card-head bg-white d-flex align-items-center"},[(0,o.Lk)("i",{class:"flaticon-sterile-box text-primary"}),(0,o.Lk)("h5",{class:"mb-0 fw-bold text-black ms-10 ms-md-15"}," RSP Loan Details ")],-1),gl={class:"card-body"},vl={class:"table-responsive"},Ll={class:"table text-nowrap align-middle mb-0"},yl=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13 ps-0"}," Provider "),(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13 ps-0"}," Status "),(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13"}," Outstanding Amount "),(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13"}," Date "),(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13 pe-0"}," Repayment Amount "),(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13 pe-0"}," Loan Amount ")])],-1),xl={class:"shadow-none lh-1 fw-medium text-paragraph"},wl={class:"shadow-none lh-1 fw-medium text-paragraph"},Al={class:"shadow-none lh-1 fw-medium text-paragraph"},Dl={class:"shadow-none lh-1 fw-medium text-paragraph"},_l={class:"shadow-none lh-1 fw-medium text-paragraph"},Cl={class:"shadow-none lh-1 fw-medium text-paragraph pe-0"},Pl={class:"col-lg-4"},Fl={class:"card mb-25 border-0 rounded-0 bg-white order-details-box letter-spacing"},Tl=(0,o.Lk)("div",{class:"card-head bg-white d-flex align-items-center"},[(0,o.Lk)("i",{class:"flaticon-document text-info"}),(0,o.Lk)("h5",{class:"mb-0 fw-bold text-black ms-10 ms-md-15"},"RSP Salary Details")],-1),El={class:"card-body"},Bl={class:"order-summary-list ps-0 mb-0 list-unstyled"},Rl=(0,o.Lk)("li",{class:"d-flex align-items-center justify-content-between"},[(0,o.Lk)("span",{class:"d-block text-muted text-uppercase fw-medium fs-13"}," AMOUNT "),(0,o.Lk)("span",{class:"d-block text-muted text-uppercase fw-medium fs-13"}," PAYMENT DATE ")],-1),Ml={class:"d-block text-black fs-md-15 fs-lg-16 fw-medium"},Sl={class:"d-block text-paragraph fw-medium"},Nl={class:"modal fade modal-lg",id:"rejectLoanModal","data-bs-keyboard":"false",tabindex:"-1","aria-hidden":"true"},Ul={class:"modal-dialog"},Il={class:"modal-content"},Xl=(0,o.Fv)('<div class="modal-header"><h1 class="modal-title fs-5">Reject Loan</h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><p class="fs-md-16 fs-lg-18">Are you sure you want to reject this loan?</p></div>',2),jl={class:"modal-footer"},Wl=(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Nevermind ",-1),Ol={class:"modal fade modal-lg confirmDeductionSetupModal",id:"confirmDeductionSetupModal","data-bs-keyboard":"false",tabindex:"-1","aria-hidden":"true"},Vl={class:"modal-dialog"},zl={class:"modal-content"},Ql=(0,o.Fv)('<div class="modal-header"><h1 class="modal-title fs-5">Confirm Loan Deduction Setup</h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><p class="fs-md-16 fs-lg-18">Are you sure you want to setup loan deduction for this loan?</p></div>',2),Hl={class:"modal-footer"},$l=(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Nevermind ",-1),ql=(0,o.Lk)("button",{class:"invisible",id:"confirmDeductionSetupModalButton","data-bs-toggle":"modal","data-bs-target":"#confirmDeductionSetupModal"},null,-1),Kl={class:"modal fade manualDisbursementModal",id:"manualDisbursementModal",tabindex:"-1","aria-hidden":"true"},Jl={class:"modal-dialog modal-dialog-centered"},Yl={class:"modal-content p-15 p-md-40"},Gl=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Manual Dibursement")],-1),Zl={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},eo={class:"row"},to={class:"col-lg-12 col-md-12"},ao={class:"form-group mb-15 mb-md-25"},so=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Payment Reference ",-1),lo={class:"col-lg-12 col-md-12"},oo={class:"form-group mb-15 mb-md-25"},no=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Remark ",-1),io=["disabled"],ro=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),co=(0,o.Lk)("button",{class:"invisible",id:"repaymentModalButton","data-bs-toggle":"modal","data-bs-target":"#createManualRepayment"},null,-1),mo={class:"modal fade confirmDevicePickupModal",id:"confirmDevicePickupModal",tabindex:"-1","aria-hidden":"true"},uo={class:"modal-dialog modal-dialog-centered"},po={class:"modal-content p-15 p-md-40"},bo=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Device Pickup Verification")],-1),ko={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},fo={class:"row"},ho={class:"col-lg-12 col-md-12"},go={class:"form-group mb-15 mb-md-25"},vo=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Enter OTP sent to Customer ",-1),Lo=["disabled"],yo=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),xo=(0,o.Lk)("button",{class:"invisible",id:"confirmPickupModalButton","data-bs-toggle":"modal","data-bs-target":"#confirmDevicePickupModal"},null,-1),wo={class:"modal fade modal-lg",id:"approveModal","data-bs-keyboard":"false",tabindex:"-1","aria-hidden":"true"},Ao={class:"modal-dialog"},Do={class:"modal-content"},_o=(0,o.Fv)('<div class="modal-header"><h1 class="modal-title fs-5">Approve Loan</h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><p class="fs-md-16 fs-lg-18">Are you sure you want to approve this loan?</p></div>',2),Co={class:"modal-footer"},Po=(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Nevermind ",-1),Fo={class:"modal fade modal-lg deductionSetupModal",id:"deductionSetupModal","data-bs-keyboard":"false",tabindex:"-1","aria-hidden":"true"},To={class:"modal-dialog"},Eo={class:"modal-content"},Bo=(0,o.Lk)("div",{class:"modal-header"},[(0,o.Lk)("h1",{class:"modal-title fs-5"},"Setup Deduction"),(0,o.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ro={class:"modal-body"},Mo=(0,o.Fv)('<div class="row"><div class="col-md-12"><div class="form-group mb-15 mb-sm-20 mb-md-25"><label class="d-block text-black fw-semibold mb-10"> Service Provider </label><select class="form-control shadow-none rounded-0 text-black"><option value="">Select</option><option value="remita">Remita</option></select></div></div><div class="col-md-12"><button class="default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16 bg-success" type="submit"> Submit </button></div></div>',1),So=[Mo],No=(0,o.Lk)("div",{class:"modal-footer"},[(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close ")],-1),Uo={class:"modal fade uploadAudioModal",id:"uploadAudioModal",ref:"uploadAudioModal",tabindex:"-1","aria-hidden":"true"},Io={class:"modal-dialog modal-dialog-centered"},Xo={class:"modal-content p-15 p-md-40"},jo=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Upload Audio Modal")],-1),Wo={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Oo=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Vo={class:"modal fade uploadLoanFileModal",id:"uploadLoanFileModal",ref:"uploadLoanFileModal",tabindex:"-1","aria-hidden":"true"},zo={class:"modal-dialog modal-dialog-centered"},Qo={class:"modal-content p-15 p-md-40"},Ho=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Update Loan File")],-1),$o={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},qo=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ko=(0,o.Lk)("button",{class:"invisible",id:"uploadLoanFileModalButton","data-bs-toggle":"modal","data-bs-target":"#uploadLoanFileModal"},null,-1),Jo={class:"modal fade displayDocumentModal",id:"displayDocumentModal",ref:"displayDocumentModal",tabindex:"-1","aria-hidden":"true"},Yo={class:"modal-dialog modal-dialog-centered"},Go={class:"modal-content p-15 p-md-40"},Zo=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"View Document")],-1),en={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25 text-center"},tn=["data"],an=["href"],sn=["src"],ln=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),on=(0,o.Lk)("button",{class:"invisible",id:"documentModalButton","data-bs-toggle":"modal","data-bs-target":"#displayDocumentModal"},null,-1);function nn(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("audio-upload"),c=(0,o.g2)("loan-file-upload");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(d,{pageTitle:"Loan"}),(0,o.Lk)("div",null,[(0,o.Lk)("div",ut,[(0,o.Lk)("div",pt,["pending_approval"!=e.loan?.status&&"pending_customer_confirmation"!=e.loan?.status&&!e.loan?.can_force_reject||!e.hasAnyPermission(["approve-loan"])&&!e.hasAnyPermission(["reject-loan"])?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("button",bt,"Reject Loan")),"pending_approval"==e.loan?.status&&e.hasAnyPermission(["approve-loan"])?((0,o.uX)(),(0,o.CE)("button",kt,"Approve Loan")):(0,o.Q3)("",!0),"pending_deduction_setup"==e.loan?.status&&e.hasAnyPermission(["setup-deduction"])?((0,o.uX)(),(0,o.CE)("button",ft,"Setup Deduction")):(0,o.Q3)("",!0),"pending_disbursement"==e.loan?.status&&e.hasAnyPermission(["disburse-loan"])?((0,o.uX)(),(0,o.CE)("button",ht,"Disburse Loan")):(0,o.Q3)("",!0),"pending_customer_confirmation"==e.loan?.status&&e.hasAnyPermission(["edit-loan"])||"pending_approval"==e.loan?.status&&e.hasAnyPermission(["edit-loan-file"])?((0,o.uX)(),(0,o.CE)("button",gt,"Upload Video/Audio")):(0,o.Q3)("",!0),"pending_pickup"==e.loan?.status&&e.hasAnyPermission(["process-device-pickup"])?((0,o.uX)(),(0,o.CE)("button",{key:5,class:"btn btn-md border border-success text-success mx-2 mb-3",onClick:t[0]||(t[0]=(...t)=>e.sendDevicePickupOTP&&e.sendDevicePickupOTP(...t))}," Confirm Device Pickup")):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",vt,[(0,o.Lk)("div",Lt,[(0,o.Lk)("div",yt,[(0,o.Lk)("div",xt,[wt,(0,o.Lk)("h5",At," Loan Details (Ref "+(0,v.v_)(e.loan?.reference)+") ",1)]),(0,o.Lk)("div",Dt,[(0,o.Lk)("ul",_t,[(0,o.Lk)("li",Ct,[Pt,(0,o.Lk)("span",Ft,(0,v.v_)(e.formatDateTime(e.loan?.created_at)),1)]),e.loan.product?((0,o.uX)(),(0,o.CE)("li",Tt,[Et,(0,o.Lk)("span",Bt,(0,v.v_)(e.loan?.product?.name??""),1)])):(0,o.Q3)("",!0),e.loan.pick_up_location?((0,o.uX)(),(0,o.CE)("li",Rt,[Mt,(0,o.Lk)("span",St,(0,v.v_)(e.loan?.pick_up_location??"")+", "+(0,v.v_)(e.loan?.state?.name??"")+" State ",1)])):(0,o.Q3)("",!0),(0,o.Lk)("li",Nt,[Ut,(0,o.Lk)("span",It,(0,v.v_)(e.loan?.referrer?.first_name??"System")+" "+(0,v.v_)(e.loan?.referrer?.last_name??"User"),1)]),(0,o.Lk)("li",Xt,[jt,(0,o.Lk)("span",Wt,(0,v.v_)(e.loan?.referral_code??"N/A"),1)]),(0,o.Lk)("li",Ot,[Vt,(0,o.Lk)("span",zt,(0,v.v_)(e.loan?.status?.toUpperCase()),1)]),(0,o.Lk)("li",Qt,[Ht,(0,o.Lk)("span",$t,(0,v.v_)(e.loan?.document_link?"Yes":"No"),1)]),(0,o.Lk)("li",qt,[Kt,(0,o.Lk)("span",Jt,[(0,o.Lk)("div",Yt,[(0,o.Lk)("div",Gt,(0,v.v_)(e.loan?.document_link)+"...",1),(0,o.Lk)("div",Zt,[(0,o.Lk)("i",{style:{cursor:"pointer"},onClick:t[1]||(t[1]=t=>e.copyText(e.loan?.document_link)),class:"flaticon-copy p-2 cursor"})])])])]),(0,o.Lk)("li",ea,[ta,(0,o.Lk)("span",aa,(0,v.v_)(e.loan?.document_id?"Yes":"No"),1)]),e.loan.rejection_reason?((0,o.uX)(),(0,o.CE)("li",sa,[la,(0,o.Lk)("span",oa,(0,v.v_)(e.loan.rejection_reason),1)])):(0,o.Q3)("",!0)])])])]),(0,o.Lk)("div",na,[(0,o.Lk)("div",ia,[da,(0,o.Lk)("div",ra,[(0,o.Lk)("ul",ca,[(0,o.Lk)("li",ma,[ua,(0,o.Lk)("span",pa,(0,v.v_)(e.loan?.user?.title),1)]),(0,o.Lk)("li",ba,[ka,(0,o.Lk)("span",fa,(0,v.v_)(e.loan?.user?.first_name),1)]),(0,o.Lk)("li",ha,[ga,(0,o.Lk)("span",va,(0,v.v_)(e.loan?.user?.last_name),1)]),(0,o.Lk)("li",La,[ya,(0,o.Lk)("span",xa,(0,v.v_)(e.loan?.user?.gender),1)]),(0,o.Lk)("li",wa,[Aa,(0,o.Lk)("span",Da,(0,v.v_)(e.formatDate(e.loan?.user?.date_of_birth)),1)]),e.loan?.authorization_file_link?((0,o.uX)(),(0,o.CE)("li",_a,[Ca,(0,o.Lk)("span",Pa,[(0,o.Lk)("audio",{class:"my-3",controls:"true",autobuffer:"autobuffer",src:e.loan?.authorization_file_link,controlsList:"nodownload"},null,8,Fa),(0,o.eW)("> ")])])):(0,o.Q3)("",!0),e.loan?.valid_id_file_link?((0,o.uX)(),(0,o.CE)("li",Ta,[Ea,Ba,(0,o.Lk)("div",null,[e.hasAnyPermission(["edit-loan-file"])?((0,o.uX)(),(0,o.CE)("a",{key:0,class:"d-inline-block fs-md-15 fs-lg-16 text-danger text-decoration-none mx-3",href:"#",onClick:t[2]||(t[2]=(0,n.D$)((t=>e.showUpdateFileModal(e.fileName(e.loan?.valid_id_file))),["prevent"]))}," Edit File ")):(0,o.Q3)("",!0),(0,o.Lk)("a",{class:"d-inline-block fs-md-15 fs-lg-16 text-primary text-decoration-none",href:"#",onClick:t[3]||(t[3]=(0,n.D$)((t=>e.showDocumentModal(e.loan?.valid_id_file_link)),["prevent"]))}," View File ")])])):(0,o.Q3)("",!0),e.loan?.staff_id_file_link?((0,o.uX)(),(0,o.CE)("li",Ra,[Ma,(0,o.Lk)("div",null,[e.hasAnyPermission(["edit-loan-file"])?((0,o.uX)(),(0,o.CE)("a",{key:0,class:"d-inline-block fs-md-15 fs-lg-16 text-danger text-decoration-none mx-3",href:"#",onClick:t[4]||(t[4]=(0,n.D$)((t=>e.showUpdateFileModal(e.fileName(e.loan?.staff_id_file))),["prevent"]))}," Edit File ")):(0,o.Q3)("",!0),(0,o.Lk)("a",{class:"d-inline-block fs-md-15 fs-lg-16 text-primary text-decoration-none",href:"#",onClick:t[5]||(t[5]=(0,n.D$)((t=>e.showDocumentModal(e.loan?.staff_id_file_link)),["prevent"]))}," View File ")])])):(0,o.Q3)("",!0)])])])]),(0,o.Lk)("div",Sa,[(0,o.Lk)("div",Na,[Ua,(0,o.Lk)("div",Ia,[(0,o.Lk)("ul",Xa,[(0,o.Lk)("li",ja,[Wa,(0,o.Lk)("span",Oa,(0,v.v_)(e.loan?.organization_name),1)]),(0,o.Lk)("li",Va,[za,(0,o.Lk)("span",Qa,(0,v.v_)(e.loan?.user?.ippis_number),1)]),(0,o.Lk)("li",Ha,[$a,(0,o.Lk)("span",qa,(0,v.v_)(e.loan?.salary_bank),1)]),(0,o.Lk)("li",Ka,[Ja,(0,o.Lk)("span",Ya,(0,v.v_)(e.loan?.salary_account_number),1)])])])])]),(0,o.Lk)("div",Ga,[(0,o.Lk)("div",Za,[es,(0,o.Lk)("div",ts,[(0,o.Lk)("ul",as,[(0,o.Lk)("li",ss,[ls,(0,o.Lk)("span",os,(0,v.v_)(e.loan?.user?.email),1)]),(0,o.Lk)("li",ns,[is,(0,o.Lk)("span",ds,(0,v.v_)(e.loan?.address),1)]),(0,o.Lk)("li",rs,[cs,(0,o.Lk)("span",ms,(0,v.v_)(e.loan?.city),1)]),(0,o.Lk)("li",us,[ps,(0,o.Lk)("span",bs,(0,v.v_)(e.loan?.state?.name),1)]),(0,o.Lk)("li",ks,[fs,(0,o.Lk)("span",hs,(0,v.v_)(e.loan?.user?.phone_number),1)])])])])]),(0,o.Lk)("div",gs,[(0,o.Lk)("button",{onClick:t[6]||(t[6]=(...t)=>e.affordabilityCheck&&e.affordabilityCheck(...t)),class:"btn btn-border text-primary border border-primary border-2 btn-md btn-b w-48"},(0,v.v_)(e.checkingAffordability?"Please Wait...":"Verification Affordability"),1)]),Object.keys(e.affordabilityData).length?((0,o.uX)(),(0,o.CE)("div",vs,[(0,o.Lk)("div",Ls,[(0,o.Lk)("div",ys,[(0,o.Lk)("div",xs,[ws,(0,o.Lk)("div",As,[(0,o.Lk)("ul",Ds,[(0,o.Lk)("li",_s,[Cs,(0,o.Lk)("span",Ps,(0,v.v_)(e.affordabilityData.remitaSearchData?.customerName),1)]),(0,o.Lk)("li",Fs,[Ts,(0,o.Lk)("span",Es,(0,v.v_)(e.affordabilityData.remitaSearchData?.companyName),1)]),(0,o.Lk)("li",Bs,[Rs,(0,o.Lk)("span",Ms,(0,v.v_)(e.loan?.bank_name),1)]),(0,o.Lk)("li",Ss,[Ns,(0,o.Lk)("span",Us,(0,v.v_)(e.affordabilityData.remitaSearchData?.accountNumber),1)]),(0,o.Lk)("li",Is,[Xs,(0,o.Lk)("span",js,(0,v.v_)(e.affordabilityData.remitaSearchData?.bvn),1)]),(0,o.Lk)("li",Ws,[Os,(0,o.Lk)("span",Vs,(0,v.v_)(e.affordabilityData.remitaSearchData?.customerName),1)])])])])]),(0,o.Lk)("div",zs,[(0,o.Lk)("div",{class:(0,v.C4)(["card mb-25 border-0 rounded-0 order-details-box letter-spacing text-white",{"bg-success":e.affordabilityData.affordabilityCheckData?.customerQualificationStatus,"bg-danger":!e.affordabilityData.affordabilityCheckData?.customerQualificationStatus}])},[Qs,(0,o.Lk)("div",Hs,[(0,o.Lk)("ul",$s,[(0,o.Lk)("li",qs,[Ks,(0,o.Lk)("span",Js,(0,v.v_)(e.formatNumber(e.affordabilityData?.affordabilityCheckData?.amount)),1)]),(0,o.Lk)("li",Ys,[Gs,(0,o.Lk)("span",Zs,(0,v.v_)(e.affordabilityData.affordabilityCheckData?.tenor)+" Months",1)]),(0,o.Lk)("li",el,[tl,(0,o.Lk)("span",al,(0,v.v_)(e.formatNumber(e.affordabilityData.affordabilityCheckData?.monthlyRepayment)),1)]),(0,o.Lk)("li",sl,[ll,(0,o.Lk)("span",ol,(0,v.v_)(e.formatNumber(e.affordabilityData.affordabilityCheckData?.netPay)),1)]),(0,o.Lk)("li",nl,[il,(0,o.Lk)("span",dl,(0,v.v_)(e.affordabilityData.affordabilityCheckData?.otherDeductions),1)]),(0,o.Lk)("li",rl,[cl,(0,o.Lk)("span",ml,(0,v.v_)(e.affordabilityData.affordabilityCheckData?.remitaLoan),1)]),(0,o.Lk)("li",ul,[pl,(0,o.Lk)("span",bl,(0,v.v_)(e.formatNumber(e.affordabilityData.affordabilityCheckData?.disposableIncome)),1)])])])],2)]),(0,o.Lk)("div",kl,[(0,o.Lk)("div",fl,[hl,(0,o.Lk)("div",gl,[(0,o.Lk)("div",vl,[(0,o.Lk)("table",Ll,[yl,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.affordabilityData?.remitaLoanData,(t=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",xl,(0,v.v_)(t.loanProvider),1),(0,o.Lk)("td",wl,(0,v.v_)(t.status),1),(0,o.Lk)("td",Al,(0,v.v_)(e.formatNumber(t.outstandingAmount)),1),(0,o.Lk)("td",Dl,(0,v.v_)(t.loanDisbursementDate.split(" ")[0]),1),(0,o.Lk)("td",_l,(0,v.v_)(e.formatNumber(t.repaymentAmount)),1),(0,o.Lk)("td",Cl,(0,v.v_)(e.formatNumber(t.loanAmount)),1)])))),128))])])])])])]),(0,o.Lk)("div",Pl,[(0,o.Lk)("div",Fl,[Tl,(0,o.Lk)("div",El,[(0,o.Lk)("ul",Bl,[Rl,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.affordabilityData?.remitaSearchData?.salaryPaymentDetails,(t=>((0,o.uX)(),(0,o.CE)("li",{class:"d-flex align-items-center justify-content-between",key:t},[(0,o.Lk)("span",Ml,(0,v.v_)(e.formatNumber(t?.amount)),1),(0,o.Lk)("span",Sl,(0,v.v_)(t?.paymentDate),1)])))),128))])])])])])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",Nl,[(0,o.Lk)("div",Ul,[(0,o.Lk)("div",Il,[Xl,(0,o.Lk)("div",jl,[Wl,(0,o.Lk)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:t[7]||(t[7]=(...t)=>e.reject&&e.reject(...t))}," Reject ")])])])]),(0,o.Lk)("div",Ol,[(0,o.Lk)("div",Vl,[(0,o.Lk)("div",zl,[Ql,(0,o.Lk)("div",Hl,[$l,(0,o.Lk)("button",{type:"button",class:"btn btn-success","data-bs-dismiss":"modal",onClick:t[8]||(t[8]=(...t)=>e.setupDeduction&&e.setupDeduction(...t))}," Setup "),ql])])])]),(0,o.Lk)("div",Kl,[(0,o.Lk)("div",Jl,[(0,o.Lk)("div",Yl,[Gl,(0,o.Lk)("div",Zl,[(0,o.Lk)("form",{onSubmit:t[11]||(t[11]=(0,n.D$)(((...t)=>e.disburse&&e.disburse(...t)),["prevent"]))},[(0,o.Lk)("div",eo,[(0,o.Lk)("div",to,[(0,o.Lk)("div",ao,[so,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[9]||(t[9]=t=>e.disburseForm.reference=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Payment Reference"},null,512),[[n.Jo,e.disburseForm.reference]])])]),(0,o.Lk)("div",lo,[(0,o.Lk)("div",oo,[no,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=t=>e.disburseForm.remark=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Remark"},null,512),[[n.Jo,e.disburseForm.remark]])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.disburseForm.processing},(0,v.v_)(e.disburseForm.processing?"Please Wait...":"Submit"),9,io)],32)]),ro])]),co]),(0,o.Lk)("div",mo,[(0,o.Lk)("div",uo,[(0,o.Lk)("div",po,[bo,(0,o.Lk)("div",ko,[(0,o.Lk)("form",{onSubmit:t[13]||(t[13]=(0,n.D$)(((...t)=>e.confirmPickup&&e.confirmPickup(...t)),["prevent"]))},[(0,o.Lk)("div",fo,[(0,o.Lk)("div",ho,[(0,o.Lk)("div",go,[vo,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[12]||(t[12]=t=>e.devicePickupForm.otp=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter OTP"},null,512),[[n.Jo,e.devicePickupForm.otp]])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.devicePickupForm.processing},(0,v.v_)(e.disburseForm.processing?"Please Wait...":"Submit"),9,Lo)],32)]),yo])]),xo]),(0,o.Lk)("div",wo,[(0,o.Lk)("div",Ao,[(0,o.Lk)("div",Do,[_o,(0,o.Lk)("div",Co,[Po,(0,o.Lk)("button",{type:"button","data-bs-dismiss":"modal",class:"btn btn-success",onClick:t[14]||(t[14]=(...t)=>e.approve&&e.approve(...t))}," Approve ")])])])]),(0,o.Lk)("div",Fo,[(0,o.Lk)("div",To,[(0,o.Lk)("div",Eo,[Bo,(0,o.Lk)("div",Ro,[(0,o.Lk)("form",{onSubmit:t[15]||(t[15]=(0,n.D$)(((...t)=>e.handleDeductionSubmit&&e.handleDeductionSubmit(...t)),["prevent"]))},So,32)]),No])])]),(0,o.Lk)("div",Uo,[(0,o.Lk)("div",Io,[(0,o.Lk)("div",Xo,[jo,(0,o.Lk)("div",Wo,[(0,o.bF)(r,{callBack:e.closeModal},null,8,["callBack"])]),Oo])])],512),(0,o.Lk)("div",Vo,[(0,o.Lk)("div",zo,[(0,o.Lk)("div",Qo,[Ho,(0,o.Lk)("div",$o,[(0,o.bF)(c,{callBack:e.closeModal,"file-name":e.selectedFileName},null,8,["callBack","file-name"])]),qo])])],512),Ko,(0,o.Lk)("div",Jo,[(0,o.Lk)("div",Yo,[(0,o.Lk)("div",Go,[Zo,(0,o.Lk)("div",en,[e.selectedDocumentLink.startsWith("data:application/pdf")?((0,o.uX)(),(0,o.CE)("object",{key:0,data:e.selectedDocumentLink,type:"application/pdf",width:"100%",height:"320px"},[(0,o.Lk)("p",null,[(0,o.eW)("Unable to display PDF file. "),(0,o.Lk)("a",{href:e.selectedDocumentLink},"Download",8,an),(0,o.eW)(" instead.")])],8,tn)):((0,o.uX)(),(0,o.CE)("img",{key:1,src:e.selectedDocumentLink,style:{"max-width":"100%",height:"320px"}},null,8,sn))]),ln])])],512)]),on],64)}const dn=e=>((0,o.Qi)("data-v-0b5ec476"),e=e(),(0,o.jt)(),e),rn={class:"text-center"},cn=["src"],mn={class:"file-upload text-center position-relative"},un=dn((()=>(0,o.Lk)("span",{class:"d-block text-muted"},[(0,o.eW)(" Drop Files Here Or "),(0,o.Lk)("span",{class:"text-black fw-medium position-relative"}," Click To Upload ")],-1))),pn={class:"text-center"};function bn(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",rn,[e.audioUrl?((0,o.uX)(),(0,o.CE)("audio",{key:0,class:"my-3",controls:"true",autobuffer:"autobuffer",src:e.audioUrl},null,8,cn)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",mn,[un,(0,o.Lk)("input",{type:"file",class:"d-block shadow-none border-0 position-absolute start-0 end-0 top-0 bottom-0 z-1 opacity-0",ref:"fileInput",accept:".mp3,.aac,.opus,.flac,.wav,.mp4,.webm,.ogg,.wav,.m4a",onChange:t[0]||(t[0]=(...t)=>e.handleFileChange&&e.handleFileChange(...t))},null,544)]),(0,o.Lk)("div",pn,[(0,o.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.uploadImage&&e.uploadImage(...t)),class:"btn btn-primary btn-md my-5"},(0,v.v_)(e.uploadingImage?"Please Wait!":"Upload Image"),1)])],64)}var kn=a(5246);const fn=(0,kn.dj)();var hn=(0,o.pM)({name:"AudioUpload",props:["callBack"],data(){return{selectedFile:null,audioUrl:"",uploadingImage:!1}},methods:{handleFileChange(e){const t=e.target;this.selectedFile=t.files?.[0]||null,this.previewImage(),console.log("you dey behave thesame?")},previewImage(){if(this.selectedFile){const e=new FileReader;e.onload=e=>{this.audioUrl=e.target?.result},e.readAsDataURL(this.selectedFile)}else this.audioUrl=""},async uploadImage(){if(this.uploadingImage=!0,!this.selectedFile)return;const e=new FormData;e.append("authorization_file",this.selectedFile);try{at.A.uploadAuthorization(cD.currentRoute.value.params.id,e).then((e=>{this.uploadingImage=!1,fn.success("Authentication uploaded successfully"),this.audioUrl="",this.selectedFile=null,this.callBack(!0,"uploadAudioModal")})).catch((e=>{this.uploadingImage=!1,this.callBack(!1,"uploadAudioModal"),this.audioUrl="",this.selectedFile=null,[422,403].includes(e.response?.status)&&fn.error(e.response.data.message)}))}catch(t){console.error("Error uploading image:",t)}}}});const gn=(0,R.A)(hn,[["render",bn],["__scopeId","data-v-0b5ec476"]]);var vn=gn;const Ln=e=>((0,o.Qi)("data-v-6e423748"),e=e(),(0,o.jt)(),e),yn={key:0,class:"text-center my-3 text-lg text-bold"},xn={class:"file-upload text-center position-relative"},wn=Ln((()=>(0,o.Lk)("span",{class:"d-block text-muted"},[(0,o.eW)(" Drop Files Here Or "),(0,o.Lk)("span",{class:"text-black fw-medium position-relative"}," Click To Upload ")],-1))),An={class:"text-center"};function Dn(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.selectedFile?((0,o.uX)(),(0,o.CE)("div",yn,(0,v.v_)(e.selectedFile.name)+" : "+(0,v.v_)(e.selectedFile.size/1e3)+"kb",1)):(0,o.Q3)("",!0),(0,o.Lk)("div",xn,[wn,(0,o.Lk)("input",{type:"file",class:"d-block shadow-none border-0 position-absolute start-0 end-0 top-0 bottom-0 z-1 opacity-0",ref:"fileInput",allowed:"jpg,jpeg,png,pdf",onChange:t[0]||(t[0]=(...t)=>e.handleFileChange&&e.handleFileChange(...t))},null,544)]),(0,o.Lk)("div",An,[(0,o.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.uploadFile&&e.uploadFile(...t)),class:"btn btn-primary btn-md my-5"},(0,v.v_)(e.uploadingImage?"Please Wait!":"Upload File"),1)])],64)}const _n=(0,kn.dj)();var Cn=(0,o.pM)({name:"LoanFileUpload",props:["callBack","fileName"],data(){return{selectedFile:null,audioUrl:"",uploadingImage:!1}},mounted(){this.selectedFile=null,this.uploadingImage=!1},methods:{handleFileChange(e){const t=e.target;this.selectedFile=t.files?.[0]||null},async uploadFile(){if(this.uploadingImage=!0,!this.selectedFile)return;const e=new FormData;e.append("document_file",this.selectedFile),e.append("file_name",this.fileName);try{at.A.updateFile(cD.currentRoute.value.params.id,e).then((e=>{this.uploadingImage=!1,_n.success("Loan file updated successfully"),this.audioUrl="",this.selectedFile=null,this.callBack(!0,"uploadLoanFileModal")})).catch((e=>{this.uploadingImage=!1,this.callBack(),this.audioUrl="",this.selectedFile=null,[422,403].includes(e.response.status)&&_n.error(e.response.data.message)}))}catch(t){console.error("Error updating loan file:",t)}}}});const Pn=(0,R.A)(Cn,[["render",Dn],["__scopeId","data-v-6e423748"]]);var Fn=Pn;const Tn=(0,kn.dj)();var En=(0,o.pM)({name:"SingleLoanPage",components:{BreadCrumb:me,AudioUpload:vn,LoanFileUpload:Fn},mixins:[H.A],data(){return{loan:{},selectedFileName:null,affordabilityData:{},salaryDetails:[],loanHistoryDetails:[],checkingAffordability:!1,selectedDocumentLink:"",errors:[],disburseForm:{remark:null,reference:null,processing:!1},devicePickupForm:{loan_reference:null,otp:null,processing:!1}}},mounted(){at.A.loanDetails(cD.currentRoute.value.params.id).then((e=>{this.loan=e.data.data})).catch((e=>{422===e.response.status&&(Tn.error(e.response.data.message),this.errors=e.response.data.errors)}))},methods:{copyText(e){navigator.clipboard.writeText(e).then((()=>Tn.info("Text copied to clipboard")))},fileName(e){const t=e.split("/");return t[t.length-1]},closeModal(e,t=null){document.getElementsByClassName(t??"uploadAudioModal")[0].classList.remove("show"),document.getElementsByClassName(t??"uploadAudioModal")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove(),e&&this.fetchDetails()},showDocumentModal(e){this.selectedDocumentLink=e,document.getElementById("documentModalButton")?.click()},showUpdateFileModal(e){console.log("rara",e),this.selectedFileName=e,document.getElementById("uploadLoanFileModalButton")?.click()},fetchDetails(){at.A.loanDetails(cD.currentRoute.value.params.id).then((e=>{this.loan=e.data.data})).catch((e=>{422===e.response.status&&(Tn.error(e.response.data.message),this.errors=e.response.data.errors)}))},handleDeductionSubmit(){this.closeModal(null,"deductionSetupModal"),document.getElementById("confirmDeductionSetupModalButton")?.click()},affordabilityCheck(){Object.keys(this.affordabilityData).length<1&&(this.checkingAffordability=!0,at.A.affordabilityCheck(cD.currentRoute.value.params.id).then((e=>{this.checkingAffordability=!1,console.log(e?.data.data.remitaSearchData.salaryPaymentDetails),this.affordabilityData=e.data.data})).catch((e=>{422===e.response.status&&(Tn.error(e.response.data.message),this.errors=e.response.data.errors)})))},approve(){console.log("rora"),at.A.approve(cD.currentRoute.value.params.id).then((e=>{Tn.success("Loan approved successfully"),this.loan=e.data.data})).catch((e=>{console.log(e.response.data),[422,403].includes(e.response?.status)&&(Tn.error(e.response.data.message),this.errors=e.response.data.errors)}))},setupDeduction(){this.closeModal(null,"confirmDeductionSetupModal"),it.setupDeduction(cD.currentRoute.value.params.id).then((e=>{Tn.success("Deduction Setup successfully"),this.fetchDetails()})).catch((e=>{[422,403,400].includes(e.response?.status)&&(Tn.error(e.response.data.message),this.errors=e.response.data.errors)}))},disburse(){this.closeModal(null,"manualDisbursementModal"),at.A.disburse(cD.currentRoute.value.params.id,this.disburseForm).then((e=>{Tn.success("Loan disbursed successfully"),this.fetchDetails()})).catch((e=>{console.log(e.response.data),[422,403,400].includes(e.response?.status)&&(Tn.error(e.response.data.message),this.errors=e.response.data.errors)}))},sendDevicePickupOTP(){document.getElementById("confirmPickupModalButton")?.click(),at.A.sendDevicePickupOtp(this.loan.reference).then((e=>{Tn.success("OTP sent to customer successfully")})).catch((e=>{console.log(e.response.data),[422,403,400].includes(e.response?.status)&&(Tn.error(e.response.data.message),this.errors=e.response.data.errors)}))},confirmPickup(){this.closeModal(null,"confirmDevicePickupModal"),this.devicePickupForm.loan_reference=this.loan.reference,at.A.confirmDevicePickup(this.devicePickupForm).then((e=>{Tn.success("Device Pickup Confirmed successfully"),this.fetchDetails()})).catch((e=>{console.log(e.response.data),[422,403,400].includes(e.response?.status)&&(Tn.error(e.response.data.message),this.errors=e.response.data.errors)}))},reject(){at.A.reject(cD.currentRoute.value.params.id).then((e=>{Tn.success("Loan rejected successfully"),this.loan=e.data.data})).catch((e=>{[422,403].includes(e.response?.status)&&(Tn.error(e.response.data.message),this.errors=e.response.data.errors)}))}}});const Bn=(0,R.A)(En,[["render",nn]]);var Rn=Bn;function Mn(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{pageTitle:"Pending Loans"}),(0,o.bF)(d,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails},null,8,["propData","callBack","viewDetails"])],64)}var Sn=(0,o.pM)({name:"PendingLoansPage",components:{BreadCrumb:me,CustomTable:tt},mounted(){at.A.pendingAuthorization().then((e=>{this.retrieveRecords(e)}))},mixins:[H.A],methods:{viewDetails(e){cD.push("/loans/"+e)},moreRecords(e){null!=e&&void 0!=typeof e&&at.A.moreRecords(e).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user?.name,e.user?.phone_number,this.formatNumber(e.amount),e.tenor.toString(),e?.loan_type?.name,e.organization_name,this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Amount","Tenor","Type","Organisation","Date Created"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}},data(){return{dataToPass:{}}}});const Nn=(0,R.A)(Sn,[["render",Mn]]);var Un=Nn;function In(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{pageTitle:"Loan Offer Sent"}),(0,o.bF)(d,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails},null,8,["propData","callBack","viewDetails"])],64)}var Xn=(0,o.pM)({name:"LoansWithOfferSentPage",components:{BreadCrumb:me,CustomTable:tt},mounted(){at.A.offerSent().then((e=>{this.retrieveRecords(e)}))},mixins:[H.A],methods:{viewDetails(e){cD.push("/loans/"+e)},moreRecords(e){null!=e&&void 0!=typeof e&&at.A.moreRecords(e).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user?.name,e.user?.phone_number,this.formatNumber(e.amount),e.tenor.toString(),e?.loan_type?.name,e.organization_name,this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Amount","Tenor","Type","Organisation","Date Created"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}},data(){return{dataToPass:{}}}});const jn=(0,R.A)(Xn,[["render",In]]);var Wn=jn;const On={class:"card mb-25 border-0 rounded-0 bg-white create-new-project-box"},Vn={class:"card-body p-15 p-sm-20 p-md-25 p-lg-30 letter-spacing"},zn={class:"row"},Qn={class:"col-md-12"},Hn={class:"form-group mb-15 mb-sm-20 mb-md-25"},$n=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Select Loan Type ",-1),qn=(0,o.Lk)("option",{value:""},"Select",-1),Kn=["value"],Jn={class:"col-md-6"},Yn={class:"form-group mb-15 mb-sm-20 mb-md-25"},Gn=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Select Banks ",-1),Zn=(0,o.Lk)("option",{value:""},"Select",-1),ei=["value"],ti={class:"col-md-6"},ai={class:"form-group mb-15 mb-sm-20 mb-md-25"},si=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Salary Account Number ",-1),li={class:"col-md-6"},oi={class:"form-group mb-15 mb-sm-20 mb-md-25"},ni=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," First Name ",-1),ii={class:"col-md-6"},di={class:"form-group mb-15 mb-sm-20 mb-md-25"},ri=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Last Name ",-1),ci={class:"col-md-12"},mi={class:"form-group mb-15 mb-sm-20 mb-md-25"},ui=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Select Loan Tenor ",-1),pi=(0,o.Lk)("option",{value:""},"Select",-1),bi={class:"col-md-12"},ki=["disabled"],fi={key:0,class:"card mb-25 border-0 rounded-0 bg-white letter-spacing lead-info-box"},hi={class:"card-body p-15 p-sm-20 p-md-25 p-lg-30"},gi={key:0,class:"info mt-25 ps-0 mb-0 list-unstyled row"},vi={class:"position-relative col-md-6"},Li=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-folder"})],-1),yi=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Loan Amount",-1),xi={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},wi={key:0,class:"position-relative col-md-6"},Ai=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-folder"})],-1),Di=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Available to Customer",-1),_i={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},Ci={key:1,class:"position-relative col-md-6"},Pi=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-folder"})],-1),Fi=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Loan Type",-1),Ti=(0,o.Lk)("span",{class:"d-inline-block fs-md-15 fs-lg-16 text-muted"}," TOP-UP ",-1),Ei=[Pi,Fi,Ti],Bi={class:"position-relative col-md-6"},Ri=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-clock"})],-1),Mi=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Tenor",-1),Si={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},Ni={class:"position-relative col-md-6"},Ui=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-recycle"})],-1),Ii=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Monthly Repayment ",-1),Xi={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},ji={class:"position-relative col-md-6"},Wi=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-money"})],-1),Oi=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Total Repayment ",-1),Vi={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},zi={key:1,class:"text-lg mt-3 fs-lg-16 fs-md-15 text-danger"},Qi={key:0},Hi={class:"row"},$i={class:"col-lg-6 col-xxxl-3"},qi={class:"card mb-25 border-0 rounded-0 bg-white order-details-box letter-spacing"},Ki=(0,o.Lk)("div",{class:"card-head"},[(0,o.Lk)("h5",{class:"mb-0 fw-bold text-white"},"RSP Details")],-1),Ji={class:"card-body"},Yi={class:"list ps-0 mb-0 list-unstyled"},Gi={class:"d-flex align-items-center justify-content-between"},Zi=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," Remita Name: ",-1),ed={class:"d-block fs-md-15 fs-lg-16"},td={class:"d-flex align-items-center justify-content-between"},ad=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," Remita MDA: ",-1),sd={class:"d-block fs-md-15 fs-lg-16"},ld={class:"d-flex align-items-center justify-content-between"},od=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," Salary Bank Name: ",-1),nd={class:"d-block fs-md-15 fs-lg-16"},id={class:"d-flex align-items-center justify-content-between"},dd=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," Salary Account Number: ",-1),rd={class:"d-block fs-md-15 fs-lg-16"},cd={class:"d-flex align-items-center justify-content-between"},md=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," BVN: ",-1),ud={class:"d-block fs-md-15 fs-lg-16"},pd={class:"d-flex align-items-center justify-content-between"},bd=(0,o.Lk)("div",{class:"title text-black fs-md-15 fs-lg-16 fw-semibold position-relative"}," Verified Remita Name: ",-1),kd={class:"d-block fs-md-15 fs-lg-16"},fd={class:"col-lg-6 col-xxxl-3"},hd=(0,o.Lk)("div",{class:"card-head"},[(0,o.Lk)("h5",{class:"mb-0 fw-bold text-white"},"Request Details")],-1),gd={class:"card-body"},vd={class:"list ps-0 mb-0 list-unstyled"},Ld={class:"d-flex align-items-center justify-content-between"},yd=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Amount: ",-1),xd={class:"d-block fs-md-15 fs-lg-16"},wd={class:"d-flex align-items-center justify-content-between"},Ad=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Amount: ",-1),Dd={class:"d-block fs-md-15 fs-lg-16"},_d={class:"d-flex align-items-center justify-content-between"},Cd=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Tenor: ",-1),Pd={class:"d-block fs-md-15 fs-lg-16"},Fd={class:"d-flex align-items-center justify-content-between"},Td=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," New Loans Repayment: ",-1),Ed={class:"d-block fs-md-15 fs-lg-16"},Bd={class:"d-flex align-items-center justify-content-between"},Rd=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Average Net Pay: ",-1),Md={class:"d-block fs-md-15 fs-lg-16"},Sd={class:"d-flex align-items-center justify-content-between"},Nd=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Adjusted Net Pay: ",-1),Ud={class:"d-block fs-md-15 fs-lg-16"},Id={class:"d-flex align-items-center justify-content-between"},Xd=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Other Deductions: ",-1),jd={class:"d-block fs-md-15 fs-lg-16"},Wd={class:"d-flex align-items-center justify-content-between"},Od=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Remita Loan: ",-1),Vd={class:"d-block fs-md-15 fs-lg-16"},zd={class:"d-flex align-items-center justify-content-between"},Qd=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Salary Count: ",-1),Hd={class:"d-block fs-md-15 fs-lg-16"},$d={class:"d-flex align-items-center justify-content-between"},qd=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," New Loans Count: ",-1),Kd={class:"d-block fs-md-15 fs-lg-16"},Jd={class:"d-flex align-items-center justify-content-between"},Yd=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," Last Salary Date: ",-1),Gd={class:"d-block fs-md-15 fs-lg-16"},Zd={class:"d-flex align-items-center justify-content-between"},er=(0,o.Lk)("div",{class:"title text-white fs-md-15 fs-lg-16 fw-semibold position-relative"}," First Salary Date: ",-1),tr={class:"d-block fs-md-15 fs-lg-16"},ar={class:"col-lg-8"},sr={class:"card mb-25 border-0 rounded-0 bg-white order-details-box letter-spacing"},lr=(0,o.Lk)("div",{class:"card-head bg-white d-flex align-items-center"},[(0,o.Lk)("i",{class:"flaticon-sterile-box text-primary"}),(0,o.Lk)("h5",{class:"mb-0 fw-bold text-black ms-10 ms-md-15"}," RSP Loan Details ")],-1),or={class:"card-body"},nr={class:"table-responsive"},ir={class:"table text-nowrap align-middle mb-0"},dr=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13 ps-0"}," Provider "),(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13 ps-0"}," Status "),(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13"}," Outstanding Amount "),(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13"}," Date "),(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13 pe-0"}," Repayment Amount "),(0,o.Lk)("th",{scope:"col",class:"text-uppercase fw-medium shadow-none text-body-tertiary fs-13 pe-0"}," Loan Amount ")])],-1),rr={class:"shadow-none lh-1 fw-medium text-paragraph"},cr={class:"shadow-none lh-1 fw-medium text-paragraph"},mr={class:"shadow-none lh-1 fw-medium text-paragraph"},ur={class:"shadow-none lh-1 fw-medium text-paragraph"},pr={class:"shadow-none lh-1 fw-medium text-paragraph"},br={class:"shadow-none lh-1 fw-medium text-paragraph pe-0"},kr={class:"col-lg-4"},fr={class:"card mb-25 border-0 rounded-0 bg-white order-details-box letter-spacing"},hr=(0,o.Lk)("div",{class:"card-head bg-white d-flex align-items-center"},[(0,o.Lk)("i",{class:"flaticon-document text-info"}),(0,o.Lk)("h5",{class:"mb-0 fw-bold text-black ms-10 ms-md-15"},"RSP Salary Details")],-1),gr={class:"card-body"},vr={class:"order-summary-list ps-0 mb-0 list-unstyled"},Lr=(0,o.Lk)("li",{class:"d-flex align-items-center justify-content-between"},[(0,o.Lk)("span",{class:"d-block text-muted text-uppercase fw-medium fs-13"}," AMOUNT "),(0,o.Lk)("span",{class:"d-block text-muted text-uppercase fw-medium fs-13"}," PAYMENT DATE ")],-1),yr={class:"d-block text-black fs-md-15 fs-lg-16 fw-medium"},xr={class:"d-block text-paragraph fw-medium"};function wr(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(d,{pageTitle:"Loan Calculator"}),(0,o.Lk)("div",On,[(0,o.Lk)("div",Vn,[(0,o.Lk)("form",{onSubmit:t[6]||(t[6]=(0,n.D$)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[(0,o.Lk)("div",zn,[(0,o.Lk)("div",Qn,[(0,o.Lk)("div",Hn,[$n,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.loan_type=t),class:"form-control shadow-none rounded-0 text-black",required:""},[qn,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.loanTypes,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.id,key:e},(0,v.v_)(e.name),9,Kn)))),128))],512),[[n.u1,e.form.loan_type]])])]),(0,o.Lk)("div",Jn,[(0,o.Lk)("div",Yn,[Gn,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.form.bank_code=t),class:"form-control shadow-none rounded-0 text-black",required:""},[Zn,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.banks,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.code,key:e},(0,v.v_)(e.name),9,ei)))),128))],512),[[n.u1,e.form.bank_code]])])]),(0,o.Lk)("div",ti,[(0,o.Lk)("div",ai,[si,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[2]||(t[2]=t=>e.form.account_number=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Account Number"},null,512),[[n.Jo,e.form.account_number]])])]),(0,o.Lk)("div",li,[(0,o.Lk)("div",oi,[ni,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[3]||(t[3]=t=>e.form.first_name=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter First Name"},null,512),[[n.Jo,e.form.first_name]])])]),(0,o.Lk)("div",ii,[(0,o.Lk)("div",di,[ri,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[4]||(t[4]=t=>e.form.last_name=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Last Name"},null,512),[[n.Jo,e.form.last_name]])])]),(0,o.Lk)("div",ci,[(0,o.Lk)("div",mi,[ui,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.form.loan_tenor=t),class:"form-control shadow-none rounded-0 text-black",required:""},[pi,((0,o.uX)(),(0,o.CE)(o.FK,null,(0,o.pI)(12,(e=>(0,o.Lk)("option",{key:"tenor-"+e},(0,v.v_)(e),1))),64))],512),[[n.u1,e.form.loan_tenor]])])]),(0,o.Lk)("div",bi,[(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16 bg-success",type:"submit",disabled:e.form.processing},(0,v.v_)(e.form.processing?"Processing...":"Submit"),9,ki)]),e.processed?((0,o.uX)(),(0,o.CE)("div",fi,[(0,o.Lk)("div",hi,[e.offerDetails&&e.offerDetails?.loan_amount>0?((0,o.uX)(),(0,o.CE)("ul",gi,[(0,o.Lk)("li",vi,[Li,yi,(0,o.Lk)("span",xi," ₦ "+(0,v.v_)(e.formatNumber(e.offerDetails?.loan_amount)),1)]),"top up"==e.offerDetails?.loan_type?((0,o.uX)(),(0,o.CE)("li",wi,[Ai,Di,(0,o.Lk)("span",_i," ₦ "+(0,v.v_)(e.formatNumber(e.offerDetails?.available_amount)),1)])):(0,o.Q3)("",!0),"top up"==e.offerDetails?.loan_type?((0,o.uX)(),(0,o.CE)("li",Ci,Ei)):(0,o.Q3)("",!0),(0,o.Lk)("li",Bi,[Ri,Mi,(0,o.Lk)("span",Si,(0,v.v_)(e.offerDetails?.tenor),1)]),(0,o.Lk)("li",Ni,[Ui,Ii,(0,o.Lk)("span",Xi," ₦ "+(0,v.v_)(e.formatNumber(e.offerDetails?.monthly_repayment)),1)]),(0,o.Lk)("li",ji,[Wi,Oi,(0,o.Lk)("span",Vi," ₦ "+(0,v.v_)(e.formatNumber(e.offerDetails?.total_repayment)),1)])])):((0,o.uX)(),(0,o.CE)("div",zi,(0,v.v_)(e.form.error?e.form.error:"No offer for this customer"),1))]),e.affordabilityData&&Object.keys(e.affordabilityData).length?((0,o.uX)(),(0,o.CE)("div",Qi,[(0,o.Lk)("div",Hi,[(0,o.Lk)("div",$i,[(0,o.Lk)("div",qi,[Ki,(0,o.Lk)("div",Ji,[(0,o.Lk)("ul",Yi,[(0,o.Lk)("li",Gi,[Zi,(0,o.Lk)("span",ed,(0,v.v_)(e.affordabilityData.remitaSearchData?.customerName),1)]),(0,o.Lk)("li",td,[ad,(0,o.Lk)("span",sd,(0,v.v_)(e.affordabilityData.remitaSearchData?.companyName),1)]),(0,o.Lk)("li",ld,[od,(0,o.Lk)("span",nd,(0,v.v_)(e.loan?.bank_name),1)]),(0,o.Lk)("li",id,[dd,(0,o.Lk)("span",rd,(0,v.v_)(e.affordabilityData.remitaSearchData?.accountNumber),1)]),(0,o.Lk)("li",cd,[md,(0,o.Lk)("span",ud,(0,v.v_)(e.affordabilityData.remitaSearchData?.bvn),1)]),(0,o.Lk)("li",pd,[bd,(0,o.Lk)("span",kd,(0,v.v_)(e.affordabilityData.remitaSearchData?.customerName),1)])])])])]),(0,o.Lk)("div",fd,[(0,o.Lk)("div",{class:(0,v.C4)(["card mb-25 border-0 rounded-0 order-details-box letter-spacing text-white",{"bg-success":e.affordabilityData.affordabilityCheckData?.customerQualificationStatus,"bg-danger":!e.affordabilityData.affordabilityCheckData?.customerQualificationStatus}])},[hd,(0,o.Lk)("div",gd,[(0,o.Lk)("ul",vd,[(0,o.Lk)("li",Ld,[yd,(0,o.Lk)("span",xd,(0,v.v_)(e.formatNumber(e.affordabilityData?.affordabilityCheckData?.amount)),1)]),(0,o.Lk)("li",wd,[Ad,(0,o.Lk)("span",Dd,(0,v.v_)(e.formatNumber(e.affordabilityData?.affordabilityCheckData?.amount)),1)]),(0,o.Lk)("li",_d,[Cd,(0,o.Lk)("span",Pd,(0,v.v_)(e.affordabilityData.affordabilityCheckData?.tenor)+" Months",1)]),(0,o.Lk)("li",Fd,[Td,(0,o.Lk)("span",Ed,(0,v.v_)(e.formatNumber(e.affordabilityData.affordabilityCheckData?.monthlyRepayment)),1)]),(0,o.Lk)("li",Bd,[Rd,(0,o.Lk)("span",Md,(0,v.v_)(e.formatNumber(e.affordabilityData.affordabilityCheckData?.netPay)),1)]),(0,o.Lk)("li",Sd,[Nd,(0,o.Lk)("span",Ud,(0,v.v_)(e.formatNumber(e.offerDetails["validityData"]["adjustedNetPay"])),1)]),(0,o.Lk)("li",Id,[Xd,(0,o.Lk)("span",jd,(0,v.v_)(e.affordabilityData.affordabilityCheckData?.otherDeductions),1)]),(0,o.Lk)("li",Wd,[Od,(0,o.Lk)("span",Vd,(0,v.v_)(e.affordabilityData.affordabilityCheckData?.remitaLoan),1)]),(0,o.Lk)("li",zd,[Qd,(0,o.Lk)("span",Hd,(0,v.v_)(e.offerDetails["validityData"]["salaryHistoryCount"]),1)]),(0,o.Lk)("li",$d,[qd,(0,o.Lk)("span",Kd,(0,v.v_)(e.offerDetails["validityData"]["newLoansCount"]),1)]),(0,o.Lk)("li",Jd,[Yd,(0,o.Lk)("span",Gd,(0,v.v_)(e.formatDate(e.offerDetails["validityData"]["lastSalaryDate"])),1)]),(0,o.Lk)("li",Zd,[er,(0,o.Lk)("span",tr,(0,v.v_)(e.formatDate(e.offerDetails["validityData"]["firstSalaryDate"])),1)])])])],2)]),(0,o.Lk)("div",ar,[(0,o.Lk)("div",sr,[lr,(0,o.Lk)("div",or,[(0,o.Lk)("div",nr,[(0,o.Lk)("table",ir,[dr,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.affordabilityData?.remitaLoanData,(t=>((0,o.uX)(),(0,o.CE)("tr",{key:t},[(0,o.Lk)("td",rr,(0,v.v_)(t.loanProvider),1),(0,o.Lk)("td",cr,(0,v.v_)(t.status),1),(0,o.Lk)("td",mr,(0,v.v_)(e.formatNumber(t.outstandingAmount)),1),(0,o.Lk)("td",ur,(0,v.v_)(t.loanDisbursementDate.split(" ")[0]),1),(0,o.Lk)("td",pr,(0,v.v_)(e.formatNumber(t.repaymentAmount)),1),(0,o.Lk)("td",br,(0,v.v_)(e.formatNumber(t.loanAmount)),1)])))),128))])])])])])]),(0,o.Lk)("div",kr,[(0,o.Lk)("div",fr,[hr,(0,o.Lk)("div",gr,[(0,o.Lk)("ul",vr,[Lr,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.affordabilityData?.remitaSearchData?.salaryPaymentDetails,(t=>((0,o.uX)(),(0,o.CE)("li",{class:"d-flex align-items-center justify-content-between",key:t},[(0,o.Lk)("span",yr,(0,v.v_)(e.formatNumber(t?.amount)),1),(0,o.Lk)("span",xr,(0,v.v_)(t?.paymentDate),1)])))),128))])])])])])])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)])],32)])])],64)}(0,kn.dj)();var Ar=(0,o.pM)({name:"LoanCalculatorPage",data(){return{loanTypes:[],banks:[],processed:!1,offerDetails:null,affordabilityData:{},form:{first_name:null,last_name:null,loan_type:null,bank_code:null,account_number:null,loan_tenor:null,processing:!1,error:null}}},mixins:[H.A],components:{BreadCrumb:me},mounted(){at.A.loanTypes().then((e=>{this.loanTypes=e.data.data})),at.A.banks().then((e=>{this.banks=e.data.data}))},methods:{submit(){this.form.processing=!0,at.A.calculateOffer(this.form).then((e=>{this.form.processing=!1,this.processed=!0,this.offerDetails=e.data.data,console.log("offer details:",this.offerDetails),this.offerDetails&&(this.offerDetails["validityData"]["rejectionReason"]?this.form.error=this.offerDetails["validityData"]["rejectionReason"]:this.form.error=null,this.offerDetails["affordabilityData"]&&(this.affordabilityData=this.offerDetails["affordabilityData"]))})).catch((e=>{this.processed=!0,this.form.processing=!1,422!==e.response?.status&&400!==e.response?.status||(this.offerDetails=null,this.form.error=e.response.data.message)}))},closeModal(e){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}}});const Dr=(0,R.A)(Ar,[["render",wr]]);var _r=Dr;function Cr(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{pageTitle:"Completed Loans"}),(0,o.bF)(d,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails},null,8,["propData","callBack","viewDetails"])],64)}var Pr=(0,o.pM)({name:"CompletedLoansPage",components:{BreadCrumb:me,CustomTable:tt},mixins:[H.A],mounted(){at.A.completed().then((e=>{this.retrieveRecords(e)}))},methods:{viewDetails(e){cD.push("/loans/"+e)},moreRecords(e,t){null!=e&&void 0!=typeof e&&at.A.moreRecords(e).then((e=>{this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&at.A.moreRecords(e,t).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user.first_name+" "+e.user.last_name,e.user.phone_number,this.formatNumber(e.amount),e.tenor.toString(),e.organization_name,this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Amount","Tenor","Organisation","Date Created"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}},data(){return{dataToPass:{}}}});const Fr=(0,R.A)(Pr,[["render",Cr]]);var Tr=Fr;function Er(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{pageTitle:"Rejected Loans"}),(0,o.bF)(d,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails},null,8,["propData","callBack","viewDetails"])],64)}var Br=(0,o.pM)({name:"RejectedLoansPage",components:{BreadCrumb:me,CustomTable:tt},mixins:[H.A],mounted(){at.A.rejected().then((e=>{this.retrieveRecords(e)}))},methods:{viewDetails(e){cD.push("/loans/"+e)},moreRecords(e,t){console.log("stop the madness",e),null!=e&&void 0!=typeof e&&at.A.moreRecords(e).then((e=>{this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&at.A.moreRecords(e,t).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user.first_name+" "+e.user.last_name,e.user.phone_number,this.formatNumber(e.amount),e.tenor.toString(),e?.loan_type?.name,e.organization_name,this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Amount","Tenor","Type","Organisation","Date Created"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}},data(){return{dataToPass:{}}}});const Rr=(0,R.A)(Br,[["render",Er]]);var Mr=Rr;const Sr={style:{"text-align":"right"},class:"my-3"},Nr={class:"modal fade uploadRepaymentFileModal",id:"uploadRepaymentFileModal",ref:"uploadRepaymentFileModal",tabindex:"-1","aria-hidden":"true"},Ur={class:"modal-dialog modal-dialog-centered"},Ir={class:"modal-content p-15 p-md-40"},Xr=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Update Loan File")],-1),jr={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Wr={class:"row"},Or={class:"col-md-12 mb-3"},Vr={class:"form-group mb-15 mb-sm-20 mb-md-25"},zr=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Select Statement Bank ",-1),Qr=(0,o.Lk)("option",{value:""},"Select",-1),Hr=(0,o.Lk)("option",{value:"wema"},"Wema Bank",-1),$r=[Qr,Hr],qr=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Kr=(0,o.Lk)("button",{class:"invisible",id:"uploadRepaymentFileModalButton","data-bs-toggle":"modal","data-bs-target":"#uploadRepaymentFileModal"},null,-1);function Jr(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("CustomTable"),c=(0,o.g2)("repayments-file-upload");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(d,{pageTitle:"Successful Repayments"}),(0,o.Lk)("div",Sr,[(0,o.Lk)("a",{class:"default-btn position-relative transition border-0 fw-medium text-white pt-11 pb-11 ps-25 pe-25 pt-md-12 pb-md-12 ps-md-30 pe-md-30 rounded-1 bg-success fs-md-15 fs-lg-16 d-inline-block me-10 mb-10 mb-lg-0 text-nowrap mx-2",style:{"text-decoration":"none"},onClick:t[0]||(t[0]=(0,n.D$)(((...t)=>e.showUploadRepayments&&e.showUploadRepayments(...t)),["prevent"])),href:"#"},"Upload Repayments")]),(0,o.bF)(r,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails,report:"repayments",webAccessToken:e.webAccessToken,webAction:"download-repayments-report",downloadStatusOptions:e.statusOptions,downloadReportUrl:"https://sapphire-api.digisparksolutions.ng/reports/download/credit"},null,8,["propData","callBack","viewDetails","webAccessToken","downloadStatusOptions"]),(0,o.Lk)("div",Nr,[(0,o.Lk)("div",Ur,[(0,o.Lk)("div",Ir,[Xr,(0,o.Lk)("div",jr,[(0,o.Lk)("div",Wr,[(0,o.Lk)("div",Or,[(0,o.Lk)("div",Vr,[zr,(0,o.bo)((0,o.Lk)("select",{class:"form-control shadow-none rounded-0 text-black","onUpdate:modelValue":t[1]||(t[1]=t=>e.statementBank=t)},$r,512),[[n.u1,e.statementBank]])])])]),e.statementBank?((0,o.uX)(),(0,o.Wv)(c,{key:0,callBack:e.closeModal,bank:e.statementBank},null,8,["callBack","bank"])):(0,o.Q3)("",!0)]),qr])]),Kr],512)])}const Yr=e=>((0,o.Qi)("data-v-426950a2"),e=e(),(0,o.jt)(),e),Gr={key:0,class:"text-center my-3 text-lg text-bold"},Zr={class:"file-upload text-center position-relative"},ec=Yr((()=>(0,o.Lk)("span",{class:"d-block text-muted"},[(0,o.eW)(" Drop Files Here Or "),(0,o.Lk)("span",{class:"text-black fw-medium position-relative"}," Click To Upload ")],-1))),tc={class:"text-center"};function ac(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.selectedFile?((0,o.uX)(),(0,o.CE)("div",Gr,(0,v.v_)(e.selectedFile.name)+" : "+(0,v.v_)(e.selectedFile.size/1e3)+"kb",1)):(0,o.Q3)("",!0),(0,o.Lk)("div",Zr,[ec,(0,o.Lk)("input",{type:"file",class:"d-block shadow-none border-0 position-absolute start-0 end-0 top-0 bottom-0 z-1 opacity-0",ref:"fileInput",allowed:"jpg,jpeg,png,pdf",onChange:t[0]||(t[0]=(...t)=>e.handleFileChange&&e.handleFileChange(...t))},null,544)]),(0,o.Lk)("div",tc,[(0,o.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.uploadFile&&e.uploadFile(...t)),class:"btn btn-primary btn-md my-5"},(0,v.v_)(e.uploadingImage?"Please Wait!":"Upload File"),1)])],64)}const sc=(0,kn.dj)();var lc=(0,o.pM)({name:"RepaymentsFileUpload",props:["callBack","bank"],data(){return{selectedFile:null,audioUrl:"",uploadingImage:!1}},mounted(){this.selectedFile=null,this.uploadingImage=!1},methods:{handleFileChange(e){const t=e.target;this.selectedFile=t.files?.[0]||null},async uploadFile(){if(this.uploadingImage=!0,!this.selectedFile)return;const e=new FormData;e.append("file",this.selectedFile),e.append("bank",this.bank);try{it.uploadRepayments(e).then((e=>{this.uploadingImage=!1,sc.success("Repayments file uploaded successfully"),this.audioUrl="",this.selectedFile=null,this.callBack("uploadRepaymentFileModal")})).catch((e=>{this.uploadingImage=!1,this.callBack("uploadRepaymentFileModal"),this.audioUrl="",this.selectedFile=null,[422,403,400].includes(e.response.status)&&sc.error(e.response.data.message)}))}catch(t){console.error("Error uploading repayment file:",t)}}}});const oc=(0,R.A)(lc,[["render",ac],["__scopeId","data-v-426950a2"]]);var nc=oc,ic=(0,o.pM)({name:"SuccessfulRepaymentsPage",components:{BreadCrumb:me,CustomTable:tt,RepaymentsFileUpload:nc},computed:{downloadReport(){return this.hasAnyPermission(["download-repayments-report"])}},mounted(){it.payments("successful").then((e=>{this.retrieveRecords(e)})),this.downloadReport&&dt.getWebAccess({action:"download-repayments-report"}).then((e=>{this.webAccessToken=e.data?.data?.token,console.log("web acCESS",this.webAccessToken)}))},mixins:[H.A],methods:{showUploadRepayments(){this.hasAnyPermission(["add-repayment"])&&document.getElementById("uploadRepaymentFileModalButton")?.click()},viewDetails(){},moreRecords(e,t){null!=e&&void 0!=typeof e&&it.payments("successful",e).then((e=>{this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&it.payments("successful",e,t).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.payment_date?.split("+")[0],e.loan?.reference,e.loan?.user?.name,this.formatNumber(e.amount),e.reference,e.payment_method?.name,e.initiator?.name??"System",e.id]));let s=t.data;this.dataToPass={headers:["Payment Date","Loan Ref","Name","Amount","Reference","Payment Method","Initiator"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}},closeModal(e){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}},data(){return{webAccessToken:null,statusOptions:null,statementBank:"",dataToPass:{}}}});const dc=(0,R.A)(ic,[["render",Jr]]);var rc=dc;function cc(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{pageTitle:"Failed Repayments"}),(0,o.bF)(d,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:null},null,8,["propData","callBack"])],64)}var mc=(0,o.pM)({name:"FailedRepaymentsPage",components:{BreadCrumb:me,CustomTable:tt},mounted(){it.payments("failed").then((e=>{this.retrieveRecords(e)}))},mixins:[H.A],methods:{viewDetails(e){},moreRecords(e){null!=e&&void 0!=typeof e&&it.payments("failed").then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[this.formatDate(e.created_at),e.loan.reference,e.loan.user.name,this.formatNumber(e.amount),e.reference,e.payment_method.name,e.initiator.name??"System",e.id]));let s=t.data;this.dataToPass={headers:["Payment Date","Loan Ref","Name","Amount","Reference","Payment Method","Initiator"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}},data(){return{dataToPass:{}}}});const uc=(0,R.A)(mc,[["render",cc]]);var pc=uc;const bc={class:"my-3 align-right",style:{"text-align":"right"}},kc={key:0,class:"invisible",id:"createAdminModalButton","data-bs-toggle":"modal","data-bs-target":"#createNewModal"},fc={class:"modal fade createNewModal",id:"createNewModal",tabindex:"-1","aria-hidden":"true"},hc={class:"modal-dialog modal-dialog-centered"},gc={class:"modal-content p-15 p-md-40"},vc={class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},Lc={class:"modal-title fw-bold text-black"},yc={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},xc={class:"row"},wc={class:"col-lg-6 col-md-6"},Ac={class:"form-group mb-15 mb-md-25"},Dc=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Title ",-1),_c=(0,o.Lk)("option",{value:""},"Select",-1),Cc=(0,o.Lk)("option",null,"Mr",-1),Pc=(0,o.Lk)("option",null,"Mrs",-1),Fc=(0,o.Lk)("option",null,"Miss",-1),Tc=(0,o.Lk)("option",null,"Pastor",-1),Ec=(0,o.Lk)("option",null,"Dr",-1),Bc=(0,o.Lk)("option",null,"Chief",-1),Rc=[_c,Cc,Pc,Fc,Tc,Ec,Bc],Mc={class:"col-lg-6 col-md-6"},Sc={class:"form-group mb-15 mb-md-25"},Nc=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," First Name ",-1),Uc={class:"col-lg-6 col-md-6"},Ic={class:"form-group mb-15 mb-md-25"},Xc=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Last Name ",-1),jc={class:"col-lg-6 col-md-6"},Wc={class:"form-group mb-15 mb-md-25"},Oc=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Phone No ",-1),Vc={class:"col-lg-6 col-md-6"},zc={class:"form-group mb-15 mb-md-25"},Qc=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Email ",-1),Hc=["disabled"],$c={class:"col-lg-6 col-md-6"},qc={class:"form-group mb-15 mb-md-25"},Kc=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Roles ",-1),Jc=(0,o.Lk)("option",{value:""},"Select",-1),Yc=["value"],Gc=["disabled"],Zc=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),em={class:"modal fade modal-lg confirmResetModal",id:"confirmResetModal","data-bs-keyboard":"false",tabindex:"-1","aria-hidden":"true"},tm={class:"modal-dialog"},am={class:"modal-content"},sm=(0,o.Fv)('<div class="modal-header"><h1 class="modal-title fs-5">Approve Loan</h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><p class="fs-md-16 fs-lg-18">Are you sure you send a reset password link?</p></div>',2),lm={class:"modal-footer"},om=(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Nevermind ",-1),nm=(0,o.Lk)("button",{class:"invisible",id:"confirmResetModalButton","data-bs-toggle":"modal","data-bs-target":"#confirmResetModal"},null,-1);function im(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.bF)(d,{pageTitle:"All Admins"}),(0,o.Lk)("div",bc,[e.hasAnyPermission(["create-admin"])?((0,o.uX)(),(0,o.CE)("button",kc,"Create Admin")):(0,o.Q3)("",!0)]),(0,o.bF)(r,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.allItemActions,"button-text":"Edit",headAction:e.mainAction,headActionText:"Create Admin"},null,8,["propData","callBack","viewDetails","headAction"]),(0,o.Lk)("div",fc,[(0,o.Lk)("div",hc,[(0,o.Lk)("div",gc,[(0,o.Lk)("div",vc,[(0,o.Lk)("h5",Lc,(0,v.v_)(e.createForm.editing?"Edit Admin":"Add New User"),1)]),(0,o.Lk)("div",yc,[(0,o.Lk)("form",{onSubmit:t[6]||(t[6]=(0,n.D$)(((...t)=>e.createAdmin&&e.createAdmin(...t)),["prevent"]))},[(0,o.Lk)("div",xc,[(0,o.Lk)("div",wc,[(0,o.Lk)("div",Ac,[Dc,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.createForm.title=t),class:"form-control shadow-none rounded-0 text-black"},Rc,512),[[n.u1,e.createForm.title]])])]),(0,o.Lk)("div",Mc,[(0,o.Lk)("div",Sc,[Nc,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.createForm.first_name=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter First Name"},null,512),[[n.Jo,e.createForm.first_name]])])]),(0,o.Lk)("div",Uc,[(0,o.Lk)("div",Ic,[Xc,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[2]||(t[2]=t=>e.createForm.last_name=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Last Name"},null,512),[[n.Jo,e.createForm.last_name]])])]),(0,o.Lk)("div",jc,[(0,o.Lk)("div",Wc,[Oc,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[3]||(t[3]=t=>e.createForm.phone_number=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"e.g. 08061148035"},null,512),[[n.Jo,e.createForm.phone_number]])])]),(0,o.Lk)("div",Vc,[(0,o.Lk)("div",zc,[Qc,(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[4]||(t[4]=t=>e.createForm.email=t),required:"",disabled:e.createAdmin.editing,class:"form-control shadow-none rounded-0 text-black",placeholder:"e.g. 123@sapphirevirtual.com"},null,8,Hc),[[n.Jo,e.createForm.email]])])]),(0,o.Lk)("div",$c,[(0,o.Lk)("div",qc,[Kc,(0,o.bo)((0,o.Lk)("select",{class:"form-control shadow-none rounded-0 text-black","onUpdate:modelValue":t[5]||(t[5]=t=>e.createForm.roles=t),multiple:"",required:""},[Jc,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.roles,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.id,key:e},(0,v.v_)(e.name),9,Yc)))),128))],512),[[n.u1,e.createForm.roles]])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.createForm.processing},(0,v.v_)(e.createForm.processing?"Please Wait...":"Submit"),9,Gc)],32)]),Zc])])]),(0,o.Lk)("div",em,[(0,o.Lk)("div",tm,[(0,o.Lk)("div",am,[sm,(0,o.Lk)("div",lm,[om,(0,o.Lk)("button",{type:"button","data-bs-dismiss":"modal",class:"btn btn-success",onClick:t[7]||(t[7]=(...t)=>e.resetPassword&&e.resetPassword(...t))}," Send Link ")])])])])]),nm],64)}var dm=a(9180);const rm=(0,kn.dj)();var cm=(0,o.pM)({name:"AllAdmins",components:{BreadCrumb:me,CustomTable:tt},computed:{allItemActions(){return[{buttonText:"Reset Password",method:this.handleResetLink,hasPermission:this.hasAnyPermission(["create-admin"])},{buttonText:"Edit Admin",method:this.viewDetails,hasPermission:this.hasAnyPermission(["edit-admin"])}]}},data(){return{dataToPass:{},roles:[],allUsers:[],resetPasswordForm:{email:null,processing:!1},createForm:{id:null,title:null,first_name:null,last_name:null,email:null,editing:!1,phone_number:null,roles:[],processing:!1}}},mounted(){this.getUsers(),dt.getRoles().then((e=>{this.roles=e.data.data}))},mixins:[H.A],methods:{handleResetLink(e){let t=this.allUsers.filter((t=>t.id==e));t=t[0],console.log("user:",t),this.resetPasswordForm.email=t.email,document.getElementById("confirmResetModalButton")?.click()},resetPassword(){this.resetPassword.processing=!0,dm.A.resetPassword(this.resetPasswordForm).then((()=>{this.resetPassword.processing=!1,rm.success("Reset password link has been sent to customer email")})).catch((e=>{this.resetPassword.processing=!1,422===e.response.status&&rm.error(e.response.data.message)}))},mainAction(){this.createForm={id:null,title:null,first_name:null,last_name:null,email:null,editing:!1,phone_number:null,roles:[],processing:!1},this.hasAnyPermission(["create-admin"])&&document.getElementById("createAdminModalButton")?.click()},viewDetails(e){console.log("users role:",e,this.allUsers);let t=this.allUsers.filter((t=>t.id==e));t=t[0],console.log("users role:",e,t),this.hasAnyPermission(["create-admin"])&&(this.createForm.first_name=t.first_name,this.createForm.last_name=t.last_name,this.createForm.email=t.email,this.createForm.phone_number=t.phone_number,this.createForm.title=t.title,this.createForm.id=t.id,this.createForm.roles=t.roles.map((e=>e.id)),this.createForm.editing=!0,document.getElementById("createAdminModalButton")?.click())},getUsers(){dt.getUsers("yes").then((e=>{this.allUsers=e.data.data.data,this.retrieveRecords(e)}))},createAdmin(){this.createForm.editing?(this.createForm.processing=!0,dt.update(this.createForm).then((e=>{this.createForm.processing=!1,rm.success("Admin Updated successfully"),this.closeModal("createNewModal"),this.getUsers()})).catch((e=>{this.createForm.processing=!1,422===e.response.status&&rm.error(e.response.data.message)}))):dt.create(this.createForm).then((e=>{this.createForm.processing=!1,rm.success("Admin Created successfully"),this.closeModal("createNewModal"),this.getUsers()})).catch((e=>{this.createForm.processing=!1,422===e.response.status&&rm.error(e.response.data.message)}))},moreRecords(e,t){null!=e&&void 0!=typeof e&&dt.getUsers("yes",t,e).then((e=>{this.allUsers=e.data.data.data,this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&dt.getUsers("yes",t).then((e=>{this.allUsers=e.data.data.data,this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.name,e.email,e.phone_number,e.ippis_number,e.gender,e.bvn,e.roles.map((e=>e.name)).join(" | "),this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Email","Phone Number","IPPIS","Gender","BVN","Roles","Date Created","Action"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}},closeModal(e){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}}});const mm=(0,R.A)(cm,[["render",im]]);var um=mm;const pm={class:"modal fade createNewModal",id:"createNewModal",tabindex:"-1","aria-hidden":"true"},bm={class:"modal-dialog modal-dialog-centered"},km={class:"modal-content p-15 p-md-40"},fm={class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},hm={class:"modal-title fw-bold text-black"},gm={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},vm={class:"row"},Lm={class:"col-lg-6 col-md-6"},ym={class:"form-group mb-15 mb-md-25"},xm=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," First Name ",-1),wm={class:"col-lg-6 col-md-6"},Am={class:"form-group mb-15 mb-md-25"},Dm=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Last Name ",-1),_m={class:"col-lg-6 col-md-6"},Cm={class:"form-group mb-15 mb-md-25"},Pm=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Phone No ",-1),Fm={class:"col-lg-6 col-md-6"},Tm={class:"form-group mb-15 mb-md-25"},Em=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Email ",-1),Bm=["disabled"],Rm={class:"col-lg-6 col-md-6"},Mm={class:"form-group mb-15 mb-md-25"},Sm=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Date of Birth ",-1),Nm={class:"col-lg-6 col-md-6"},Um={class:"form-group mb-15 mb-md-25"},Im=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," BVN ",-1),Xm={class:"col-lg-6 col-md-6"},jm={class:"form-group mb-15 mb-md-25"},Wm=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," NIN ",-1),Om=["disabled"],Vm=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),zm={key:0,class:"invisible",id:"createAdminModalButton","data-bs-toggle":"modal","data-bs-target":"#createNewModal"};function Qm(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(d,{pageTitle:"All Users"}),(0,o.bF)(r,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails,buttonText:"Edit"},null,8,["propData","callBack","viewDetails"]),(0,o.Lk)("div",pm,[(0,o.Lk)("div",bm,[(0,o.Lk)("div",km,[(0,o.Lk)("div",fm,[(0,o.Lk)("h5",hm,(0,v.v_)(e.createForm.editing?"Edit Admin":"Add New User"),1)]),(0,o.Lk)("div",gm,[(0,o.Lk)("form",{onSubmit:t[7]||(t[7]=(0,n.D$)(((...t)=>e.createAdmin&&e.createAdmin(...t)),["prevent"]))},[(0,o.Lk)("div",vm,[(0,o.Lk)("div",Lm,[(0,o.Lk)("div",ym,[xm,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.createForm.first_name=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter First Name"},null,512),[[n.Jo,e.createForm.first_name]])])]),(0,o.Lk)("div",wm,[(0,o.Lk)("div",Am,[Dm,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.createForm.last_name=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Last Name"},null,512),[[n.Jo,e.createForm.last_name]])])]),(0,o.Lk)("div",_m,[(0,o.Lk)("div",Cm,[Pm,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[2]||(t[2]=t=>e.createForm.phone_number=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"e.g. 08061148035"},null,512),[[n.Jo,e.createForm.phone_number]])])]),(0,o.Lk)("div",Fm,[(0,o.Lk)("div",Tm,[Em,(0,o.bo)((0,o.Lk)("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=t=>e.createForm.email=t),disabled:e.createForm.editing,class:"form-control shadow-none rounded-0 text-black",placeholder:"e.g. 123@sapphirevirtual.com"},null,8,Bm),[[n.Jo,e.createForm.email]])])]),(0,o.Lk)("div",Rm,[(0,o.Lk)("div",Mm,[Sm,(0,o.bo)((0,o.Lk)("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=t=>e.createForm.date_of_birth=t),required:"",class:"form-control shadow-none rounded-0 text-black"},null,512),[[n.Jo,e.createForm.date_of_birth]])])]),(0,o.Lk)("div",Nm,[(0,o.Lk)("div",Um,[Im,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=t=>e.createForm.bvn=t),required:"",maxlength:"11",class:"form-control shadow-none rounded-0 text-black"},null,512),[[n.Jo,e.createForm.bvn]])])]),(0,o.Lk)("div",Xm,[(0,o.Lk)("div",jm,[Wm,(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=t=>e.createForm.nin=t),required:"",maxlength:"11",class:"form-control shadow-none rounded-0 text-black"},null,512),[[n.Jo,e.createForm.nin]])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.createForm.processing},(0,v.v_)(e.createForm.processing?"Please Wait...":"Submit"),9,Om)],32)]),Vm])])]),e.hasAnyPermission(["edit-user"])?((0,o.uX)(),(0,o.CE)("button",zm,"Create Admin")):(0,o.Q3)("",!0)])}const Hm=(0,kn.dj)();var $m=(0,o.pM)({name:"AllUsers",components:{BreadCrumb:me,CustomTable:tt},mounted(){dt.getUsers().then((e=>{this.allUsers=e.data.data.data,this.retrieveRecords(e)}))},mixins:[H.A],methods:{viewDetails(e){console.log("users id:",e,this.allUsers);let t=this.allUsers.filter((t=>t.id==e));t=t[0],console.log("user"),this.hasAnyPermission(["edit-user"])&&(this.createForm.first_name=t.first_name,this.createForm.last_name=t.last_name,this.createForm.email=t.email,this.createForm.phone_number=t.phone_number,this.createForm.title=t.title,this.createForm.date_of_birth=t.date_of_birth,this.createForm.bvn=t.bvn,this.createForm.nin=t.nin,this.createForm.id=t.id,this.createForm.editing=!0,document.getElementById("createAdminModalButton")?.click())},createAdmin(){this.createForm.processing=!0,dt.userUpdate(this.createForm).then((e=>{this.createForm.processing=!1,Hm.success("User Updated successfully"),this.closeModal("createNewModal"),this.getUsers()})).catch((e=>{this.createForm.processing=!1,422===e.response.status&&Hm.error(e.response.data.message)}))},getUsers(){dt.getUsers().then((e=>{this.allUsers=e.data.data.data,this.retrieveRecords(e)}))},closeModal(e){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()},moreRecords(e,t){null!=e&&void 0!=typeof e&&dt.getUsers("no",t,e).then((e=>{this.allUsers=e.data.data.data,this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&dt.getUsers("false",t).then((e=>{this.allUsers=e.data.data.data,this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.name,e.email,e.phone_number,e.ippis_number,e.gender,e.bvn,this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Email","Phone Number","IPPIS Number","Gender","BVN","Date Created","Action"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}},data(){return{dataToPass:{},allUsers:[],createForm:{id:null,title:null,first_name:null,last_name:null,date_of_birth:null,bvn:null,nin:null,email:null,editing:!1,phone_number:null,processing:!1}}}});const qm=(0,R.A)($m,[["render",Qm]]);var Km=qm;function Jm(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb");return(0,o.uX)(),(0,o.Wv)(i,{PageTitle:"Blank Page"})}var Ym=(0,o.pM)({name:"BlankPage",components:{BreadCrumb:me}});const Gm=(0,R.A)(Ym,[["render",Jm]]);var Zm=Gm;function eu(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("LogoutContent");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{PageTitle:"Logout"}),(0,o.bF)(d)],64)}const tu={class:"row justify-content-center"},au={class:"col-md-10 col-lg-8 col-xl-9 col-xxl-8 col-xxxl-5"},su={class:"card mb-25 border-0 rounded-0 bg-white authentication-card email-confirmation-card"},lu={class:"card-body letter-spacing"},ou=(0,o.Lk)("div",{class:"icon mb-20 mb-sm-25 mb-md-30 md-lg-35 text-success text-center rounded-circle position-relative ms-auto me-auto"},[(0,o.Lk)("i",{class:"flaticon-lock-1"})],-1),nu=(0,o.Lk)("h4",{class:"text-black fw-bold mb-0 text-center"}," You Are Logged Out ",-1),iu=(0,o.Lk)("p",{class:"mb-0 fs-md-15 fs-lg-16 text-paragraph text-center sub-text"}," Your mail is verified! Your account is now safe from unwanted activities. ",-1);function du(e,t,a,s,l,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",tu,[(0,o.Lk)("div",au,[(0,o.Lk)("div",su,[(0,o.Lk)("div",lu,[ou,nu,iu,(0,o.bF)(i,{class:"default-btn transition border-0 fw-medium text-white rounded-1 fs-md-15 fs-lg-16 d-block w-100 text-decoration-none text-center mt-15 mt-sm-20 mt-md-25 mt-lg-30",to:"/login"},{default:(0,o.k6)((()=>[(0,o.eW)(" Sign In Now ")])),_:1})])])])])}var ru={name:"LogoutContent"};const cu=(0,R.A)(ru,[["render",du]]);var mu=cu,uu=(0,o.pM)({name:"LogoutPage",components:{BreadCrumb:me,LogoutContent:mu}});const pu=(0,R.A)(uu,[["render",eu]]);var bu=pu;function ku(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{pageTitle:"Pending Approval Loans"}),(0,o.bF)(d,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails},null,8,["propData","callBack","viewDetails"])],64)}var fu=(0,o.pM)({name:"PendingApprovalLoansPage",components:{BreadCrumb:me,CustomTable:tt},mounted(){at.A.pendingApproval().then((e=>{this.retrieveRecords(e)}))},mixins:[H.A],methods:{viewDetails(e){cD.push("/loans/"+e)},moreRecords(e){null!=e&&void 0!=typeof e&&at.A.moreRecords(e).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user.first_name+" "+e.user.last_name,e.user.phone_number,this.formatNumber(e.amount),e.tenor.toString(),e?.loan_type?.name,e.organization_name,this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Amount","Tenor","Type","Organisation","Date Created"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}},data(){return{dataToPass:{}}}});const hu=(0,R.A)(fu,[["render",ku]]);var gu=hu;function vu(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{pageTitle:"Loans Pending Dibursement"}),(0,o.bF)(d,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails},null,8,["propData","callBack","viewDetails"])],64)}var Lu=(0,o.pM)({name:"PendingDisbursementLoansPage",components:{BreadCrumb:me,CustomTable:tt},mounted(){at.A.pendingDisbursal().then((e=>{this.retrieveRecords(e)}))},mixins:[H.A],methods:{viewDetails(e){cD.push("/loans/"+e)},moreRecords(e){null!=e&&void 0!=typeof e&&at.A.moreRecords(e).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user?.first_name+" "+e.user?.last_name,e.user?.phone_number,this.formatNumber(e.amount),this.formatNumber(e.disbursement_amount),e.tenor.toString(),e.organization_name,this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Loan Amount","Amount to Pay","Tenor","Organisation","Date Created"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}},data(){return{dataToPass:{}}}});const yu=(0,R.A)(Lu,[["render",vu]]);var xu=yu;function wu(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{pageTitle:"Loans Pending Deduction Setup"}),(0,o.bF)(d,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails},null,8,["propData","callBack","viewDetails"])],64)}var Au=(0,o.pM)({name:"PendingDeductionSetupLoansPage",components:{BreadCrumb:me,CustomTable:tt},mounted(){at.A.pendingDeductionSetup().then((e=>{this.retrieveRecords(e)}))},mixins:[H.A],methods:{viewDetails(e){cD.push("/loans/"+e)},moreRecords(e){null!=e&&void 0!=typeof e&&at.A.moreRecords(e).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user.first_name+" "+e.user.last_name,e.user.phone_number,this.formatNumber(e.approved_amount),e.tenor.toString(),e?.loan_type?.name,e.organization_name,this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Amount","Tenor","Type","Organisation","Date Created"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}},data(){return{dataToPass:{}}}});const Du=(0,R.A)(Au,[["render",wu]]);var _u=Du;const Cu={class:"modal fade createManualRepayment",id:"createManualRepayment",tabindex:"-1","aria-hidden":"true"},Pu={class:"modal-dialog modal-dialog-centered"},Fu={class:"modal-content p-15 p-md-40"},Tu=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Add Manual Repayment")],-1),Eu={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Bu={class:"row"},Ru={class:"col-lg-6 col-md-6"},Mu={class:"form-group mb-15 mb-md-25"},Su=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Payment Method ",-1),Nu=(0,o.Lk)("option",{value:""},"Select",-1),Uu=["value"],Iu={class:"col-lg-6 col-md-6"},Xu={class:"form-group mb-15 mb-md-25"},ju=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Reference ",-1),Wu={class:"col-lg-6 col-md-6"},Ou={class:"form-group mb-15 mb-md-25"},Vu=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Amount ",-1),zu=["disabled"],Qu=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Hu=(0,o.Lk)("button",{class:"invisible",id:"repaymentModalButton","data-bs-toggle":"modal","data-bs-target":"#createManualRepayment"},null,-1),$u={class:"modal fade repaymentScheduleModal",id:"repaymentScheduleModal",tabindex:"-1","aria-hidden":"true"},qu={class:"modal-dialog modal-dialog-centered"},Ku={class:"modal-content p-15 p-md-40"},Ju=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Repayment Schedule")],-1),Yu={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Gu={class:"ps-0 mb-0 w-100"},Zu=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis"},"DUE DATE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"BALANCE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"STATUS")])],-1),ep={class:"py-3 text-left",style:{width:"50% !important"}},tp={class:"d-block fw-bold text-black-emphasis me-15"},ap={class:"p-2 text-left w-25"},sp={class:"p-2 text-left w-25"},lp=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),op=(0,o.Lk)("button",{class:"invisible",id:"repaymentScheduleModalButton","data-bs-toggle":"modal","data-bs-target":"#repaymentScheduleModal"},null,-1),np={class:"modal fade mandateHistoryModal",id:"mandateHistoryModal",tabindex:"-1","aria-hidden":"true"},ip={class:"modal-dialog modal-dialog-centered"},dp={class:"modal-content p-15 p-md-40"},rp=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Mandate History")],-1),cp={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},mp={class:"ps-0 mb-0 w-100"},up=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis"},"DUE DATE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"MANDATE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"STATUS")])],-1),pp={class:"py-3 text-left",style:{width:"50% !important"}},bp={class:"d-block fw-bold text-black-emphasis me-15"},kp={class:"p-2 text-left w-25"},fp={class:"p-2 text-left w-25"},hp=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),gp=(0,o.Lk)("button",{class:"invisible",id:"mandateHistoryModalButton","data-bs-toggle":"modal","data-bs-target":"#mandateHistoryModal"},null,-1);function vp(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(d,{pageTitle:"Pending Deductions"}),(0,o.bF)(r,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.allItemActions,"button-text":"Add Repayment"},null,8,["propData","callBack","viewDetails"]),(0,o.Lk)("div",Cu,[(0,o.Lk)("div",Pu,[(0,o.Lk)("div",Fu,[Tu,(0,o.Lk)("div",Eu,[(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...t)=>e.createRepayment&&e.createRepayment(...t)),["prevent"]))},[(0,o.Lk)("div",Bu,[(0,o.Lk)("div",Ru,[(0,o.Lk)("div",Mu,[Su,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.createForm.paymentMethodId=t),class:"form-control shadow-none rounded-0 text-black"},[Nu,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.paymentMethods,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.id,key:e},(0,v.v_)(e.name),9,Uu)))),128))],512),[[n.u1,e.createForm.paymentMethodId]])])]),(0,o.Lk)("div",Iu,[(0,o.Lk)("div",Xu,[ju,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.createForm.reference=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Payment Reference"},null,512),[[n.Jo,e.createForm.reference]])])]),(0,o.Lk)("div",Wu,[(0,o.Lk)("div",Ou,[Vu,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[2]||(t[2]=t=>e.createForm.amount=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Amount"},null,512),[[n.Jo,e.createForm.amount]])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.createForm.processing},(0,v.v_)(e.createForm.processing?"Please Wait...":"Submit"),9,zu)],32)]),Qu])]),Hu]),(0,o.Lk)("div",$u,[(0,o.Lk)("div",qu,[(0,o.Lk)("div",Ku,[Ju,(0,o.Lk)("div",Yu,[(0,o.Lk)("table",Gu,[Zu,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.selectedLoan?.scheduled_deductions,(t=>((0,o.uX)(),(0,o.CE)("tr",{class:"border border-light",key:t.id},[(0,o.Lk)("td",ep,[(0,o.Lk)("span",tp,(0,v.v_)(e.formatDate(t.due_date))+". ",1)]),(0,o.Lk)("td",ap,(0,v.v_)(e.formatNumber(t.balance)),1),(0,o.Lk)("td",sp,[(0,o.Lk)("div",{class:(0,v.C4)(["badge",{"text-outline-success":!t.active,"text-outline-primary":t.active&&!e.dateHasPassed(t.due_date),"text-outline-danger":t.active&&e.dateHasPassed(t.due_date)}])},(0,v.v_)(t.active&&!e.dateHasPassed(t.due_date)?"ACTIVE":t.active&&e.dateHasPassed(t.due_date)?"OVERDUE":"COMPLETED"),3)])])))),128))])])]),lp])]),op]),(0,o.Lk)("div",np,[(0,o.Lk)("div",ip,[(0,o.Lk)("div",dp,[rp,(0,o.Lk)("div",cp,[(0,o.Lk)("table",mp,[up,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.selectedLoan?.mandate_histories,(t=>((0,o.uX)(),(0,o.CE)("tr",{class:"border border-light",key:t.id},[(0,o.Lk)("td",pp,[(0,o.Lk)("span",bp,(0,v.v_)(e.formatDate(t.due_date))+". ",1)]),(0,o.Lk)("td",kp,(0,v.v_)(t.remita_mandate_reference),1),(0,o.Lk)("td",fp,[(0,o.Lk)("div",{class:(0,v.C4)(["badge",{"text-outline-success":"active"==t.status,"text-outline-danger":"stop"==t.status}])},(0,v.v_)(t.status?.toUpperCase()),3)])])))),128))])])]),hp])]),gp])])}const Lp=(0,kn.dj)();var yp=(0,o.pM)({name:"PendingDeductionsPage",components:{BreadCrumb:me,CustomTable:tt},data(){return{dataToPass:{},paymentMethods:null,selectedLoan:null,pendingLoans:[],createForm:{loanId:null,amount:null,reference:null,paymentMethodId:null,processing:!1}}},computed:{allItemActions(){return[{buttonText:"Add Repayment",method:this.showRepaymentDialog,hasPermission:this.hasAnyPermission(["add-repayment"])},{buttonText:"View Schedule",method:this.showRepaymentSchedule,hasPermission:!0},{buttonText:"View Mandates",method:this.showMandateHistory,hasPermission:!0}]}},mounted(){it.getPaymentMethods().then((e=>{this.paymentMethods=e.data.data})),it.pendingDeductions().then((e=>{this.pendingLoans=e.data.data.data,console.log("pending loans",e.data.data.data),this.retrieveRecords(e)}))},mixins:[H.A],methods:{dateHasPassed(e){let t=Date.parse(e);var a=new Date;if(a.setHours(0,0,0,0),t<a)return!0},showMandateHistory(e){let t=this.pendingLoans.filter((t=>t.id==e));this.selectedLoan=t[0],console.log("loan:",t),document.getElementById("mandateHistoryModalButton").click()},showRepaymentSchedule(e){let t=this.pendingLoans.filter((t=>t.id==e));this.selectedLoan=t[0],console.log("loan:",t),document.getElementById("repaymentScheduleModalButton").click()},showRepaymentDialog(e){this.hasAnyPermission(["add-repayment"])&&(this.createForm.loanId=e,document.getElementById("repaymentModalButton").click())},moreRecords(e,t){null!=e&&void 0!=typeof e&&it.pendingDeductions(e,t).then((e=>{this.pendingLoans=e.data.data.data,this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&it.pendingDeductions(e,t).then((e=>{this.pendingLoans=e.data.data.data,this.retrieveRecords(e)}))},retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user?.name,e.user?.phone_number,this.formatNumber(e.balance),e.reference,e.mandate_reference,this.formatDate(e.created_at),e.mandate_status,e.mandate_checked_at?this.formatDate(e.mandate_checked_at):null,e.mandate_reactivation_count,e.status,e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Total Balance","Loan ID","Mandate Reference","Loan Date","Mandate Status","Mandate Last Check","Mandate Reactivation Count","Action"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}},createRepayment(){this.createForm.processing=!0,it.manualRepayment(this.createForm).then((e=>{this.createForm.processing=!1,Lp.success("Repayment Added successfully"),this.closeModal("createManualRepayment")})).catch((e=>{this.createForm.processing=!1,422===e.response.status&&Lp.error(e.response.data.message)}))},closeModal(e){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}}});const xp=(0,R.A)(yp,[["render",vp]]);var wp=xp;const Ap={class:"modal fade createManualRepayment",id:"createManualRepayment",tabindex:"-1","aria-hidden":"true"},Dp={class:"modal-dialog modal-dialog-centered"},_p={class:"modal-content p-15 p-md-40"},Cp=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Add Manual Repayment")],-1),Pp={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Fp={class:"row"},Tp={class:"col-lg-6 col-md-6"},Ep={class:"form-group mb-15 mb-md-25"},Bp=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Payment Method ",-1),Rp=(0,o.Lk)("option",{value:""},"Select",-1),Mp=["value"],Sp={class:"col-lg-6 col-md-6"},Np={class:"form-group mb-15 mb-md-25"},Up=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Reference ",-1),Ip={class:"col-lg-6 col-md-6"},Xp={class:"form-group mb-15 mb-md-25"},jp=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Amount ",-1),Wp=["disabled"],Op=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Vp=(0,o.Lk)("button",{class:"invisible",id:"repaymentModalButton","data-bs-toggle":"modal","data-bs-target":"#createManualRepayment"},null,-1),zp={class:"modal fade repaymentScheduleModal",id:"repaymentScheduleModal",tabindex:"-1","aria-hidden":"true"},Qp={class:"modal-dialog modal-dialog-centered"},Hp={class:"modal-content p-15 p-md-40"},$p=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Repayment Schedule")],-1),qp={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Kp={class:"ps-0 mb-0 w-100"},Jp=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis"},"DUE DATE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"BALANCE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"STATUS")])],-1),Yp={class:"py-3 text-left",style:{width:"50% !important"}},Gp={class:"d-block fw-bold text-black-emphasis me-15"},Zp={class:"p-2 text-left w-25"},eb={class:"p-2 text-left w-25"},tb=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ab=(0,o.Lk)("button",{class:"invisible",id:"repaymentScheduleModalButton","data-bs-toggle":"modal","data-bs-target":"#repaymentScheduleModal"},null,-1),sb={class:"modal fade mandateHistoryModal",id:"mandateHistoryModal",tabindex:"-1","aria-hidden":"true"},lb={class:"modal-dialog modal-dialog-centered"},ob={class:"modal-content p-15 p-md-40"},nb=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Mandate History")],-1),ib={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},db={class:"ps-0 mb-0 w-100"},rb=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis"},"DUE DATE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"MANDATE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"STATUS")])],-1),cb={class:"py-3 text-left",style:{width:"50% !important"}},mb={class:"d-block fw-bold text-black-emphasis me-15"},ub={class:"p-2 text-left w-25"},pb={class:"p-2 text-left w-25"},bb=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),kb=(0,o.Lk)("button",{class:"invisible",id:"mandateHistoryModalButton","data-bs-toggle":"modal","data-bs-target":"#mandateHistoryModal"},null,-1);function fb(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(d,{pageTitle:"Overdue Deductions"}),(0,o.bF)(r,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.allItemActions,"button-text":"Add Repayment"},null,8,["propData","callBack","viewDetails"]),(0,o.Lk)("div",Ap,[(0,o.Lk)("div",Dp,[(0,o.Lk)("div",_p,[Cp,(0,o.Lk)("div",Pp,[(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...t)=>e.createRepayment&&e.createRepayment(...t)),["prevent"]))},[(0,o.Lk)("div",Fp,[(0,o.Lk)("div",Tp,[(0,o.Lk)("div",Ep,[Bp,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.createForm.paymentMethodId=t),class:"form-control shadow-none rounded-0 text-black"},[Rp,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.paymentMethods,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.id,key:e},(0,v.v_)(e.name),9,Mp)))),128))],512),[[n.u1,e.createForm.paymentMethodId]])])]),(0,o.Lk)("div",Sp,[(0,o.Lk)("div",Np,[Up,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.createForm.reference=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Payment Reference"},null,512),[[n.Jo,e.createForm.reference]])])]),(0,o.Lk)("div",Ip,[(0,o.Lk)("div",Xp,[jp,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[2]||(t[2]=t=>e.createForm.amount=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Amount"},null,512),[[n.Jo,e.createForm.amount]])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.createForm.processing},(0,v.v_)(e.createForm.processing?"Please Wait...":"Submit"),9,Wp)],32)]),Op])]),Vp]),(0,o.Lk)("div",zp,[(0,o.Lk)("div",Qp,[(0,o.Lk)("div",Hp,[$p,(0,o.Lk)("div",qp,[(0,o.Lk)("table",Kp,[Jp,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.selectedLoan?.scheduled_deductions,(t=>((0,o.uX)(),(0,o.CE)("tr",{class:"border border-light",key:t.id},[(0,o.Lk)("td",Yp,[(0,o.Lk)("span",Gp,(0,v.v_)(e.formatDate(t.due_date))+". ",1)]),(0,o.Lk)("td",Zp,(0,v.v_)(e.formatNumber(t.balance)),1),(0,o.Lk)("td",eb,[(0,o.Lk)("div",{class:(0,v.C4)(["badge",{"text-outline-success":!t.active,"text-outline-primary":t.active&&!e.dateHasPassed(t.due_date),"text-outline-danger":t.active&&e.dateHasPassed(t.due_date)}])},(0,v.v_)(t.active&&!e.dateHasPassed(t.due_date)?"ACTIVE":t.active&&e.dateHasPassed(t.due_date)?"OVERDUE":"COMPLETED"),3)])])))),128))])])]),tb])]),ab]),(0,o.Lk)("div",sb,[(0,o.Lk)("div",lb,[(0,o.Lk)("div",ob,[nb,(0,o.Lk)("div",ib,[(0,o.Lk)("table",db,[rb,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.selectedLoan?.mandate_histories,(t=>((0,o.uX)(),(0,o.CE)("tr",{class:"border border-light",key:t.id},[(0,o.Lk)("td",cb,[(0,o.Lk)("span",mb,(0,v.v_)(e.formatDate(t.due_date))+". ",1)]),(0,o.Lk)("td",ub,(0,v.v_)(t.remita_mandate_reference),1),(0,o.Lk)("td",pb,[(0,o.Lk)("div",{class:(0,v.C4)(["badge",{"text-outline-success":"active"==t.status,"text-outline-danger":"stop"==t.status}])},(0,v.v_)(t.status?.toUpperCase()),3)])])))),128))])])]),bb])]),kb])])}const hb=(0,kn.dj)();var gb=(0,o.pM)({name:"OverdueDeductionsPage",components:{BreadCrumb:me,CustomTable:tt},data(){return{dataToPass:{},paymentMethods:null,selectedLoan:null,pendingLoans:[],createForm:{loanId:null,amount:null,reference:null,paymentMethodId:null,processing:!1}}},computed:{allItemActions(){return[{buttonText:"Add Repayment",method:this.showRepaymentDialog,hasPermission:this.hasAnyPermission(["add-repayment"])},{buttonText:"View Schedule",method:this.showRepaymentSchedule,hasPermission:!0},{buttonText:"View Mandates",method:this.showMandateHistory,hasPermission:!0}]}},mounted(){it.getPaymentMethods().then((e=>{this.paymentMethods=e.data.data})),this.fetchDeductions()},mixins:[H.A],methods:{fetchDeductions(){it.overdueDeductions().then((e=>{this.pendingLoans=e.data.data.data,console.log("pending loans",e.data.data.data),this.retrieveRecords(e)}))},dateHasPassed(e){let t=Date.parse(e);var a=new Date;if(a.setHours(0,0,0,0),t<a)return!0},showMandateHistory(e){let t=this.pendingLoans.filter((t=>t.id==e));this.selectedLoan=t[0],console.log("loan:",t),document.getElementById("mandateHistoryModalButton").click()},showRepaymentSchedule(e){let t=this.pendingLoans.filter((t=>t.id==e));this.selectedLoan=t[0],console.log("loan:",t,e,this.pendingLoans),document.getElementById("repaymentScheduleModalButton").click()},showRepaymentDialog(e){this.hasAnyPermission(["add-repayment"])&&(this.createForm.loanId=e,document.getElementById("repaymentModalButton").click())},moreRecords(e,t){null!=e&&void 0!=typeof e&&it.overdueDeductions(e,t).then((e=>{this.pendingLoans=e.data.data.data,this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&it.overdueDeductions(e,t).then((e=>{this.pendingLoans=e.data.data.data,this.retrieveRecords(e)}))},retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user?.name,e.user?.phone_number,this.formatNumber(e.balance),e.reference,e.mandate_reference,this.formatDate(e.created_at),e.days_overdue,e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Total Balance","Loan ID","Mandate Reference","Loan Date","Days Overdue","Action"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}},createRepayment(){this.createForm.processing=!0,it.manualRepayment(this.createForm).then((e=>{this.createForm.processing=!1,hb.success("Repayment Added successfully"),this.closeModal("createManualRepayment"),this.fetchDeductions()})).catch((e=>{this.createForm.processing=!1,422===e.response.status&&hb.error(e.response.data.message)}))},closeModal(e){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}}});const vb=(0,R.A)(gb,[["render",fb]]);var Lb=vb;const yb={class:"modal fade createManualRepayment",id:"createManualRepayment",tabindex:"-1","aria-hidden":"true"},xb={class:"modal-dialog modal-dialog-centered"},wb={class:"modal-content p-15 p-md-40"},Ab=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Add Manual Repayment")],-1),Db={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},_b={class:"text-lg text-center mb-3"},Cb=(0,o.Lk)("br",null,null,-1),Pb={class:"fs-3"},Fb={class:"row"},Tb={class:"col-lg-6 col-md-6"},Eb={class:"form-group mb-15 mb-md-25"},Bb=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Payment Method ",-1),Rb=(0,o.Lk)("option",{value:""},"Select",-1),Mb=["value"],Sb={class:"col-lg-6 col-md-6"},Nb={class:"form-group mb-15 mb-md-25"},Ub=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Reference ",-1),Ib={class:"col-lg-6 col-md-6"},Xb={class:"form-group mb-15 mb-md-25"},jb=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Amount ",-1),Wb=["disabled"],Ob=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Vb=(0,o.Lk)("button",{class:"invisible",id:"repaymentModalButton","data-bs-toggle":"modal","data-bs-target":"#createManualRepayment"},null,-1),zb={class:"modal fade repaymentScheduleModal",id:"repaymentScheduleModal",tabindex:"-1","aria-hidden":"true"},Qb={class:"modal-dialog modal-dialog-centered"},Hb={class:"modal-content p-15 p-md-40"},$b=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Repayment Schedule")],-1),qb={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Kb={class:"ps-0 mb-0 w-100"},Jb=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis"},"DUE DATE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"BALANCE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"STATUS")])],-1),Yb={class:"py-3 text-left",style:{width:"50% !important"}},Gb={class:"d-block fw-bold text-black-emphasis me-15"},Zb={class:"p-2 text-left w-25"},ek={class:"p-2 text-left w-25"},tk=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),ak=(0,o.Lk)("button",{class:"invisible",id:"repaymentScheduleModalButton","data-bs-toggle":"modal","data-bs-target":"#repaymentScheduleModal"},null,-1),sk={class:"modal fade mandateHistoryModal",id:"mandateHistoryModal",tabindex:"-1","aria-hidden":"true"},lk={class:"modal-dialog modal-dialog-centered"},ok={class:"modal-content p-15 p-md-40"},nk=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Mandate History")],-1),ik={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},dk={class:"ps-0 mb-0 w-100"},rk=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis"},"DUE DATE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"MANDATE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"STATUS")])],-1),ck={class:"py-3 text-left",style:{width:"50% !important"}},mk={class:"d-block fw-bold text-black-emphasis me-15"},uk={class:"p-2 text-left w-25"},pk={class:"p-2 text-left w-25"},bk=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),kk=(0,o.Lk)("button",{class:"invisible",id:"mandateHistoryModalButton","data-bs-toggle":"modal","data-bs-target":"#mandateHistoryModal"},null,-1);function fk(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(d,{pageTitle:"All Deductions"}),(0,o.bF)(r,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.allItemActions,"button-text":"Add Repayment",report:"portfolio",webAccessToken:e.webAccessToken,webAction:"download-portfolio-report",downloadStatusOptions:e.statusOptions,downloadReportUrl:"https://sapphire-api.digisparksolutions.ng/reports/download/credit"},null,8,["propData","callBack","viewDetails","webAccessToken","downloadStatusOptions"]),(0,o.Lk)("div",yb,[(0,o.Lk)("div",xb,[(0,o.Lk)("div",wb,[Ab,(0,o.Lk)("div",Db,[(0,o.Lk)("div",_b,[(0,o.eW)(" Liquidation Amount : "),Cb,(0,o.Lk)("span",Pb,(0,v.v_)(e.formatNumber(e.createForm.liquidationAmount??0)),1)]),(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...t)=>e.createRepayment&&e.createRepayment(...t)),["prevent"]))},[(0,o.Lk)("div",Fb,[(0,o.Lk)("div",Tb,[(0,o.Lk)("div",Eb,[Bb,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.createForm.paymentMethodId=t),class:"form-control shadow-none rounded-0 text-black"},[Rb,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.paymentMethods,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.id,key:e},(0,v.v_)(e.name),9,Mb)))),128))],512),[[n.u1,e.createForm.paymentMethodId]])])]),(0,o.Lk)("div",Sb,[(0,o.Lk)("div",Nb,[Ub,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.createForm.reference=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Payment Reference"},null,512),[[n.Jo,e.createForm.reference]])])]),(0,o.Lk)("div",Ib,[(0,o.Lk)("div",Xb,[jb,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[2]||(t[2]=t=>e.createForm.amount=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Amount"},null,512),[[n.Jo,e.createForm.amount]])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.createForm.processing},(0,v.v_)(e.createForm.processing?"Please Wait...":"Submit"),9,Wb)],32)]),Ob])]),Vb]),(0,o.Lk)("div",zb,[(0,o.Lk)("div",Qb,[(0,o.Lk)("div",Hb,[$b,(0,o.Lk)("div",qb,[(0,o.Lk)("table",Kb,[Jb,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.selectedLoan?.scheduled_deductions,(t=>((0,o.uX)(),(0,o.CE)("tr",{class:"border border-light",key:t.id},[(0,o.Lk)("td",Yb,[(0,o.Lk)("span",Gb,(0,v.v_)(e.formatDate(t.due_date))+". ",1)]),(0,o.Lk)("td",Zb,(0,v.v_)(e.formatNumber(t.balance)),1),(0,o.Lk)("td",ek,[(0,o.Lk)("div",{class:(0,v.C4)(["badge",{"text-outline-success":!t.active,"text-outline-primary":t.active&&!e.dateHasPassed(t.due_date),"text-outline-danger":t.active&&e.dateHasPassed(t.due_date)}])},(0,v.v_)(t.active&&!e.dateHasPassed(t.due_date)?"ACTIVE":t.active&&e.dateHasPassed(t.due_date)?"OVERDUE":"COMPLETED"),3)])])))),128))])])]),tk])]),ak]),(0,o.Lk)("div",sk,[(0,o.Lk)("div",lk,[(0,o.Lk)("div",ok,[nk,(0,o.Lk)("div",ik,[(0,o.Lk)("table",dk,[rk,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.selectedLoan?.mandate_histories,(t=>((0,o.uX)(),(0,o.CE)("tr",{class:"border border-light",key:t.id},[(0,o.Lk)("td",ck,[(0,o.Lk)("span",mk,(0,v.v_)(e.formatDate(t.due_date))+". ",1)]),(0,o.Lk)("td",uk,(0,v.v_)(t.remita_mandate_reference),1),(0,o.Lk)("td",pk,[(0,o.Lk)("div",{class:(0,v.C4)(["badge",{"text-outline-success":"active"==t.status,"text-outline-danger":"stop"==t.status}])},(0,v.v_)(t.status?.toUpperCase()),3)])])))),128))])])]),bk])]),kk])])}const hk=(0,kn.dj)();var gk=(0,o.pM)({name:"AllDeductions",components:{BreadCrumb:me,CustomTable:tt},data(){return{dataToPass:{},paymentMethods:null,selectedLoan:null,allLoans:[],createForm:{liquidationAmount:null,loanId:null,amount:null,reference:null,paymentMethodId:null,processing:!1},webAccessToken:null,statusOptions:null}},computed:{allItemActions(){return[{buttonText:"Add Repayment",method:this.showRepaymentDialog,hasPermission:this.hasAnyPermission(["add-repayment"])},{buttonText:"View Schedule",method:this.showRepaymentSchedule,hasPermission:!0},{buttonText:"View Mandates",method:this.showMandateHistory,hasPermission:!0}]},downloadReport(){return this.hasAnyPermission(["download-portfolio-report"])}},mounted(){it.getPaymentMethods().then((e=>{this.paymentMethods=e.data.data})),it.allDeductions().then((e=>{this.allLoans=e.data.data.data,console.log("pending loans",e.data.data.data),this.retrieveRecords(e)})),this.downloadReport&&dt.getWebAccess({action:"download-portfolio-report"}).then((e=>{this.webAccessToken=e.data?.data?.token,console.log("web acCESS",this.webAccessToken)})),it.statusOptions().then((e=>{this.statusOptions=e.data.data}))},mixins:[H.A],methods:{dateHasPassed(e){let t=Date.parse(e);var a=new Date;if(a.setHours(0,0,0,0),t<a)return!0},showRepaymentSchedule(e){let t=this.allLoans.filter((t=>t.id==e));this.selectedLoan=t[0],console.log("loan:",t),document.getElementById("repaymentScheduleModalButton").click()},showMandateHistory(e){let t=this.allLoans.filter((t=>t.id==e));this.selectedLoan=t[0],console.log("loan:",t),document.getElementById("mandateHistoryModalButton").click()},showRepaymentDialog(e){if(this.hasAnyPermission(["add-repayment"])){this.createForm.loanId=e;let t=this.allLoans.filter((t=>t.id==e));this.selectedLoan=t[0],console.log("loan:",t),this.createForm.liquidationAmount=t[0].liquidation_amount,document.getElementById("repaymentModalButton").click()}},moreRecords(e,t){null!=e&&void 0!=typeof e&&it.allDeductions(e,t).then((e=>{this.allLoans=e.data.data.data,this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&it.allDeductions(e,t).then((e=>{this.allLoans=e.data.data.data,this.retrieveRecords(e)}))},retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user?.name,e.user?.phone_number,this.formatNumber(e.amount),e.tenor.toString(),e.mandate_reference,this.formatDate(e.created_at),e.mandate_status,e.mandate_checked_at?this.formatDate(e.mandate_checked_at):null,e.mandate_reactivation_count,e.status,e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone","Loan Amount","Loan ID","Mandate Reference","Loan Date","Mandate Status","Mandate Last Check","Mandate Reactivation Count","Action"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}},createRepayment(){this.createForm.processing=!0,it.manualRepayment(this.createForm).then((e=>{this.createForm.processing=!1,hk.success("Repayment Added successfully"),this.closeModal("createManualRepayment"),it.allDeductions().then((e=>{this.allLoans=e.data.data.data,console.log("pending loans",e.data.data.data),this.retrieveRecords(e)}))})).catch((e=>{this.createForm.processing=!1,422===e.response.status&&hk.error(e.response.data.message)}))},closeModal(e){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}}});const vk=(0,R.A)(gk,[["render",fk]]);var Lk=vk;const yk=(0,o.Lk)("div",{style:{"text-align":"right"},class:"my-3"},[(0,o.Lk)("a",{class:"btn btn-sm btn-secondary mx-2",href:"http://sapphire-api.digisparksolutions.ng/leads/downloadLeadsTemplate",target:"_blank"},"Download Template")],-1),xk={class:"modal fade updateStatusModal",id:"updateStatusModal",tabindex:"-1","aria-hidden":"true"},wk={class:"modal-dialog modal-dialog-centered"},Ak={class:"modal-content p-15 p-md-40"},Dk=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Update Status")],-1),_k={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Ck={class:"row"},Pk={class:"col-lg-12 col-md-6"},Fk={class:"form-group mb-15 mb-md-25"},Tk=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Status ",-1),Ek=(0,o.Lk)("option",{value:""},"Select",-1),Bk=["value"],Rk={class:"col-lg-12 col-md-6"},Mk={class:"form-group mb-15 mb-md-25"},Sk=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Remark (Optional) ",-1),Nk=["disabled"],Uk=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ik=(0,o.Lk)("button",{class:"invisible",id:"updateStatusModalButton","data-bs-toggle":"modal","data-bs-target":"#updateStatusModal"},null,-1),Xk={class:"modal fade leadHistoryModal",id:"leadHistoryModal",tabindex:"-1","aria-hidden":"true"},jk={class:"modal-dialog modal-dialog-centered"},Wk={class:"modal-content p-15 p-md-40"},Ok=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Lead History")],-1),Vk={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},zk={class:"ps-0 mb-0 w-100"},Qk=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis"},"REMARK"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"DATE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"UPDATED BY")])],-1),Hk={class:"py-3 text-left",style:{width:"50% !important"}},$k={class:"d-block fw-bold text-black-emphasis me-15"},qk={class:"p-2 text-left w-25"},Kk={class:"p-2 text-left w-25"},Jk=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Yk=(0,o.Lk)("button",{class:"invisible",id:"leadHistoryModalButton","data-bs-toggle":"modal","data-bs-target":"#leadHistoryModal"},null,-1),Gk={class:"modal fade leadDetailsModal",id:"leadDetailsModal",tabindex:"-1","aria-hidden":"true"},Zk={class:"modal-dialog modal-dialog-centered"},ef={class:"modal-content p-15 p-md-40"},tf=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Lead Details")],-1),af={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},sf={class:"card mb-25 border-0 rounded-0 bg-white letter-spacing lead-info-box"},lf={class:"card-body p-15 p-sm-20 p-md-25 p-lg-30"},of={class:"profile-info d-sm-flex align-items-center"},nf={class:"title mt-12 mt-sm-0"},df={class:"text-black fw-medium mb-8"},rf={class:"d-block fw-bold text-primary"},cf=(0,o.Lk)("div",{class:"border-top mt-15 mb-15 mt-sm-20 mb-sm-20 mt-md-25 mb-md-25 mt-lg-30 mb-lg-30"},null,-1),mf={class:"d-flex align-items-center justify-content-between"},uf=(0,o.Lk)("h5",{class:"fw-medium text-black-emphasis mb-0"},"Lead’s Information",-1),pf=(0,o.Lk)("i",{class:"ph-duotone ph-pencil text-black position-relative top-1 fs-16 me-1"},null,-1),bf={class:"info mt-25 ps-0 mb-0 list-unstyled row"},kf={class:"position-relative col-md-6"},ff=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-telephone-call"})],-1),hf=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Phone No",-1),gf=["href"],vf={class:"position-relative col-md-6"},Lf=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-maps-and-flags"})],-1),yf=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"City/State",-1),xf={href:"mailto:johnathon23@gmail.com",class:"d-inline-block fs-md-15 fs-lg-16 text-primary text-decoration-none"},wf={class:"position-relative col-md-6"},Af=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-comment"})],-1),Df=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Remark ",-1),_f={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},Cf={class:"position-relative col-md-6"},Pf=(0,o.Lk)("div",{class:"icon text-warning rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-industry"})],-1),Ff=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Priority",-1),Tf={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},Ef={class:"position-relative col-md-6"},Bf=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-money"})],-1),Rf=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Net Pay ",-1),Mf={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},Sf={class:"position-relative col-md-6"},Nf=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-date-1"})],-1),Uf=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Last Contacted ",-1),If={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},Xf={class:"position-relative col-md-6"},jf=(0,o.Lk)("div",{class:"icon text-primary rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-web"})],-1),Wf=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Bank Name",-1),Of={href:"#",target:"_blank",class:"d-inline-block fs-md-15 fs-lg-16 text-muted text-decoration-none"},Vf={class:"position-relative col-md-6"},zf=(0,o.Lk)("div",{class:"icon text-primary rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-web"})],-1),Qf=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Bank Account",-1),Hf={href:"#",target:"_blank",class:"d-inline-block fs-md-15 fs-lg-16 text-muted text-decoration-none"},$f={class:"position-relative col-md-6"},qf=(0,o.Lk)("div",{class:"icon text-primary rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-user"})],-1),Kf=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Assigned To",-1),Jf={href:"#",target:"_blank",class:"d-inline-block fs-md-15 fs-lg-16 text-muted text-decoration-none"},Yf={class:"position-relative col-md-6"},Gf=(0,o.Lk)("div",{class:"icon text-warning rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-status"})],-1),Zf=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Lead Status ",-1),eh={class:"badge text-outline-info"},th=(0,o.Lk)("div",{class:"border-bottom mt-15 mb-15 mt-sm-20 mb-sm-20 mt-md-25 mb-md-25 mt-lg-30 mb-lg-30"},null,-1),ah=(0,o.Lk)("div",{class:"d-flex align-items-center justify-content-between"},[(0,o.Lk)("h5",{class:"fw-medium text-black-emphasis mb-0"},"Offer Information")],-1),sh={key:0,class:"info mt-25 ps-0 mb-0 list-unstyled row"},lh={class:"position-relative col-md-6"},oh=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-folder"})],-1),nh=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Loan Amount",-1),ih={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},dh={class:"position-relative col-md-6"},rh=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-clock"})],-1),ch=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Tenor",-1),mh={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},uh={class:"position-relative col-md-6"},ph=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-recycle"})],-1),bh=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Monthly Repayment ",-1),kh={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},fh={class:"position-relative col-md-6"},hh=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-money"})],-1),gh=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Total Repayment ",-1),vh={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},Lh={key:1,class:"text-lg mt-3 fs-lg-16 fs-md-15"},yh=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),xh=(0,o.Lk)("button",{class:"invisible",id:"leadDetailsModalButton","data-bs-toggle":"modal","data-bs-target":"#leadDetailsModal"},null,-1),wh={class:"modal fade uploadLeadsModal",id:"uploadLeadsModal",tabindex:"-1","aria-hidden":"true"},Ah={class:"modal-dialog modal-dialog-centered"},Dh={class:"modal-content p-15 p-md-40"},_h=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Upload Leads")],-1),Ch={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Ph=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Fh=(0,o.Lk)("button",{class:"invisible",id:"uploadLeadsModalButton","data-bs-toggle":"modal","data-bs-target":"#uploadLeadsModal"},null,-1);function Th(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("CustomTable"),c=(0,o.g2)("lead-upload");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(d,{pageTitle:"All Leads"}),yk,(0,o.bF)(r,{propData:e.dataToPass,"head-action":e.mainAction,"head-action-text":"Upload Leads",callBack:e.moreRecords,viewDetails:e.allItemActions,buttonText:"View Offer",report:"leads",webAccessToken:e.webAccessToken,webAction:"download-leads-report",downloadStatusOptions:e.statusOptions},null,8,["propData","head-action","callBack","viewDetails","webAccessToken","downloadStatusOptions"]),(0,o.Lk)("div",xk,[(0,o.Lk)("div",wk,[(0,o.Lk)("div",Ak,[Dk,(0,o.Lk)("div",_k,[(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...t)=>e.updateStatus&&e.updateStatus(...t)),["prevent"]))},[(0,o.Lk)("div",Ck,[(0,o.Lk)("div",Pk,[(0,o.Lk)("div",Fk,[Tk,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.updateForm.status=t),class:"form-control shadow-none rounded-0 text-black"},[Ek,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.statusOptions,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e,key:e},(0,v.v_)(e?.toUpperCase()),9,Bk)))),128))],512),[[n.u1,e.updateForm.status]])])]),(0,o.Lk)("div",Rk,[(0,o.Lk)("div",Mk,[Sk,(0,o.bo)((0,o.Lk)("textarea",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.updateForm.remark=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Remark"},null,512),[[n.Jo,e.updateForm.remark]])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.updateForm.processing},(0,v.v_)(e.updateForm.processing?"Please Wait...":"Submit"),9,Nk)],32)]),Uk])]),Ik]),(0,o.Lk)("div",Xk,[(0,o.Lk)("div",jk,[(0,o.Lk)("div",Wk,[Ok,(0,o.Lk)("div",Vk,[(0,o.Lk)("table",zk,[Qk,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.leadToDisplay?.lead_histories,(t=>((0,o.uX)(),(0,o.CE)("tr",{class:"border border-light",key:t.id},[(0,o.Lk)("td",Hk,[(0,o.Lk)("span",$k,(0,v.v_)(t.remark)+". ",1)]),(0,o.Lk)("td",qk,(0,v.v_)(e.formatDateTime(t.created_at)),1),(0,o.Lk)("td",Kk,(0,v.v_)(t.user?.name),1)])))),128))])])]),Jk])]),Yk]),(0,o.Lk)("div",Gk,[(0,o.Lk)("div",Zk,[(0,o.Lk)("div",ef,[tf,(0,o.Lk)("div",af,[(0,o.Lk)("div",sf,[(0,o.Lk)("div",lf,[(0,o.Lk)("div",of,[(0,o.Lk)("div",nf,[(0,o.Lk)("h5",df,(0,v.v_)(e.leadToDisplay?.name),1),(0,o.Lk)("span",rf,(0,v.v_)(e.leadToDisplay?.organization_name),1)])]),cf,(0,o.Lk)("div",mf,[uf,(0,o.Lk)("a",{href:"#",onClick:t[3]||(t[3]=(0,n.D$)((t=>{e.closeModal("leadDetailsModal"),e.showUpdateStatus(e.leadToDisplay?.id)}),["prevent"])),class:"d-inline-block text-decoration-none lh-1 text-muted fw-medium"},[pf,(0,o.eW)(" Update Status ")])]),(0,o.Lk)("ul",bf,[(0,o.Lk)("li",kf,[ff,hf,(0,o.Lk)("a",{href:"tel:+234"+e.leadToDisplay?.phone_number,class:"d-inline-block fs-md-15 fs-lg-16 text-muted text-decoration-none"},(0,v.v_)(e.leadToDisplay?.phone_number),9,gf)]),(0,o.Lk)("li",vf,[Lf,yf,(0,o.Lk)("a",xf,(0,v.v_)(e.leadToDisplay?.city_name)+", "+(0,v.v_)(e.leadToDisplay?.state_name),1)]),(0,o.Lk)("li",wf,[Af,Df,(0,o.Lk)("span",_f,(0,v.v_)(e.leadToDisplay?.remark),1)]),(0,o.Lk)("li",Cf,[Pf,Ff,(0,o.Lk)("span",Tf,(0,v.v_)(e.leadToDisplay?.priority_level),1)]),(0,o.Lk)("li",Ef,[Bf,Rf,(0,o.Lk)("span",Mf," ₦ "+(0,v.v_)(e.formatNumber(e.leadToDisplay?.net_pay)),1)]),(0,o.Lk)("li",Sf,[Nf,Uf,(0,o.Lk)("span",If,(0,v.v_)(e.formatDateTime(e.leadToDisplay?.last_called_at)),1)]),(0,o.Lk)("li",Xf,[jf,Wf,(0,o.Lk)("a",Of,(0,v.v_)(e.leadToDisplay?.bank_name),1)]),(0,o.Lk)("li",Vf,[zf,Qf,(0,o.Lk)("a",Hf,(0,v.v_)(e.leadToDisplay?.account_number),1)]),(0,o.Lk)("li",$f,[qf,Kf,(0,o.Lk)("a",Jf,(0,v.v_)(e.leadToDisplay?.sales_officer?.name),1)]),(0,o.Lk)("li",Yf,[Gf,Zf,(0,o.Lk)("span",eh,(0,v.v_)(e.leadToDisplay?.status?.toUpperCase()),1)])]),th,ah,e.leadToDisplay?.offer_details?((0,o.uX)(),(0,o.CE)("ul",sh,[(0,o.Lk)("li",lh,[oh,nh,(0,o.Lk)("span",ih," ₦ "+(0,v.v_)(e.formatNumber(e.leadToDisplay?.offer_details?.loan_amount)),1)]),(0,o.Lk)("li",dh,[rh,ch,(0,o.Lk)("span",mh,(0,v.v_)(e.leadToDisplay?.offer_details?.tenor),1)]),(0,o.Lk)("li",uh,[ph,bh,(0,o.Lk)("span",kh," ₦ "+(0,v.v_)(e.formatNumber(e.leadToDisplay?.offer_details.monthly_repayment)),1)]),(0,o.Lk)("li",fh,[hh,gh,(0,o.Lk)("span",vh," ₦ "+(0,v.v_)(e.formatNumber(e.leadToDisplay?.offer_details.total_repayment)),1)])])):((0,o.uX)(),(0,o.CE)("div",Lh,"No offer at the moment"))])])]),yh])]),xh]),(0,o.Lk)("div",wh,[(0,o.Lk)("div",Ah,[(0,o.Lk)("div",Dh,[_h,(0,o.Lk)("div",Ch,[(0,o.bF)(c,{callBack:e.closeModal},null,8,["callBack"])]),Ph])])]),Fh])}var Eh={async allLeads(e="",t=null){const a=l.A.getters["auth/token"];return J.A.get(t??`/api/admin/leads/view-all-leads?q=${e}`,{headers:{Authorization:"Bearer "+a["token"]}})},async pendingLeads(e="",t=null){const a=l.A.getters["auth/token"];return J.A.get(t??`/api/admin/leads/list-by-account-officer?q=${e}`,{headers:{Authorization:"Bearer "+a["token"]}})},async statusOptions(){const e=l.A.getters["auth/token"];return J.A.get("/api/admin/leads/status-options",{headers:{Authorization:"Bearer "+e["token"]}})},async leadsByAccountOfficer(e,t,a){const s=l.A.getters["auth/token"];return J.A.get(`/api/admin/users/${e}/view-leads-by-account-officer?q=${a}&filterStatus=${t}`,{headers:{Authorization:"Bearer "+s["token"]}})},async upload(e){const t=l.A.getters["auth/token"];return J.A.post("/api/admin/leads/upload-lead",e,{headers:{Authorization:"Bearer "+t["token"]}})},async updateStatus(e){const t=l.A.getters["auth/token"];return J.A.patch(`/api/admin/leads/${e.leadId}/status/update`,e,{headers:{Authorization:"Bearer "+t["token"]}})},async reAssign(e){const t=l.A.getters["auth/token"];return J.A.patch("/leads/reassign-lead",e,{headers:{Authorization:"Bearer "+t["token"]}})}};const Bh=e=>((0,o.Qi)("data-v-3536d8ae"),e=e(),(0,o.jt)(),e),Rh={key:0,class:"text-center my-3 text-lg text-bold"},Mh={class:"file-upload text-center position-relative"},Sh=Bh((()=>(0,o.Lk)("span",{class:"d-block text-muted"},[(0,o.eW)(" Drop Files Here Or "),(0,o.Lk)("span",{class:"text-black fw-medium position-relative"}," Click To Upload ")],-1))),Nh={class:"text-center"};function Uh(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.selectedFile?((0,o.uX)(),(0,o.CE)("div",Rh,(0,v.v_)(e.selectedFile.name)+" : "+(0,v.v_)(e.selectedFile.size/1e3)+"kb",1)):(0,o.Q3)("",!0),(0,o.Lk)("div",Mh,[Sh,(0,o.Lk)("input",{type:"file",class:"d-block shadow-none border-0 position-absolute start-0 end-0 top-0 bottom-0 z-1 opacity-0",ref:"fileInput",allowed:"xls,xlxs,csv",onChange:t[0]||(t[0]=(...t)=>e.handleFileChange&&e.handleFileChange(...t))},null,544)]),(0,o.Lk)("div",Nh,[(0,o.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.uploadFile&&e.uploadFile(...t)),class:"btn btn-primary btn-md my-5"},(0,v.v_)(e.uploadingImage?"Please Wait!":"Upload Leads"),1)])],64)}const Ih=(0,kn.dj)();var Xh=(0,o.pM)({name:"LeadUpload",props:["callBack"],data(){return{selectedFile:null,audioUrl:"",uploadingImage:!1}},mounted(){this.selectedFile=null,this.uploadingImage=!1},methods:{handleFileChange(e){const t=e.target;this.selectedFile=t.files?.[0]||null},async uploadFile(){if(this.uploadingImage=!0,!this.selectedFile)return;const e=new FormData;e.append("file",this.selectedFile);try{Eh.upload(e).then((e=>{this.uploadingImage=!1,Ih.success("Leads uploaded successfully"),this.audioUrl="",this.selectedFile=null,this.callBack()})).catch((e=>{this.uploadingImage=!1,this.callBack(),this.audioUrl="",this.selectedFile=null,[422,403].includes(e.response.status)&&Ih.error(e.response.data.message)}))}catch(t){console.error("Error uploading leads:",t)}}}});const jh=(0,R.A)(Xh,[["render",Uh],["__scopeId","data-v-3536d8ae"]]);var Wh=jh;const Oh=(0,kn.dj)();var Vh=(0,o.pM)({name:"LeadsPage",components:{BreadCrumb:me,CustomTable:tt,LeadUpload:Wh},data(){return{dataToPass:{},statusOptions:null,allLeads:[],leadToDisplay:null,baseUrl:null,webAccessToken:null,updateForm:{leadId:null,remark:null,status:null,processing:!1}}},computed:{allItemActions(){return[{buttonText:"View Details",method:this.viewDetails,hasPermission:this.hasAnyPermission(["process-leads","view-all-leads"])},{buttonText:"View History",method:this.viewHistory,hasPermission:this.hasAnyPermission(["process-leads"])},{buttonText:"Update Report",method:this.showUpdateStatus,hasPermission:this.hasAnyPermission(["process-leads"])}]},downloadReport(){return this.hasAnyPermission(["download-leads-report"])}},mounted(){this.baseUrl=J.A,this.downloadReport&&dt.getWebAccess({action:"download-leads-report"}).then((e=>{this.webAccessToken=e.data?.data?.token,console.log("web acCESS",this.webAccessToken)})),Eh.statusOptions().then((e=>{this.statusOptions=e.data.data})),Eh.allLeads().then((e=>{this.allLeads=e.data,this.retrieveRecords(e)}))},mixins:[H.A],methods:{mainAction(){this.hasAnyPermission(["upload-leads"])&&document.getElementById("uploadLeadsModalButton").click()},getLeads(){Eh.allLeads().then((e=>{this.allLeads=e.data,this.retrieveRecords(e)}))},showUpdateStatus(e){if(this.hasAnyPermission(["process-leads"])){let t=this.allLeads.data.filter((t=>t.id==e))[0];this.updateForm.leadId=t.id,this.updateForm.status=t.status,document.getElementById("updateStatusModalButton").click()}},viewHistory(e){(this.hasAnyPermission(["process-leads","view-all-leads"])||this.hasAnyPermission(["view-all-leads"]))&&(this.leadToDisplay=this.allLeads.data.filter((t=>t.id==e))[0],console.log(this.leadToDisplay,e),document.getElementById("leadHistoryModalButton").click())},viewDetails(e){this.hasAnyPermission(["process-leads","view-all-leads"])&&(this.leadToDisplay=this.allLeads.data.filter((t=>t.id==e))[0],console.log(this.leadToDisplay,e),document.getElementById("leadDetailsModalButton").click())},moreRecords(e,t){null!=e&&void 0!=typeof e&&Eh.allLeads(t,e).then((e=>{this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&Eh.allLeads(t).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data;console.log("response payload:",t);const a=t.data.map((e=>[e.name,e.phone_number,e.sales_officer?.name,e.city_name+", "+e.state_name,this.formatNumber(e.offer),e.status,e.id]));let s=t;console.log(s),this.dataToPass={headers:["Name","Phone Number","Assigned To","City/State","Offer","Status","Action"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}},updateStatus(){this.updateForm.processing=!0,Eh.updateStatus(this.updateForm).then((e=>{this.updateForm.processing=!1,Oh.success("Lead Status Updated successfully"),this.closeModal("updateStatusModal"),this.getLeads()})).catch((e=>{this.updateForm.processing=!1,422===e.response.status&&Oh.error(e.response.data.message)}))},closeModal(e="uploadLeadsModal"){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}}});const zh=(0,R.A)(Vh,[["render",Th]]);var Qh=zh;const Hh={class:"row flex justify-content-end"},$h={class:"col-lg-4 col-sm-12 my-3"},qh=(0,o.Lk)("div",null,[(0,o.Lk)("label",{for:"filter"},"Filter Period:")],-1),Kh=(0,o.Fv)('<option value="null" selected>Today</option><option value="week">This Week</option><option value="month">This Month</option><option value="this_quarter">This Quarter</option><option value="this_year">This Year</option><option value="last_year">Last Year</option>',6),Jh=[Kh],Yh={class:"row"},Gh={class:"col-xxl-7 col-xxxl-6"},Zh={class:"row"},eg={class:"col-xxl-5 col-xxxl-6"},tg=(0,o.Fv)('<div class="row"><div class="col-lg-6 col-xxxl-6 col-md-6"></div><div class="col-lg-6 col-xxxl-6 col-md-6"></div><div class="col-xl-12 col-lg-6 col-xxxl-6 col-md-12"></div><div class="col-xl-12 col-lg-6 col-xxxl-6 col-md-12"></div></div>',1);function ag(e,t,a,s,l,i){const d=(0,o.g2)("StatsBox"),r=(0,o.g2)("TopAgents");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",Hh,[(0,o.Lk)("div",$h,[qh,(0,o.bo)((0,o.Lk)("select",{id:"filter","onUpdate:modelValue":t[0]||(t[0]=t=>e.filter=t),onChange:t[1]||(t[1]=(...t)=>e.changeFilter&&e.changeFilter(...t)),class:"form-control"},Jh,544),[[n.u1,e.filter]])])]),(0,o.Lk)("div",Yh,[(0,o.Lk)("div",Gh,[(0,o.Lk)("div",Zh,[e.totalSent?((0,o.uX)(),(0,o.Wv)(d,{key:0,stat:e.totalSent,class:"true",icon:"flaticon-send"},null,8,["stat"])):(0,o.Q3)("",!0),e.totalDelivered?((0,o.uX)(),(0,o.Wv)(d,{key:1,stat:e.totalDelivered,class:"true",icon:"flaticon-delivery-truck"},null,8,["stat"])):(0,o.Q3)("",!0),e.linkSubmitted?((0,o.uX)(),(0,o.Wv)(d,{key:2,stat:e.linkSubmitted,class:"true",icon:"flaticon-web"},null,8,["stat"])):(0,o.Q3)("",!0),e.callsInitiated?((0,o.uX)(),(0,o.Wv)(d,{key:3,stat:e.callsInitiated,class:"true",icon:"flaticon-phone"},null,8,["stat"])):(0,o.Q3)("",!0),e.callsUnreachable?((0,o.uX)(),(0,o.Wv)(d,{key:4,stat:e.callsUnreachable,class:"true",icon:"flat-delivery"},null,8,["stat"])):(0,o.Q3)("",!0),e.callsDNA?((0,o.uX)(),(0,o.Wv)(d,{key:5,stat:e.callsDNA,class:"true",icon:"flat-delivery"},null,8,["stat"])):(0,o.Q3)("",!0),e.callsDNACalledBack?((0,o.uX)(),(0,o.Wv)(d,{key:6,stat:e.callsDNACalledBack,class:"true",icon:"flat-delivery"},null,8,["stat"])):(0,o.Q3)("",!0),e.callsDNACallBack?((0,o.uX)(),(0,o.Wv)(d,{key:7,stat:e.callsDNACallBack,class:"true",icon:"flat-delivery"},null,8,["stat"])):(0,o.Q3)("",!0),e.applicationsReceived?((0,o.uX)(),(0,o.Wv)(d,{key:8,stat:e.applicationsReceived,class:"true",icon:"flat-delivery"},null,8,["stat"])):(0,o.Q3)("",!0),e.applicationsApproved?((0,o.uX)(),(0,o.Wv)(d,{key:9,stat:e.applicationsApproved,class:"true",icon:"flat-delivery"},null,8,["stat"])):(0,o.Q3)("",!0),e.applicationsRejected?((0,o.uX)(),(0,o.Wv)(d,{key:10,stat:e.applicationsRejected,class:"true",icon:"flat-delivery"},null,8,["stat"])):(0,o.Q3)("",!0)])]),(0,o.Lk)("div",eg,[tg,(0,o.bF)(r,{"top-agents":e.topAgents},null,8,["top-agents"])])])])}const sg={class:"card mb-25 border-0 rounded-0 bg-white top-selling-products-box"},lg={class:"card-body p-15 p-sm-20 p-md-25 p-lg-30 letter-spacing"},og={class:"mb-15 mb-md-20 mb-lg-25 d-sm-flex align-items-center justify-content-between"},ng=(0,o.Lk)("h6",{class:"card-title fw-bold mb-0"},"Top Perfoming Agents",-1),ig=(0,o.Lk)("i",{class:"flaticon-logout lh-1 position-relative ms-5 top-2"},null,-1),dg={class:"ps-0 mb-0 w-100"},rg=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis"},"NAME"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"CALLS"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"LOANS")])],-1),cg={class:"py-3 text-left",style:{width:"50% !important"}},mg={class:"d-block fw-bold text-black-emphasis me-15"},ug={class:"p-2 text-left w-25"},pg={class:"p-2 text-left w-25"};function bg(e,t,a,s,l,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",sg,[(0,o.Lk)("div",lg,[(0,o.Lk)("div",og,[ng,(0,o.bF)(i,{to:"/products-list",class:"card-btn mt-10 mt-sm-0 d-inline-block fw-medium text-decoration-none transition ps-10 pe-10 pt-5 pb-5"},{default:(0,o.k6)((()=>[(0,o.eW)(" Export "),ig])),_:1})]),(0,o.Lk)("table",dg,[rg,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.topAgents,(t=>((0,o.uX)(),(0,o.CE)("tr",{class:"border border-light",key:t.id},[(0,o.Lk)("td",cg,[(0,o.Lk)("span",mg,(0,v.v_)(t.name)+". ",1)]),(0,o.Lk)("td",ug,(0,v.v_)(t.leads_count),1),(0,o.Lk)("td",pg,(0,v.v_)(e.formatNumber(t.portfolio_sum_approved_amount)),1)])))),128))])])])])}var kg=(0,o.pM)({name:"TopAgents",props:["topAgents"],mixins:[H.A]});const fg=(0,R.A)(kg,[["render",bg]]);var hg=fg,gg=(0,o.pM)({name:"LeadsAnalyticsPage",data(){return{totalSent:null,totalDelivered:null,linkSubmitted:null,callsInitiated:null,callsUnreachable:null,callsDNA:null,callsDNACalledBack:null,callsDNACallBack:null,applicationsReceived:null,applicationsApproved:null,applicationsRejected:null,topAgents:[],filter:null}},mounted(){this.getReports()},methods:{changeFilter(){this.getReports(this.filter)},getReports(e=null){Y.leadsTotals(e??"").then((e=>{this.totalSent=e.data?.data?.totalSent,this.totalDelivered=e.data?.data?.totalDelivered,this.linkSubmitted=e.data?.data?.linkSubmitted,this.callsInitiated=e.data?.data?.callsInitiated,this.callsUnreachable=e.data?.data?.callsUnreachable,this.callsDNA=e.data?.data?.callsDNA,this.callsDNACalledBack=e.data?.data?.callsDNACalledBack,this.callsDNACallBack=e.data?.data?.callsDNACallBack,this.applicationsReceived=e.data?.data?.applicationsReceived,this.applicationsApproved=e.data?.data?.applicationsApproved,this.applicationsRejected=e.data?.data?.applicationsRejected,this.topAgents=e.data?.data?.topAgents}))}},components:{StatsBox:K,TopAgents:hg}});const vg=(0,R.A)(gg,[["render",ag]]);var Lg=vg;const yg={class:"modal fade createRole",id:"createRole",tabindex:"-1","aria-hidden":"true"},xg={class:"modal-dialog modal-dialog-centered"},wg={class:"modal-content p-15 p-md-40"},Ag={class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},Dg={class:"modal-title fw-bold text-black"},_g={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Cg={class:"row"},Pg={class:"col-lg-12 col-md-12"},Fg={class:"form-group mb-15 mb-md-25"},Tg=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Role Name ",-1),Eg={class:"col-lg-12 col-md-12"},Bg={class:"form-group mb-15 mb-md-25"},Rg=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Permissions ",-1),Mg=(0,o.Lk)("option",{value:""},"Select",-1),Sg=["value"],Ng=["disabled"],Ug=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),Ig=(0,o.Lk)("button",{class:"invisible",id:"createRoleModalButton","data-bs-toggle":"modal","data-bs-target":"#createRole"},null,-1);function Xg(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(d,{pageTitle:"All Roles"}),(0,o.bF)(r,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails,"button-text":"Edit",headAction:e.mainAction,headActionText:"Create New Role"},null,8,["propData","callBack","viewDetails","headAction"]),(0,o.Lk)("div",yg,[(0,o.Lk)("div",xg,[(0,o.Lk)("div",wg,[(0,o.Lk)("div",Ag,[(0,o.Lk)("h5",Dg,(0,v.v_)(e.createForm.editing?"Editing Role":"Create New Role"),1)]),(0,o.Lk)("div",_g,[(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...t)=>e.createRole&&e.createRole(...t)),["prevent"]))},[(0,o.Lk)("div",Cg,[(0,o.Lk)("div",Pg,[(0,o.Lk)("div",Fg,[Tg,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.createForm.name=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter First Name"},null,512),[[n.Jo,e.createForm.name]])])]),(0,o.Lk)("div",Eg,[(0,o.Lk)("div",Bg,[Rg,(0,o.bo)((0,o.Lk)("select",{class:"form-control shadow-none rounded-0 text-black","onUpdate:modelValue":t[1]||(t[1]=t=>e.createForm.permissions=t),multiple:"",required:""},[Mg,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.permissions,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.id,key:e},(0,v.v_)(e.name),9,Sg)))),128))],512),[[n.u1,e.createForm.permissions]])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.createForm.processing},(0,v.v_)(e.createForm.processing?"Please Wait...":"Submit"),9,Ng)],32)]),Ug])]),Ig])])}const jg=(0,kn.dj)();var Wg=(0,o.pM)({name:"AllRolesPage",components:{BreadCrumb:me,CustomTable:tt},mounted(){dt.getPermissions().then((e=>{this.permissions=e.data.data})),dt.getRoles().then((e=>{this.allRoles=e.data.data,this.retrieveRecords(e)}))},data(){return{permissions:[],allRoles:[],createForm:{name:null,permissions:[],id:null,editing:!1,processing:!1},dataToPass:{}}},mixins:[H.A],methods:{getRoles(){dt.getRoles("yes").then((e=>{this.allRoles=e.data.data,this.retrieveRecords(e)}))},viewDetails(e){let t=this.allRoles.filter((t=>t.id==e));t=t[0],this.hasAnyPermission(["create-role"])&&(this.createForm.name=t.name,this.createForm.id=t.id,this.createForm.permissions=t.permissions.map((e=>e.id)),this.createForm.editing=!0,document.getElementById("createRoleModalButton")?.click())},mainAction(){this.createForm.name=null,this.createForm.id=null,this.createForm.editing=!1,this.hasAnyPermission(["create-role"])&&document.getElementById("createRoleModalButton")?.click()},createRole(){this.createForm.editing?(this.createForm.processing=!0,dt.updateRole(this.createForm).then((e=>{this.createForm.processing=!1,jg.success("Role Updated successfully"),this.closeModal("createRole"),this.getRoles()})).catch((e=>{this.createForm.processing=!1,422===e?.response?.status&&jg.error(e.response.data.message)}))):(this.createForm.processing=!0,dt.createRole(this.createForm).then((e=>{this.createForm.processing=!1,jg.success("Role Created successfully"),this.closeModal("createRole"),this.getRoles()})).catch((e=>{this.createForm.processing=!1,422===e?.response?.status&&jg.error(e.response.data.message)})))},moreRecords(e){null!=e&&void 0!=typeof e&&dt.getRoles().then((e=>{this.allRoles=e.data.data,this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.map((e=>[e.name,this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Created At","Action"],data:[...a],from:t.data.length,total:t.data.length,links:s.links}},closeModal(e){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}}});const Og=(0,R.A)(Wg,[["render",Xg]]);var Vg=Og;const zg={class:"modal fade updateStatusModal",id:"updateStatusModal",tabindex:"-1","aria-hidden":"true"},Qg={class:"modal-dialog modal-dialog-centered"},Hg={class:"modal-content p-15 p-md-40"},$g=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Update Status")],-1),qg={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Kg={class:"row"},Jg={class:"col-lg-12 col-md-6"},Yg={class:"form-group mb-15 mb-md-25"},Gg=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Status ",-1),Zg=(0,o.Lk)("option",{value:""},"Select",-1),ev=["value"],tv={key:0,class:"col-lg-12 col-md-6"},av={class:"form-group mb-15 mb-md-25"},sv=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Call Back Time (Optional) ",-1),lv={class:"col-lg-12 col-md-6"},ov={class:"form-group mb-15 mb-md-25"},nv=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Remark (Optional) ",-1),iv=["disabled"],dv=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),rv=(0,o.Lk)("button",{class:"invisible",id:"updateStatusModalButton","data-bs-toggle":"modal","data-bs-target":"#updateStatusModal"},null,-1),cv={class:"modal fade leadDetailsModal",id:"leadDetailsModal",tabindex:"-1","aria-hidden":"true"},mv={class:"modal-dialog modal-dialog-centered"},uv={class:"modal-content p-15 p-md-40"},pv=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Lead Details")],-1),bv={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},kv={class:"card mb-25 border-0 rounded-0 bg-white letter-spacing lead-info-box"},fv={class:"card-body p-15 p-sm-20 p-md-25 p-lg-30"},hv={class:"profile-info d-sm-flex align-items-center"},gv={class:"title mt-12 mt-sm-0"},vv={class:"text-black fw-medium mb-8"},Lv={class:"d-block fw-bold text-primary"},yv=(0,o.Lk)("div",{class:"border-top mt-15 mb-15 mt-sm-20 mb-sm-20 mt-md-25 mb-md-25 mt-lg-30 mb-lg-30"},null,-1),xv={class:"d-flex align-items-center justify-content-between"},wv=(0,o.Lk)("h5",{class:"fw-medium text-black-emphasis mb-0"},"Lead’s Information",-1),Av=(0,o.Lk)("i",{class:"ph-duotone ph-pencil text-black position-relative top-1 fs-16 me-1"},null,-1),Dv={class:"info mt-25 ps-0 mb-0 list-unstyled row"},_v={class:"position-relative col-md-6"},Cv=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-telephone-call"})],-1),Pv=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Phone No",-1),Fv=["href"],Tv={class:"position-relative col-md-6"},Ev=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-maps-and-flags"})],-1),Bv=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"City/State",-1),Rv={href:"mailto:johnathon23@gmail.com",class:"d-inline-block fs-md-15 fs-lg-16 text-primary text-decoration-none"},Mv={class:"position-relative col-md-6"},Sv=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-comment"})],-1),Nv=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Remark ",-1),Uv={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},Iv={class:"position-relative col-md-6"},Xv=(0,o.Lk)("div",{class:"icon text-warning rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-industry"})],-1),jv=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Priority",-1),Wv={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},Ov={class:"position-relative col-md-6"},Vv=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-money"})],-1),zv=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Net Pay ",-1),Qv={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},Hv={class:"position-relative col-md-6"},$v=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-date-1"})],-1),qv=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Last Contacted ",-1),Kv={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},Jv={class:"position-relative col-md-6"},Yv=(0,o.Lk)("div",{class:"icon text-primary rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-web"})],-1),Gv=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Bank Name",-1),Zv={href:"#",target:"_blank",class:"d-inline-block fs-md-15 fs-lg-16 text-muted text-decoration-none"},eL={class:"position-relative col-md-6"},tL=(0,o.Lk)("div",{class:"icon text-primary rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-web"})],-1),aL=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Bank Account",-1),sL={href:"#",target:"_blank",class:"d-inline-block fs-md-15 fs-lg-16 text-muted text-decoration-none"},lL={class:"position-relative col-md-6"},oL=(0,o.Lk)("div",{class:"icon text-warning rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-status"})],-1),nL=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Lead Status ",-1),iL={class:"badge text-outline-info"},dL=(0,o.Lk)("div",{class:"border-bottom mt-15 mb-15 mt-sm-20 mb-sm-20 mt-md-25 mb-md-25 mt-lg-30 mb-lg-30"},null,-1),rL=(0,o.Lk)("div",{class:"d-flex align-items-center justify-content-between"},[(0,o.Lk)("h5",{class:"fw-medium text-black-emphasis mb-0"},"Offer Information")],-1),cL={key:0,class:"info mt-25 ps-0 mb-0 list-unstyled row"},mL={class:"position-relative col-md-6"},uL=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-folder"})],-1),pL=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Loan Amount",-1),bL={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},kL={class:"position-relative col-md-6"},fL=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-clock"})],-1),hL=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Tenor",-1),gL={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},vL={class:"position-relative col-md-6"},LL=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-recycle"})],-1),yL=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Monthly Repayment ",-1),xL={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},wL={class:"position-relative col-md-6"},AL=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-money"})],-1),DL=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Total Repayment ",-1),_L={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},CL={key:1,class:"text-lg mt-3 fs-lg-16 fs-md-15"},PL=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),FL=(0,o.Lk)("button",{class:"invisible",id:"leadDetailsModalButton","data-bs-toggle":"modal","data-bs-target":"#leadDetailsModal"},null,-1),TL={class:"modal fade leadHistoryModal",id:"leadHistoryModal",tabindex:"-1","aria-hidden":"true"},EL={class:"modal-dialog modal-dialog-centered"},BL={class:"modal-content p-15 p-md-40"},RL=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Lead History")],-1),ML={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},SL={class:"ps-0 mb-0 w-100"},NL=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis"},"REMARK"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"DATE"),(0,o.Lk)("th",{class:"fs-13 fw-medium text-dark-emphasis mx-2"},"UPDATED BY")])],-1),UL={class:"py-3 text-left",style:{width:"50% !important"}},IL={class:"d-block fw-bold text-black-emphasis me-15"},XL={class:"p-2 text-left w-25"},jL={class:"p-2 text-left w-25"},WL=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),OL=(0,o.Lk)("button",{class:"invisible",id:"leadHistoryModalButton","data-bs-toggle":"modal","data-bs-target":"#leadHistoryModal"},null,-1);function VL(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(d,{pageTitle:"My Pending Leads"}),(0,o.bF)(r,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.allItemActions,buttonText:"View Offer"},null,8,["propData","callBack","viewDetails"]),(0,o.Lk)("div",zg,[(0,o.Lk)("div",Qg,[(0,o.Lk)("div",Hg,[$g,(0,o.Lk)("div",qg,[(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...t)=>e.updateStatus&&e.updateStatus(...t)),["prevent"]))},[(0,o.Lk)("div",Kg,[(0,o.Lk)("div",Jg,[(0,o.Lk)("div",Yg,[Gg,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.updateForm.status=t),class:"form-control shadow-none rounded-0 text-black"},[Zg,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.statusOptions,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e,key:e},(0,v.v_)(e?.toUpperCase()),9,ev)))),128))],512),[[n.u1,e.updateForm.status]])])]),"did not answer"==e.updateForm.status?((0,o.uX)(),(0,o.CE)("div",tv,[(0,o.Lk)("div",av,[sv,(0,o.bo)((0,o.Lk)("input",{type:"datetime-local","onUpdate:modelValue":t[1]||(t[1]=t=>e.updateForm.call_back_time=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Select Time"},null,512),[[n.Jo,e.updateForm.call_back_time]])])])):(0,o.Q3)("",!0),(0,o.Lk)("div",lv,[(0,o.Lk)("div",ov,[nv,(0,o.bo)((0,o.Lk)("textarea",{type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.updateForm.remark=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Remark"},null,512),[[n.Jo,e.updateForm.remark]])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.updateForm.processing},(0,v.v_)(e.updateForm.processing?"Please Wait...":"Submit"),9,iv)],32)]),dv])]),rv]),(0,o.Lk)("div",cv,[(0,o.Lk)("div",mv,[(0,o.Lk)("div",uv,[pv,(0,o.Lk)("div",bv,[(0,o.Lk)("div",kv,[(0,o.Lk)("div",fv,[(0,o.Lk)("div",hv,[(0,o.Lk)("div",gv,[(0,o.Lk)("h5",vv,(0,v.v_)(e.leadToDisplay?.name),1),(0,o.Lk)("span",Lv,(0,v.v_)(e.leadToDisplay?.organization_name),1)])]),yv,(0,o.Lk)("div",xv,[wv,(0,o.Lk)("a",{href:"#",onClick:t[4]||(t[4]=(0,n.D$)((t=>{e.closeModal("leadDetailsModal"),e.showUpdateStatus(e.leadToDisplay?.id)}),["prevent"])),class:"d-inline-block text-decoration-none lh-1 text-muted fw-medium"},[Av,(0,o.eW)(" Update Status ")])]),(0,o.Lk)("ul",Dv,[(0,o.Lk)("li",_v,[Cv,Pv,(0,o.Lk)("a",{href:"tel:+234"+e.leadToDisplay?.phone_number,class:"d-inline-block fs-md-15 fs-lg-16 text-muted text-decoration-none"},(0,v.v_)(e.leadToDisplay?.phone_number),9,Fv)]),(0,o.Lk)("li",Tv,[Ev,Bv,(0,o.Lk)("a",Rv,(0,v.v_)(e.leadToDisplay?.city_name)+", "+(0,v.v_)(e.leadToDisplay?.state_name),1)]),(0,o.Lk)("li",Mv,[Sv,Nv,(0,o.Lk)("span",Uv,(0,v.v_)(e.leadToDisplay?.remark),1)]),(0,o.Lk)("li",Iv,[Xv,jv,(0,o.Lk)("span",Wv,(0,v.v_)(e.leadToDisplay?.priority_level),1)]),(0,o.Lk)("li",Ov,[Vv,zv,(0,o.Lk)("span",Qv," ₦ "+(0,v.v_)(e.formatNumber(e.leadToDisplay?.net_pay)),1)]),(0,o.Lk)("li",Hv,[$v,qv,(0,o.Lk)("span",Kv,(0,v.v_)(e.formatDateTime(e.leadToDisplay?.last_called_at)),1)]),(0,o.Lk)("li",Jv,[Yv,Gv,(0,o.Lk)("a",Zv,(0,v.v_)(e.leadToDisplay?.bank_name),1)]),(0,o.Lk)("li",eL,[tL,aL,(0,o.Lk)("a",sL,(0,v.v_)(e.leadToDisplay?.account_number),1)]),(0,o.Lk)("li",lL,[oL,nL,(0,o.Lk)("span",iL,(0,v.v_)(e.leadToDisplay?.status?.toUpperCase()),1)])]),dL,rL,e.leadToDisplay?.offer_details?((0,o.uX)(),(0,o.CE)("ul",cL,[(0,o.Lk)("li",mL,[uL,pL,(0,o.Lk)("span",bL," ₦ "+(0,v.v_)(e.formatNumber(e.leadToDisplay?.offer_details?.loan_amount)),1)]),(0,o.Lk)("li",kL,[fL,hL,(0,o.Lk)("span",gL,(0,v.v_)(e.leadToDisplay?.offer_details?.tenor),1)]),(0,o.Lk)("li",vL,[LL,yL,(0,o.Lk)("span",xL," ₦ "+(0,v.v_)(e.formatNumber(e.leadToDisplay?.offer_details.monthly_repayment)),1)]),(0,o.Lk)("li",wL,[AL,DL,(0,o.Lk)("span",_L," ₦ "+(0,v.v_)(e.formatNumber(e.leadToDisplay?.offer_details.total_repayment)),1)])])):((0,o.uX)(),(0,o.CE)("div",CL,"No offer at the moment"))])])]),PL])]),FL]),(0,o.Lk)("div",TL,[(0,o.Lk)("div",EL,[(0,o.Lk)("div",BL,[RL,(0,o.Lk)("div",ML,[(0,o.Lk)("table",SL,[NL,(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.leadToDisplay?.lead_histories,(t=>((0,o.uX)(),(0,o.CE)("tr",{class:"border border-light",key:t.id},[(0,o.Lk)("td",UL,[(0,o.Lk)("span",IL,(0,v.v_)(t.remark)+". ",1)]),(0,o.Lk)("td",XL,(0,v.v_)(e.formatDateTime(t.created_at)),1),(0,o.Lk)("td",jL,(0,v.v_)(t.user?.name),1)])))),128))])])]),WL])]),OL])])}const zL=(0,kn.dj)();var QL=(0,o.pM)({name:"PendingLeadsPage",components:{BreadCrumb:me,CustomTable:tt},data(){return{dataToPass:{},statusOptions:null,allLeads:[],leadToDisplay:null,updateForm:{leadId:null,remark:null,status:null,call_back_time:null,processing:!1}}},computed:{allItemActions(){return[{buttonText:"View Details",method:this.viewDetails,hasPermission:this.hasAnyPermission(["process-leads"])},{buttonText:"View History",method:this.viewHistory,hasPermission:this.hasAnyPermission(["process-leads"])},{buttonText:"Update Report",method:this.showUpdateStatus,hasPermission:this.hasAnyPermission(["process-leads"])}]}},mounted(){Eh.statusOptions().then((e=>{this.statusOptions=e.data.data})),Eh.pendingLeads().then((e=>{this.allLeads=e.data,this.retrieveRecords(e)}))},mixins:[H.A],methods:{getLeads(){Eh.pendingLeads().then((e=>{this.allLeads=e.data,this.retrieveRecords(e)}))},showUpdateStatus(e){if(this.hasAnyPermission(["process-leads"])){let t=this.allLeads.data.filter((t=>t.id==e))[0];this.updateForm.leadId=t.id,this.updateForm.status=t.status,document.getElementById("updateStatusModalButton").click()}},viewHistory(e){(this.hasAnyPermission(["process-leads","view-all-leads"])||this.hasAnyPermission(["view-all-leads"]))&&(this.leadToDisplay=this.allLeads.data.filter((t=>t.id==e))[0],console.log(this.leadToDisplay,e),document.getElementById("leadHistoryModalButton").click())},viewDetails(e){this.hasAnyPermission(["process-leads"])&&(this.leadToDisplay=this.allLeads.data.filter((t=>t.id==e))[0],console.log(this.leadToDisplay,e),document.getElementById("leadDetailsModalButton").click())},moreRecords(e,t){null!=e&&void 0!=typeof e&&Eh.pendingLeads(t,e).then((e=>{this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&Eh.pendingLeads(t).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data;console.log("response payload:",t);const a=t.data.map((e=>[e.name,e.phone_number,e.organization_name,e.city_name+", "+e.state_name,this.formatNumber(e.offer),e.status,e.id]));let s=t;console.log(s),this.dataToPass={headers:["Name","Phone Number","Organization","City/State","Offer","Status","Action"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}},updateStatus(){this.updateForm.processing=!0,Eh.updateStatus(this.updateForm).then((e=>{this.updateForm.processing=!1,zL.success("Lead Status Updated successfully"),this.closeModal("updateStatusModal"),this.getLeads()})).catch((e=>{this.updateForm.processing=!1,422===e.response.status&&zL.error(e.response.data.message)}))},closeModal(e){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}}});const HL=(0,R.A)(QL,[["render",VL]]);var $L=HL;const qL={class:"card mb-25 border-0 rounded-0 bg-white create-new-project-box"},KL={class:"card-body p-15 p-sm-20 p-md-25 p-lg-30 letter-spacing"},JL={class:"row"},YL={class:"col-md-12"},GL={class:"form-group mb-15 mb-sm-20 mb-md-25"},ZL=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Service Provider ",-1),ey=(0,o.Lk)("option",{value:""},"Select",-1),ty=(0,o.Lk)("option",{value:"remita"},"Remita",-1),ay=[ey,ty],sy={class:"col-md-12"},ly={class:"form-group mb-15 mb-sm-20 mb-md-25"},oy=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Mandate Reference ",-1),ny=(0,o.Lk)("div",{class:"col-md-12"},[(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16 bg-success",type:"submit"}," Submit ")],-1),iy={class:"modal fade confirmModal",id:"confirmModal",tabindex:"-1","aria-hidden":"true"},dy={class:"modal-dialog modal-dialog-centered"},ry={class:"modal-content p-15 p-md-40"},cy=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Stop Deduction")],-1),my={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},uy={class:"text-lg py-3"},py={class:"modal-footer"},by={class:"d-flex justify-content-between w-100"},ky=(0,o.Lk)("button",{class:"btn btn-secondary btn-md shadow-none","data-bs-dismiss":"modal","aria-label":"Close",type:"button"},"Never Mind",-1),fy=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),hy=(0,o.Lk)("button",{class:"invisible",id:"confirmModalButton","data-bs-toggle":"modal","data-bs-target":"#confirmModal"},null,-1);function gy(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(d,{pageTitle:"Stop Deduction"}),(0,o.Lk)("div",qL,[(0,o.Lk)("div",KL,[(0,o.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...t)=>e.handleSubmit&&e.handleSubmit(...t)),["prevent"]))},[(0,o.Lk)("div",JL,[(0,o.Lk)("div",YL,[(0,o.Lk)("div",GL,[ZL,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.form.provider=t),class:"form-control shadow-none rounded-0 text-black"},ay,512),[[n.u1,e.form.provider]])])]),(0,o.Lk)("div",sy,[(0,o.Lk)("div",ly,[oy,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.form.mandateReference=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Mandate Reference"},null,512),[[n.Jo,e.form.mandateReference]])])]),ny])],32)])]),(0,o.Lk)("div",null,[(0,o.Lk)("div",iy,[(0,o.Lk)("div",dy,[(0,o.Lk)("div",ry,[cy,(0,o.Lk)("div",my,[(0,o.Lk)("p",uy,[(0,o.eW)("Are you sure you want to stop deduction on "+(0,v.v_)(e.form.provider)+" with reference ",1),(0,o.Lk)("b",null,(0,v.v_)(e.form.mandateReference),1),(0,o.eW)("?")])]),(0,o.Lk)("div",py,[(0,o.Lk)("div",by,[ky,(0,o.Lk)("button",{type:"button",class:"btn btn-danger btn-md shadow-none","aria-label":"Close",onClick:t[3]||(t[3]=(0,n.D$)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},"Confirm")])]),fy])]),hy])])],64)}const vy=(0,kn.dj)();var Ly=(0,o.pM)({name:"StopDeductionPage",data(){return{form:{mandateReference:null,provider:null,processing:!1}}},mixins:[H.A],components:{BreadCrumb:me},methods:{handleSubmit(){this.hasAnyPermission(["edit-repayment"])&&document.getElementById("confirmModalButton")?.click()},submit(){it.stopCollection(this.form).then((e=>{this.closeModal("confirmModal"),this.form.processing=!1,vy.success("Stop collection request successful")})).catch((e=>{this.closeModal("confirmModal"),this.form.processing=!1,422===e.response.status?vy.error(e.response.data.message):vy.error("Stop collection request failed")}))},closeModal(e){e&&(document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove())}}});const yy=(0,R.A)(Ly,[["render",gy]]);var xy=yy;function wy(e,t,a,s,l,n){const i=(0,o.g2)("LoginForm");return(0,o.uX)(),(0,o.Wv)(i)}const Ay={class:"row justify-content-center"},Dy={class:"col-md-10 col-lg-8 col-xl-9 col-xxl-8 col-xxxl-6"},_y={class:"card mb-25 border-0 rounded-0 bg-white authentication-card"},Cy={class:"card-body letter-spacing"},Py=(0,o.Lk)("h4",{class:"text-black fw-bold mb-0 text-center"}," Sign In To Your Account! ",-1),Fy={class:"form-group mb-15 mb-sm-20 mb-md-25"},Ty=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Email Address ",-1),Ey={class:"form-group mb-15 mb-sm-20 mb-md-25"},By=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Password ",-1),Ry={class:"d-flex align-items-center justify-content-between mb-15 mb-md-20"},My=(0,o.Lk)("div",{class:"form-check form-check-primary mb-0 fs-md-15 fs-lg-16 text-muted lh-1"},[(0,o.Lk)("input",{class:"form-check-input shadow-none",type:"checkbox",id:"remember-me"}),(0,o.Lk)("label",{class:"form-check-label",for:"remember-me"}," Remember Me ")],-1),Sy=["disabled"];function Ny(e,t,a,s,l,i){const d=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Ay,[(0,o.Lk)("div",Dy,[(0,o.Lk)("div",_y,[(0,o.Lk)("div",Cy,[Py,(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...e)=>i.login&&i.login(...e)),["prevent"]))},[(0,o.Lk)("div",Fy,[Ty,(0,o.bo)((0,o.Lk)("input",{type:"email",class:"form-control shadow-none rounded-0 text-black",placeholder:"e.g. adam127704@gmail.com","onUpdate:modelValue":t[0]||(t[0]=e=>l.form.email=e),autocomplete:"email"},null,512),[[n.Jo,l.form.email]])]),(0,o.Lk)("div",Ey,[By,(0,o.bo)((0,o.Lk)("input",{type:"password",class:"form-control shadow-none rounded-0 text-black",placeholder:"**************","onUpdate:modelValue":t[1]||(t[1]=e=>l.form.password=e),autocomplete:"password"},null,512),[[n.Jo,l.form.password]])]),(0,o.Lk)("div",Ry,[My,(0,o.bF)(d,{to:"/forgot-password",class:"forgot-password-btn fs-md-15 fs-lg-16 text-decoration-none position-relative text-primary"},{default:(0,o.k6)((()=>[(0,o.eW)(" Forgot Password? ")])),_:1})]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white rounded-1 fs-md-15 fs-lg-16 bg-success d-block w-100",type:"submit",disabled:l.processing,onClick:t[2]||(t[2]=(...e)=>i.login&&i.login(...e))},(0,v.v_)(l.processing?"Please Wait...":"Sign In Now"),9,Sy)],32)])])])])}var Uy=a(953),Iy=a(6278);const Xy=(0,kn.dj)();(0,Uy.KR)(!1);var jy={name:"LoginForm",data(){return{form:{email:"",password:""},errors:[],processing:!1}},methods:{...(0,Iy.i0)({signIn:"auth/login"}),async login(){this.processing||(this.processing=!0,await dm.A.logout(),dm.A.login(this.form).then((e=>{this.processing=!1,this.signIn(e.data)})).catch((e=>{this.processing=!1,422===e.response.status&&(Xy.error(e.response.data.message),this.errors=e.response.data.errors)})))}}};const Wy=(0,R.A)(jy,[["render",Ny]]);var Oy=Wy,Vy=(0,o.pM)({name:"LoginPage",components:{LoginForm:Oy}});const zy=(0,R.A)(Vy,[["render",wy]]);var Qy=zy;const Hy={class:"row"},$y={class:"col-xxl-7"},qy=(0,o.Lk)("div",{class:"col-xxl-5"},null,-1);function Ky(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("ProfileContent");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{PageTitle:"Profile"}),(0,o.Lk)("div",Hy,[(0,o.Lk)("div",$y,[(0,o.bF)(d,{user:e.user},null,8,["user"])]),qy])],64)}var Jy=a(8081);const Yy={class:"card mb-25 border-0 rounded-0 bg-white letter-spacing lead-info-box"},Gy={class:"card-body p-15 p-sm-20 p-md-25 p-lg-30"},Zy={class:"profile-info d-sm-flex align-items-center"},ex=(0,o.Lk)("img",{src:Jy,class:"rounded",alt:"user"},null,-1),tx={class:"title mt-12 mt-sm-0"},ax={class:"text-black fw-medium mb-8"},sx={class:"d-block fs-md-15 fs-lg-16 text-dark-emphasis mb-8"},lx=(0,o.Lk)("span",{class:"d-block fw-bold text-primary"},"Adlash IT Solution",-1),ox=(0,o.Lk)("div",{class:"border-top mt-15 mb-15 mt-sm-20 mb-sm-20 mt-md-25 mb-md-25 mt-lg-30 mb-lg-30"},null,-1),nx={class:"d-flex align-items-center justify-content-between"},ix=(0,o.Lk)("h5",{class:"fw-medium text-black-emphasis mb-0"},"Personal Information",-1),dx=(0,o.Lk)("i",{class:"ph-duotone ph-pencil text-black position-relative top-1 fs-16 me-1"},null,-1),rx={class:"info mt-25 ps-0 mb-0 list-unstyled"},cx={class:"position-relative"},mx=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-mail-inbox-app"})],-1),ux=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Email",-1),px={href:"mailto:johnathon23@gmail.com",class:"d-inline-block fs-md-15 fs-lg-16 text-primary text-decoration-none"},bx={class:"position-relative"},kx=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-telephone-call"})],-1),fx=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Phone No",-1),hx={href:"tel:+1-321-456-8756",class:"d-inline-block fs-md-15 fs-lg-16 text-muted text-decoration-none"},gx={class:"position-relative"},vx=(0,o.Lk)("div",{class:"icon text-primary rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-web"})],-1),Lx=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"},"Referral Code",-1),yx={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"},xx={class:"position-relative"},wx=(0,o.Lk)("div",{class:"icon text-success rounded-circle text-center"},[(0,o.Lk)("i",{class:"flaticon-money"})],-1),Ax=(0,o.Lk)("span",{class:"d-block text-black mb-5 fw-semibold"}," Gender ",-1),Dx={class:"d-inline-block fs-md-15 fs-lg-16 text-muted"};function _x(e,t,a,s,l,n){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Yy,[(0,o.Lk)("div",Gy,[(0,o.Lk)("div",Zy,[ex,(0,o.Lk)("div",tx,[(0,o.Lk)("h5",ax,(0,v.v_)(e.user.name),1),(0,o.Lk)("span",sx,(0,v.v_)(e.user.roles.map((e=>e.name)).join(" | ")),1),lx])]),ox,(0,o.Lk)("div",nx,[ix,(0,o.bF)(i,{to:"/profile-settings",class:"d-inline-block text-decoration-none lh-1 text-muted fw-medium"},{default:(0,o.k6)((()=>[dx,(0,o.eW)(" Edit ")])),_:1})]),(0,o.Lk)("ul",rx,[(0,o.Lk)("li",cx,[mx,ux,(0,o.Lk)("a",px,(0,v.v_)(e.user.email),1)]),(0,o.Lk)("li",bx,[kx,fx,(0,o.Lk)("a",hx,(0,v.v_)(e.user.phone_number),1)]),(0,o.Lk)("li",gx,[vx,Lx,(0,o.Lk)("span",yx,(0,v.v_)(e.user.refferal_code),1)]),(0,o.Lk)("li",xx,[wx,Ax,(0,o.Lk)("span",Dx,(0,v.v_)(e.user.gender),1)])])])])}var Cx=(0,o.pM)({name:"ProfileContent",props:["user"]});const Px=(0,R.A)(Cx,[["render",_x]]);var Fx=Px,Tx=(0,o.pM)({name:"ProfilePage",components:{BreadCrumb:me,ProfileContent:Fx},data(){return{user:l.A.getters["auth/user"]}}});const Ex=(0,R.A)(Tx,[["render",Ky]]);var Bx=Ex;const Rx={class:"card mb-25 border-0 rounded-0 bg-white create-new-project-box"},Mx={class:"card-body p-15 p-sm-20 p-md-25 p-lg-30 letter-spacing"},Sx={class:"row"},Nx={class:"col-md-6"},Ux={class:"form-group mb-15 mb-sm-20 mb-md-25"},Ix=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Loan Reference ",-1),Xx={class:"col-md-12"},jx=["disabled"];function Wx(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(d,{pageTitle:"Loan Pickup"}),(0,o.Lk)("div",Rx,[(0,o.Lk)("div",Mx,[(0,o.Lk)("form",{onSubmit:t[1]||(t[1]=(0,n.D$)(((...t)=>e.submit&&e.submit(...t)),["prevent"]))},[(0,o.Lk)("div",Sx,[(0,o.Lk)("div",Nx,[(0,o.Lk)("div",Ux,[Ix,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.form.loan_reference=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Loan Reference"},null,512),[[n.Jo,e.form.loan_reference]])])]),(0,o.Lk)("div",Xx,[(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16 bg-success",type:"submit",disabled:e.form.processing},(0,v.v_)(e.form.processing?"Processing...":"Submit"),9,jx)])])],32)])])],64)}const Ox=(0,kn.dj)();var Vx=(0,o.pM)({name:"InitiateDevicePickupPage",data(){return{form:{loan_reference:null,processing:!1}}},mixins:[H.A],components:{BreadCrumb:me},methods:{submit(){this.form.processing=!0,at.A.initiateDevicePickup(this.form.loan_reference).then((e=>{this.form.processing=!1;const t=e.data.data;this.$router.push("/loans/"+t.id)})).catch((e=>{this.form.processing=!1,422!==e.response?.status&&400!==e.response?.status||Ox.error(e.response.data.message),404===e.response?.status&&Ox.error("No valid record found")}))},closeModal(e){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}}});const zx=(0,R.A)(Vx,[["render",Wx]]);var Qx=zx;const Hx={class:"modal fade productDetailsModal",id:"productDetailsModal",tabindex:"-1","aria-hidden":"true"},$x={class:"modal-dialog modal-dialog-centered"},qx={class:"modal-content p-15 p-md-40"},Kx=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Product Details")],-1),Jx={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Yx={class:"card mb-25 border-0 rounded-0 bg-white letter-spacing lead-info-box"},Gx={class:"card-body p-15 p-sm-20 p-md-25 p-lg-30"},Zx={class:"profile-info d-sm-flex align-items-center"},ew={class:"title mt-12 mt-sm-0"},tw={class:"text-black fw-medium mb-8"},aw={class:"d-block fw-bold text-primary"},sw=(0,o.Lk)("div",{class:"border-top mt-15 mb-15 mt-sm-20 mb-sm-20 mt-md-25 mb-md-25 mt-lg-30 mb-lg-30"},null,-1),lw=(0,o.Lk)("div",{class:"d-flex align-items-center justify-content-between"},[(0,o.Lk)("h5",{class:"fw-medium text-black-emphasis mb-0"},"Product Features")],-1),ow={class:"info mt-25 ps-0 mb-0 list-unstyled row"},nw=(0,o.Lk)("div",{class:"icon text-info rounded-circle text-center"},null,-1),iw={class:"d-block text-black mb-5 fw-semibold"},dw={class:"d-block fw-bold text-primary"},rw=(0,o.Lk)("h5",{class:"fw-medium text-black-emphasis mb-0"},"Product Images",-1),cw={class:"col-md-12"},mw={style:{position:"relative","overflow-x":"scroll","white-space":"nowrap","padding-left":"20px","padding-right":"20px"}},uw=(0,o.Lk)("span",{style:{position:"absolute",left:"0",top:"40%","font-size":"30px"}},"⟨",-1),pw=(0,o.Lk)("span",{style:{position:"absolute",right:"0",top:"40%","font-size":"30px"}},"⟩",-1),bw=["onClick"],kw=["src"],fw=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),hw=(0,o.Lk)("button",{class:"invisible",id:"productDetailsModalButton","data-bs-toggle":"modal","data-bs-target":"#productDetailsModal"},null,-1),gw={class:"modal fade createNewModal",id:"createNewModal",tabindex:"-1","aria-hidden":"true"},vw={class:"modal-dialog modal-dialog-centered"},Lw={class:"modal-content p-15 p-md-40"},yw={class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},xw={class:"modal-title fw-bold text-black"},ww={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},Aw={class:"row"},Dw={class:"col-lg-6 col-md-6"},_w={class:"form-group mb-15 mb-md-25"},Cw=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Name ",-1),Pw={class:"col-lg-6 col-md-6"},Fw={class:"form-group mb-15 mb-md-25"},Tw=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Price ",-1),Ew={class:"col-lg-12 col-md-12"},Bw={class:"form-group mb-15 mb-md-25"},Rw=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Description ",-1),Mw=(0,o.Fv)('<div class="col-lg-6 col-xs-6"><div class="form-group mb-2"><label class="d-block text-black fw-semibold mb-10"> Feature </label></div></div><div class="col-lg-6 col-xs-6"><div class="form-group mb-2"><label class="d-block text-black fw-semibold mb-10"> Value </label></div></div>',2),Sw={class:"col-lg-6 col-xs-6"},Nw={class:"form-group mb-2"},Uw=["onUpdate:modelValue"],Iw={class:"col-lg-6 col-xs-6"},Xw={class:"form-group mb-2"},jw=["onUpdate:modelValue"],Ww={class:"col-xs-12",style:{"text-align":"right"}},Ow={class:"col-lg-6 col-md-6"},Vw={class:"form-group mt-8 mb-15 mb-md-25"},zw={class:"d-block text-black fw-semibold mb-10"},Qw=["checked"],Hw=["disabled"],$w=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),qw=(0,o.Lk)("button",{class:"invisible",id:"createNewModalButton","data-bs-toggle":"modal","data-bs-target":"#createNewModal"},null,-1),Kw={class:"modal fade uploadImageModal",id:"uploadImageModal",tabindex:"-1","aria-hidden":"true"},Jw={class:"modal-dialog modal-dialog-centered"},Yw={class:"modal-content p-15 p-md-40"},Gw=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Upload Image")],-1),Zw={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},eA=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),tA=(0,o.Lk)("button",{class:"invisible",id:"uploadImageModalButton","data-bs-toggle":"modal","data-bs-target":"#uploadImageModal"},null,-1),aA={class:"modal fade modal-lg",id:"deleteImageModal","data-bs-keyboard":"false",tabindex:"-1","aria-hidden":"true"},sA={class:"modal-dialog"},lA={class:"modal-content"},oA=(0,o.Fv)('<div class="modal-header"><h1 class="modal-title fs-5">Delete Image</h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><p class="fs-md-16 fs-lg-18">Are you sure you want to delete this image?</p></div>',2),nA={class:"modal-footer"},iA=(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Nevermind ",-1);function dA(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("CustomTable"),c=(0,o.g2)("product-image-upload");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(d,{pageTitle:"All Products"}),(0,o.bF)(r,{propData:e.dataToPass,callBack:e.moreRecords,headAction:e.mainAction,headActionText:"Add Product",viewDetails:e.allItemActions,"button-text":"Edit"},null,8,["propData","callBack","headAction","viewDetails"]),(0,o.Lk)("div",Hx,[(0,o.Lk)("div",$x,[(0,o.Lk)("div",qx,[Kx,(0,o.Lk)("div",Jx,[(0,o.Lk)("div",Yx,[(0,o.Lk)("div",Gx,[(0,o.Lk)("div",Zx,[(0,o.Lk)("div",ew,[(0,o.Lk)("h5",tw,(0,v.v_)(e.productToDisplay?.name),1),(0,o.Lk)("span",aw," N"+(0,v.v_)(e.formatNumber(e.productToDisplay?.price)),1)])]),sw,lw,(0,o.Lk)("ul",ow,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.productToDisplay?.features,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:e,class:"position-relative col-md-6"},[nw,(0,o.Lk)("span",iw,(0,v.v_)(t?.toUpperCase()),1),(0,o.Lk)("span",dw,(0,v.v_)(e),1)])))),128))])]),rw,(0,o.Lk)("div",cw,[(0,o.Lk)("div",mw,[uw,pw,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.productToDisplay?.images,(t=>((0,o.uX)(),(0,o.CE)("li",{key:t,style:{width:"240px",padding:"10px",position:"relative",display:"inline-block"}},[(0,o.Lk)("a",{href:"#",style:{position:"absolute",top:"0",right:"0",height:"24px",width:"24px",padding:"5px","text-align":"center","line-height":"14px","border-radius":"100%","background-color":"red",color:"lightgrey","text-decoration":"none"},"data-bs-toggle":"modal","data-bs-target":"#deleteImageModal",onClick:(0,n.D$)((a=>e.imageToDelete=t.id),["prevent"])},"x",8,bw),(0,o.Lk)("img",{src:t.product_image_url,alt:"",class:"img-fluid"},null,8,kw)])))),128))])])])]),fw])])]),hw,(0,o.Lk)("div",gw,[(0,o.Lk)("div",vw,[(0,o.Lk)("div",Lw,[(0,o.Lk)("div",yw,[(0,o.Lk)("h5",xw,(0,v.v_)(e.createForm.editing?"Edit Admin":"Add New User"),1)]),(0,o.Lk)("div",ww,[(0,o.Lk)("form",{onSubmit:t[6]||(t[6]=(0,n.D$)(((...t)=>e.createProduct&&e.createProduct(...t)),["prevent"]))},[(0,o.Lk)("div",Aw,[(0,o.Lk)("div",Dw,[(0,o.Lk)("div",_w,[Cw,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.createForm.name=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Name"},null,512),[[n.Jo,e.createForm.name]])])]),(0,o.Lk)("div",Pw,[(0,o.Lk)("div",Fw,[Tw,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[1]||(t[1]=t=>e.createForm.price=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Price"},null,512),[[n.Jo,e.createForm.price]])])]),(0,o.Lk)("div",Ew,[(0,o.Lk)("div",Bw,[Rw,(0,o.bo)((0,o.Lk)("textarea",{type:"text",required:"","onUpdate:modelValue":t[2]||(t[2]=t=>e.createForm.description=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Description"},null,512),[[n.Jo,e.createForm.description]])])]),Mw,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.featureKeys.length,(t=>((0,o.uX)(),(0,o.CE)("div",{class:"row",key:t},[(0,o.Lk)("div",Sw,[(0,o.Lk)("div",Nw,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":a=>e.featureKeys[t-1]=a,required:"",class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Feature"},null,8,Uw),[[n.Jo,e.featureKeys[t-1]]])])]),(0,o.Lk)("div",Iw,[(0,o.Lk)("div",Xw,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":a=>e.featureValues[t-1]=a,required:"",class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Value"},null,8,jw),[[n.Jo,e.featureValues[t-1]]])])])])))),128)),(0,o.Lk)("div",Ww,[(0,o.Lk)("button",{class:"btn btn-sm btn-danger",onClick:t[3]||(t[3]=(...t)=>e.removeRow&&e.removeRow(...t)),type:"button"},"Remove Row"),(0,o.Lk)("button",{class:"ms-2 btn btn-sm btn-success me-20",onClick:t[4]||(t[4]=(...t)=>e.addRow&&e.addRow(...t)),type:"button"},"Add Row")]),(0,o.Lk)("div",Ow,[(0,o.Lk)("div",Vw,[(0,o.Lk)("label",zw,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",required:"",checked:e.createForm.active,"onUpdate:modelValue":t[5]||(t[5]=t=>e.createForm.active=t),value:"1",class:"text-black"},null,8,Qw),[[n.lH,e.createForm.active]]),(0,o.eW)(" Active ")])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.createForm.processing},(0,v.v_)(e.createForm.processing?"Please Wait...":"Submit"),9,Hw)],32)]),$w])]),qw]),(0,o.Lk)("div",Kw,[(0,o.Lk)("div",Jw,[(0,o.Lk)("div",Yw,[Gw,(0,o.Lk)("div",Zw,[(0,o.bF)(c,{"call-back":e.closeImageUploadModal,"product-id":e.selectedProductId},null,8,["call-back","product-id"])]),eA])])]),tA,(0,o.Lk)("div",aA,[(0,o.Lk)("div",sA,[(0,o.Lk)("div",lA,[oA,(0,o.Lk)("div",nA,[iA,(0,o.Lk)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:t[7]||(t[7]=(...t)=>e.deleteImage&&e.deleteImage(...t))}," Delete ")])])])])])}var rA={async allProducts(e="",t=null){const a=l.A.getters["auth/token"];return J.A.get(t??`/api/admin/products?q=${e}`,{headers:{Authorization:"Bearer "+a["token"]}})},async create(e){const t=l.A.getters["auth/token"];return J.A.post("/api/admin/products/new",e,{headers:{Authorization:"Bearer "+t["token"]}})},async update(e){const t=e.id,a=l.A.getters["auth/token"];return J.A.put(`/api/admin/products/${t}/update`,e,{headers:{Authorization:"Bearer "+a["token"]}})},async createImage(e,t){const a=l.A.getters["auth/token"],s=e;return J.A.post(`/api/admin/products/${s}/image/create`,t,{headers:{Authorization:"Bearer "+a["token"]}})},async deleteImage(e){const t=l.A.getters["auth/token"];return J.A.delete(`/api/admin/products/${e}/image/delete`,{headers:{Authorization:"Bearer "+t["token"]}})}};const cA=e=>((0,o.Qi)("data-v-f7339c10"),e=e(),(0,o.jt)(),e),mA={key:0,class:"text-center my-3 text-lg text-bold"},uA={class:"file-upload text-center position-relative"},pA=cA((()=>(0,o.Lk)("span",{class:"d-block text-muted"},[(0,o.eW)(" Drop Files Here Or "),(0,o.Lk)("span",{class:"text-black fw-medium position-relative"}," Click To Upload ")],-1))),bA={class:"text-center"};function kA(e,t,a,s,l,n){return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.selectedFile?((0,o.uX)(),(0,o.CE)("div",mA,(0,v.v_)(e.selectedFile.name)+" : "+(0,v.v_)(e.selectedFile.size/1e3)+"kb",1)):(0,o.Q3)("",!0),(0,o.Lk)("div",uA,[pA,(0,o.Lk)("input",{type:"file",class:"d-block shadow-none border-0 position-absolute start-0 end-0 top-0 bottom-0 z-1 opacity-0",ref:"fileInput",allowed:"jpg,jpeg,png,pdf",onChange:t[0]||(t[0]=(...t)=>e.handleFileChange&&e.handleFileChange(...t))},null,544)]),(0,o.Lk)("div",bA,[(0,o.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...t)=>e.uploadFile&&e.uploadFile(...t)),class:"btn btn-primary btn-md my-5"},(0,v.v_)(e.uploadingImage?"Please Wait!":"Upload File"),1)])],64)}const fA=(0,kn.dj)();var hA=(0,o.pM)({name:"ProductImageUpload",props:["callBack","productId"],data(){return{selectedFile:null,audioUrl:"",uploadingImage:!1}},mounted(){this.selectedFile=null,this.uploadingImage=!1},methods:{handleFileChange(e){const t=e.target;this.selectedFile=t.files?.[0]||null},async uploadFile(){if(this.uploadingImage=!0,!this.selectedFile)return;const e=new FormData;e.append("image_file",this.selectedFile);try{rA.createImage(this.productId,e).then((e=>{this.uploadingImage=!1,fA.success("Product image uploaded successfully"),this.audioUrl="",this.selectedFile=null,this.callBack("uploadImageModal")})).catch((e=>{this.uploadingImage=!1,this.callBack(),this.audioUrl="",this.selectedFile=null,[422,403].includes(e.response.status)&&fA.error(e.response.data.message)}))}catch(t){console.error("Error updating loan file:",t)}}}});const gA=(0,R.A)(hA,[["render",kA],["__scopeId","data-v-f7339c10"]]);var vA=gA;const LA=(0,kn.dj)();var yA=(0,o.pM)({name:"AllProductsPage",components:{BreadCrumb:me,CustomTable:tt,ProductImageUpload:vA},mounted(){console.log("mounted successfully"),this.getProducts()},mixins:[H.A],methods:{moreRecords(e,t){null!=e&&void 0!=typeof e&&rA.allProducts(t,e).then((e=>{this.allProducts=e.data,this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&rA.allProducts(t).then((e=>{this.allProducts=e.data,this.retrieveRecords(e)}))},getProducts(){rA.allProducts().then((e=>{this.allProducts=e.data,this.retrieveRecords(e)}))},mainAction(){this.featureKeys=[""],this.featureValues=[""],this.createForm={id:null,name:null,description:null,price:null,active:1,features:{},editing:!1,processing:!1},this.hasAnyPermission(["create-admin"])&&document.getElementById("createNewModalButton")?.click()},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.name,e.description,this.formatNumber(e.price),e.active?"Active":"Deactivated",this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Description","Price","Status","Date Created","Action"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}},removeRow(){this.featureKeys.length>1&&(this.featureKeys.pop(),this.featureValues.pop())},addRow(){this.featureKeys.length<8&&(this.featureKeys.push(""),this.featureValues.push(""))},viewDetails(e){this.hasAnyPermission(["view-products"])&&(this.productToDisplay=this.allProducts.data.data.filter((t=>t.id==e))[0],console.log(this.productToDisplay,e),document.getElementById("productDetailsModalButton")?.click())},editProduct(e){console.log("product id:",e,this.allProducts);let t=this.allProducts.data.data.filter((t=>t.id==e));t=t[0],this.hasAnyPermission(["update-products"])&&(console.log("product:",e,t),this.createForm.name=t.name,this.createForm.description=t.description,this.createForm.price=t.price,this.createForm.active=t.active,this.createForm.id=t.id,this.featureKeys=Object.keys(t.features),this.featureValues=Object.values(t.features),this.createForm.features=t.features,this.createForm.editing=!0,document.getElementById("createNewModalButton")?.click())},createProduct(){if(this.createForm.editing){this.createForm.processing=!0;let e={};this.featureKeys.forEach(((t,a)=>{e[t]=this.featureValues[a]})),this.createForm.features=e,console.log("edit form",this.createForm),rA.update(this.createForm).then((e=>{this.createForm.processing=!1,LA.success("Product Updated successfully"),this.closeModal("createNewModal"),this.getProducts()})).catch((e=>{this.createForm.processing=!1,422===e.response.status&&LA.error(e.response.data.message),this.closeModal("createNewModal")}))}else{let e={};this.featureKeys.forEach(((t,a)=>{e[t]=this.featureValues[a]})),this.createForm.features=e,console.log("create form",this.createForm),rA.create(this.createForm).then((e=>{this.createForm.processing=!1,LA.success("Product Created successfully"),this.getProducts(),this.closeModal("createNewModal")})).catch((e=>{this.createForm.processing=!1,422===e.response.status&&LA.error(e.response.data.message),this.closeModal("createNewModal")}))}},addProductImage(e){this.selectedProductId=e,console.log("product id",this.selectedProductId),document.getElementById("uploadImageModalButton")?.click()},closeImageUploadModal(e){this.getProducts(),this.closeModal(e)},deleteImage(){rA.deleteImage(this.imageToDelete).then((e=>{LA.success("Image deleted successfully"),this.getProducts()})).catch((e=>{this.createForm.processing=!1,422===e.response.status&&LA.error(e.response.data.message)}))},closeModal(e="uploadLeadsModal"){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}},data(){return{dataToPass:{},productToDisplay:null,selectedProductId:null,imageToDelete:null,allProducts:[],featureKeys:[""],featureValues:[""],createForm:{id:null,name:null,description:null,price:null,active:0,editing:!1,features:null,processing:!1}}},computed:{allItemActions(){return[{buttonText:"View Details",method:this.viewDetails,hasPermission:this.hasAnyPermission(["view-products"])},{buttonText:"Edit Product",method:this.editProduct,hasPermission:this.hasAnyPermission(["edit-products"])},{buttonText:"Add Product Image",method:this.addProductImage,hasPermission:this.hasAnyPermission(["edit-products"])}]}}});const xA=(0,R.A)(yA,[["render",dA]]);var wA=xA;const AA={class:"my-3 align-right",style:{"text-align":"right"}},DA={key:0,class:"invisible",id:"createNewModalButton","data-bs-toggle":"modal","data-bs-target":"#createNewModal"},_A={class:"modal fade createNewModal",id:"createNewModal",tabindex:"-1","aria-hidden":"true"},CA={class:"modal-dialog modal-dialog-centered"},PA={class:"modal-content p-15 p-md-40"},FA=(0,o.Lk)("div",{class:"modal-header d-block ps-0 pe-0 pt-0 pb-15 pb-md-25"},[(0,o.Lk)("h5",{class:"modal-title fw-bold text-black"},"Add Special Approval")],-1),TA={class:"modal-body ps-0 pe-0 pb-0 pt-15 pt-md-25"},EA={class:"row"},BA={class:"col-lg-12 col-md-12"},RA={class:"form-group mb-15 mb-md-25"},MA=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Customer Name ",-1),SA={class:"col-lg-6 col-md-6"},NA={class:"form-group mb-15 mb-md-25"},UA=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Banks ",-1),IA=(0,o.Lk)("option",{value:""},"Select",-1),XA=["value"],jA={class:"col-lg-6 col-md-6"},WA={class:"form-group mb-15 mb-md-25"},OA=(0,o.Lk)("label",{class:"d-block text-black fw-semibold mb-10"}," Account Number ",-1),VA=["disabled"],zA=(0,o.Lk)("button",{type:"button",class:"btn-close shadow-none","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),QA={class:"modal fade modal-lg confirmDeactivateModal",id:"confirmDeactivateModal","data-bs-keyboard":"false",tabindex:"-1","aria-hidden":"true"},HA={class:"modal-dialog"},$A={class:"modal-content"},qA=(0,o.Fv)('<div class="modal-header"><h1 class="modal-title fs-5">Deactivate Approval</h1><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"><p class="fs-md-16 fs-lg-18">Are you sure you deactivate this approval?</p></div>',2),KA={class:"modal-footer"},JA=(0,o.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Nevermind ",-1),YA=(0,o.Lk)("button",{class:"invisible",id:"confirmDeactivateModalButton","data-bs-toggle":"modal","data-bs-target":"#confirmDeactivateModal"},null,-1);function GA(e,t,a,s,l,i){const d=(0,o.g2)("BreadCrumb"),r=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.bF)(d,{pageTitle:"All Special Approvals"}),(0,o.Lk)("div",AA,[e.hasAnyPermission(["create-special-approval"])?((0,o.uX)(),(0,o.CE)("button",DA,"Create New")):(0,o.Q3)("",!0)]),(0,o.bF)(r,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.allItemActions,"button-text":"Edit",headAction:e.mainAction,headActionText:"Add New Approval"},null,8,["propData","callBack","viewDetails","headAction"]),(0,o.Lk)("div",_A,[(0,o.Lk)("div",CA,[(0,o.Lk)("div",PA,[FA,(0,o.Lk)("div",TA,[(0,o.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(((...t)=>e.createApproval&&e.createApproval(...t)),["prevent"]))},[(0,o.Lk)("div",EA,[(0,o.Lk)("div",BA,[(0,o.Lk)("div",RA,[MA,(0,o.bo)((0,o.Lk)("input",{type:"text",required:"","onUpdate:modelValue":t[0]||(t[0]=t=>e.createForm.name=t),class:"form-control shadow-none rounded-0 text-black",placeholder:"Enter Customer Name"},null,512),[[n.Jo,e.createForm.name]])])]),(0,o.Lk)("div",SA,[(0,o.Lk)("div",NA,[UA,(0,o.bo)((0,o.Lk)("select",{class:"form-control shadow-none rounded-0 text-black","onUpdate:modelValue":t[1]||(t[1]=t=>e.createForm.remita_bank_code=t),required:""},[IA,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.banks,(e=>((0,o.uX)(),(0,o.CE)("option",{value:e.code,key:e},(0,v.v_)(e.name),9,XA)))),128))],512),[[n.u1,e.createForm.remita_bank_code]])])]),(0,o.Lk)("div",jA,[(0,o.Lk)("div",WA,[OA,(0,o.bo)((0,o.Lk)("input",{type:"string","onUpdate:modelValue":t[2]||(t[2]=t=>e.createForm.account_number=t),required:"",maxlength:"10",class:"form-control shadow-none rounded-0 text-black",placeholder:"e.g. 1234567890"},null,512),[[n.Jo,e.createForm.account_number]])])])]),(0,o.Lk)("button",{class:"default-btn transition border-0 fw-medium text-white pt-10 pb-10 ps-25 pe-25 pt-md-11 pb-md-11 ps-md-35 pe-md-35 rounded-1 fs-md-15 fs-lg-16",type:"submit",disabled:e.createForm.processing},(0,v.v_)(e.createForm.processing?"Please Wait...":"Submit"),9,VA)],32)]),zA])])]),(0,o.Lk)("div",QA,[(0,o.Lk)("div",HA,[(0,o.Lk)("div",$A,[qA,(0,o.Lk)("div",KA,[JA,(0,o.Lk)("button",{type:"button","data-bs-dismiss":"modal",class:"btn btn-success",onClick:t[4]||(t[4]=(...t)=>e.deactivateApproval&&e.deactivateApproval(...t))}," Deactivate ")])])])])]),YA],64)}var ZA={async allSpecialApprovals(e="",t=null){const a=l.A.getters["auth/token"];return J.A.get(t??`/api/admin/loans/special-approvals?q=${e}`,{headers:{Authorization:"Bearer "+a["token"]}})},async create(e){const t=l.A.getters["auth/token"];return J.A.post("/api/admin/loans/special-approvals",e,{headers:{Authorization:"Bearer "+t["token"]}})},async deactivate(e){const t=l.A.getters["auth/token"];return J.A.patch(`/api/admin/loans/special-approvals/${e}/deactivate`,{},{headers:{Authorization:"Bearer "+t["token"]}})}};const eD=(0,kn.dj)();var tD=(0,o.pM)({name:"SpecialApprovalsPage",components:{BreadCrumb:me,CustomTable:tt},computed:{allItemActions(){return[{buttonText:"Deactivate",method:this.handleDeactivate,hasPermission:this.hasAnyPermission(["create-admin"])}]}},data(){return{dataToPass:{},banks:[],allApprovals:[],deactivateApprovalForm:{id:null,processing:!1},createForm:{name:null,remita_bank_code:null,account_number:null,processing:!1}}},mounted(){this.getApprovals(),at.A.banks().then((e=>{this.banks=e.data.data}))},mixins:[H.A],methods:{handleDeactivate(e){this.deactivateApprovalForm.id=e,document.getElementById("confirmDeactivateModalButton")?.click()},deactivateApproval(){this.deactivateApprovalForm.processing=!0,ZA.deactivate(this.deactivateApprovalForm.id).then((()=>{this.deactivateApprovalForm.processing=!1,this.getApprovals(),eD.success("Special Approval deactivated successfully")})).catch((e=>{this.deactivateApprovalForm.processing=!1,[422,403].includes(e.response.status)&&eD.error(e.response.data.message)}))},mainAction(){this.createForm={name:null,remita_bank_code:null,account_number:null,processing:!1},this.hasAnyPermission(["create-special-approval"])&&document.getElementById("createNewModalButton")?.click()},getApprovals(){ZA.allSpecialApprovals().then((e=>{this.allApprovals=e.data.data.data,this.retrieveRecords(e)}))},createApproval(){this.createForm.processing=!0,ZA.create(this.createForm).then((e=>{this.createForm.processing=!1,eD.success("Special Approval Created successfully"),this.closeModal("createNewModal"),this.getApprovals()})).catch((e=>{this.createForm.processing=!1,422===e.response.status&&eD.error(e.response.data.message)}))},moreRecords(e,t){null!=e&&void 0!=typeof e&&ZA.allSpecialApprovals(t,e).then((e=>{this.allUsers=e.data.data.data,this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&ZA.allSpecialApprovals(t).then((e=>{this.allUsers=e.data.data.data,this.retrieveRecords(e)}))},async retrieveRecords(e){var t=new Date;const a=e.data,s=a.data.data.map((e=>[e.name,e.bank_name,e.account_number,new Date(e.expires_at)<t?"EXPIRED":"ACTIVE",e.id]));let l=a.data;this.dataToPass={headers:["Name","Bank","Account Number","Status","Action"],data:[...s],from:l.from,to:l.to,currentPage:l.current_page,total:l.total,previousPageUrl:l.prev_page_url,nextPageUrl:l.next_page_url,links:l.links}},closeModal(e){document.getElementsByClassName(`${e}`)[0].classList.remove("show"),document.getElementsByClassName(`${e}`)[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].removeAttribute("style"),document.getElementsByClassName("modal-open")[0].classList.remove("modal-open"),document.getElementsByClassName("modal-backdrop")[0].remove()}}});const aD=(0,R.A)(tD,[["render",GA]]);var sD=aD;function lD(e,t,a,s,l,n){const i=(0,o.g2)("BreadCrumb"),d=(0,o.g2)("CustomTable");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i,{pageTitle:"Loans Eligible for Top-up"}),(0,o.bF)(d,{propData:e.dataToPass,callBack:e.moreRecords,viewDetails:e.viewDetails},null,8,["propData","callBack","viewDetails"])],64)}var oD=(0,o.pM)({name:"TopupLoansPage",components:{BreadCrumb:me,CustomTable:tt},mounted(){at.A.topupLoans().then((e=>{this.retrieveRecords(e)}))},mixins:[H.A],methods:{viewDetails(e){cD.push("/loans/"+e)},moreRecords(e,t){null!=e&&void 0!=typeof e&&at.A.topupLoans(e,t).then((e=>{this.retrieveRecords(e)})),null!=t&&void 0!=typeof t&&at.A.topupLoans(e,t).then((e=>{this.retrieveRecords(e)}))},async retrieveRecords(e){const t=e.data,a=t.data.data.map((e=>[e.user?.name,e.user?.phone_number,e.user?.ippis_number,e.salary_account_number,e.salary_bank,e.referrer?.name,this.formatNumber(e.approved_amount),this.formatNumber(e.liquidation_amount),this.formatDate(e.created_at),e.id]));let s=t.data;this.dataToPass={headers:["Name","Phone Number","IPPIS Number","Account Number","Bank","Referrer","Loan Amount","Liquidation Amount","Date Created","Action"],data:[...a],from:s.from,to:s.to,currentPage:s.current_page,total:s.total,previousPageUrl:s.prev_page_url,nextPageUrl:s.next_page_url,links:s.links}}},data(){return{dataToPass:{}}}});const nD=(0,R.A)(oD,[["render",lD]]);var iD=nD;const dD=[{path:"/dashboard",name:"EcommercePage",meta:{middleware:"auth",title:"Dashboard"},component:ee},{path:"/profile",name:"ProfilePage",meta:{middleware:"auth",title:"ProfilePage"},component:Bx},{path:"/all-loans",name:"LoansPage",meta:{middleware:"auth",title:"Loans Page"},component:mt},{path:"/loans/:id",name:"SingleLoanPage",meta:{middleware:"auth",title:"Loans Page"},component:Rn},{path:"/pending-loans",name:"PendingLoansPage",meta:{middleware:"auth",title:"Loans Page"},component:Un},{path:"/loan-offer-sent",name:"LoanWithOfferSentPage",meta:{middleware:"auth",title:"Loans With Offer Sent"},component:Wn},{path:"/loan-calculator",name:"LoanCalculatorPage",meta:{middleware:"auth",title:"Loan Calculator Page"},component:_r},{path:"/device/pickup/initiate",name:"InitiateDevicePickupPage",meta:{middleware:"auth",title:"Initiate Device Pickup Page"},component:Qx},{path:"/pending-approval",name:"PendingApprovalLoansPage",meta:{middleware:"auth",title:"Pending Approval Loans Page"},component:gu},{path:"/loans/pending-disbursal",name:"PendingDisbursementLoansPage",meta:{middleware:"auth",title:"Loans Pending Disbursement Page"},component:xu},{path:"/loans/disbursed",name:"DisbursedLoansPage",meta:{middleware:"auth",title:"Disbursed Loan Page"},component:ot},{path:"/loans/pending-deduction-setup",name:"PendingDeductionSetupLoansPage",meta:{middleware:"auth",title:"Loans Pending Deduction Setup"},component:_u},{path:"/completed-loans",name:"CompletedLoansPage",meta:{middleware:"auth",title:"Loans Page"},component:Tr},{path:"/rejected-loans",name:"RejectedLoansPage",meta:{middleware:"auth",title:"Loans Page"},component:Mr},{path:"/deductions/all",name:"AllDeductionsPage",meta:{middleware:"auth",title:"Pending Deductions Page"},component:Lk},{path:"/deductions/pending",name:"PendingDeductionsPage",meta:{middleware:"auth",title:"Pending Deductions Page"},component:wp},{path:"/deductions/overdue",name:"OverdueDeductionsPage",meta:{middleware:"auth",title:"Overdue Deductions Page"},component:Lb},{path:"/repayments/successful",name:"SuccessfulRepaymentsPage",meta:{middleware:"auth",title:"Pending Deductions Page"},component:rc},{path:"/repayments/failed",name:"FailedRepaymentsPage",meta:{middleware:"auth",title:"Failed Repayments Page"},component:pc},{path:"/deductions/stop",name:"stopDeductionPage",meta:{middleware:"auth",title:"Stop Deduction Page"},component:xy},{path:"/leads/",name:"LeadsPage",meta:{middleware:"auth",title:"Leads Page"},component:Qh},{path:"/leads/pending",name:"LeadsPendingPage",meta:{middleware:"auth",title:"Pending Leads Page"},component:$L},{path:"/leads/report",name:"LeadsAnalyticsPage",meta:{middleware:"auth",title:"Leads Analytics Page"},component:Lg},{path:"/roles",name:"AllRoles",component:Vg},{path:"/admins",name:"AllAdmins",component:um},{path:"/users",name:"AllUsers",component:Km},{path:"/products",name:"AllProducts",component:wA},{path:"/special-loan-approvals",name:"SpecialApprovalsPage",component:sD},{path:"/loans/top-up",name:"TopupLoansPage",component:iD},{path:"/",name:"LandingPage",meta:{middleware:"guest",title:"Home"},component:()=>Promise.all([a.e(25),a.e(395)]).then(a.bind(a,5255))},{path:"/apply-step1",name:"ApplyStep1",meta:{middleware:"guest",title:"Loan Application"},component:()=>Promise.all([a.e(25),a.e(481)]).then(a.bind(a,1481))},{path:"/apply-step2",name:"ApplyStep2",meta:{middleware:"guest",title:"Loan Application"},component:()=>Promise.all([a.e(25),a.e(556)]).then(a.bind(a,556))},{path:"/apply-step3",name:"ApplyStep3",meta:{middleware:"guest",title:"Loan Application"},component:()=>Promise.all([a.e(25),a.e(549)]).then(a.bind(a,9549))},{path:"/apply-step4",name:"ApplyStep4",meta:{middleware:"guest",title:"Loan Application"},component:()=>Promise.all([a.e(25),a.e(61)]).then(a.bind(a,7061))},{path:"/apply-step5",name:"ApplyStep5",meta:{middleware:"guest",title:"Loan Application"},component:()=>Promise.all([a.e(25),a.e(355)]).then(a.bind(a,5355))},{path:"/application-complete",name:"ApplyStep6",meta:{middleware:"guest",title:"Loan Application Success"},component:()=>Promise.all([a.e(25),a.e(406)]).then(a.bind(a,5612))},{path:"/login",name:"LoginPage",meta:{middleware:"guest",title:"Login"},component:Qy},{path:"/leads",name:"LeadsPage",component:Qh},{path:"/blank-page",name:"BlankPage",component:Zm},{path:"/logout",name:"LogoutPage",component:bu}],rD=(0,s.aE)({history:(0,s.LA)(),linkExactActiveClass:"active",routes:dD,scrollBehavior(){return{top:0,behavior:"smooth"}}});rD.beforeEach(((e,t,a)=>{document.title=`${e.meta.title} - CreditFlex`,"guest"==e.meta.middleware?(l.A.getters["auth/authenticated"]&&a("/dashboard"),a()):l.A.getters["auth/authenticated"]?a():a("/login")}));var cD=rD},8358:function(e,t,a){a.d(t,{A:function(){return d}});var s=a(6278),l=a(406),o=(a(4114),a(7665)),n=a(9180),i={namespaced:!0,state:{authenticated:!1,user:{},token:{}},getters:{authenticated(e){return e.authenticated&&Date.parse(e.token["tokenExpiry"])>+new Date},user(e){return e.user},token(e){return e.token}},mutations:{SET_AUTHENTICATED(e,t){e.authenticated=t},SET_USER(e,t){e.user=t},SET_TOKEN(e,t){e.token=t}},actions:{login({commit:e},t){return e("SET_TOKEN",t),n.A.auth().then((({data:t})=>{e("SET_USER",t["data"]),e("SET_AUTHENTICATED",!0),o.A.push("/dashboard")})).catch((t=>{console.log(t),e("SET_USER",{}),e("SET_AUTHENTICATED",!1)}))},logout({commit:e}){e("SET_USER",{}),e("SET_AUTHENTICATED",!1)}}},d=new s.Ay.Store({plugins:[(0,l.A)()],modules:{auth:i}})},8953:function(e,t,a){var s=a(1250);const l="https://sapphire-api.digisparksolutions.ng";let o=s.A.create({baseURL:l,headers:{"x-sentinel-key":"6552a219-b30a-4764-95b4-d7996a74ed7c"}});o.defaults.headers.common["Accept"]="application/json",o.defaults.maxRedirects=0,t.A=o},8081:function(e,t,a){e.exports=a.p+"img/user-dummy.0dedd0a3.png"}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,s,l,o){if(!s){var n=1/0;for(c=0;c<e.length;c++){s=e[c][0],l=e[c][1],o=e[c][2];for(var i=!0,d=0;d<s.length;d++)(!1&o||n>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[d])}))?s.splice(d--,1):(i=!1,o<n&&(n=o));if(i){e.splice(c--,1);var r=l();void 0!==r&&(t=r)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,l,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{25:"8ee96e59",61:"184a9143",355:"ae89788d",395:"6e0789cf",406:"6b7f4655",481:"93b4e4aa",549:"2bfcce0f",556:"e75c748a"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"css/"+e+"."+{25:"7e0cdc27",61:"d83ad269",355:"d83ad269",395:"d83ad269",406:"d83ad269",481:"d83ad269",549:"d83ad269",556:"d83ad269"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="adlash:";a.l=function(s,l,o,n){if(e[s])e[s].push(l);else{var i,d;if(void 0!==o)for(var r=document.getElementsByTagName("script"),c=0;c<r.length;c++){var m=r[c];if(m.getAttribute("src")==s||m.getAttribute("data-webpack")==t+o){i=m;break}}i||(d=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+o),i.src=s),e[s]=[l];var u=function(t,a){i.onerror=i.onload=null,clearTimeout(p);var l=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),l&&l.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=u.bind(null,i.onerror),i.onload=u.bind(null,i.onload),d&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,s,l,o){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",a.nc&&(n.nonce=a.nc);var i=function(a){if(n.onerror=n.onload=null,"load"===a.type)l();else{var s=a&&a.type,i=a&&a.target&&a.target.href||t,d=new Error("Loading CSS chunk "+e+" failed.\n("+s+": "+i+")");d.name="ChunkLoadError",d.code="CSS_CHUNK_LOAD_FAILED",d.type=s,d.request=i,n.parentNode&&n.parentNode.removeChild(n),o(d)}};return n.onerror=n.onload=i,n.href=t,s?s.parentNode.insertBefore(n,s.nextSibling):document.head.appendChild(n),n},t=function(e,t){for(var a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var l=a[s],o=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(o===e||o===t))return l}var n=document.getElementsByTagName("style");for(s=0;s<n.length;s++){l=n[s],o=l.getAttribute("data-href");if(o===e||o===t)return l}},s=function(s){return new Promise((function(l,o){var n=a.miniCssF(s),i=a.p+n;if(t(n,i))return l();e(s,i,null,l,o)}))},l={524:0};a.f.miniCss=function(e,t){var a={25:1,61:1,355:1,395:1,406:1,481:1,549:1,556:1};l[e]?t.push(l[e]):0!==l[e]&&a[e]&&t.push(l[e]=s(e).then((function(){l[e]=0}),(function(t){throw delete l[e],t})))}}}(),function(){var e={524:0};a.f.j=function(t,s){var l=a.o(e,t)?e[t]:void 0;if(0!==l)if(l)s.push(l[2]);else if(25!=t){var o=new Promise((function(a,s){l=e[t]=[a,s]}));s.push(l[2]=o);var n=a.p+a.u(t),i=new Error,d=function(s){if(a.o(e,t)&&(l=e[t],0!==l&&(e[t]=void 0),l)){var o=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+n+")",i.name="ChunkLoadError",i.type=o,i.request=n,l[1](i)}};a.l(n,d,"chunk-"+t,t)}else e[t]=0},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,o,n=s[0],i=s[1],d=s[2],r=0;if(n.some((function(t){return 0!==e[t]}))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(d)var c=d(a)}for(t&&t(s);r<n.length;r++)o=n[r],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},s=self["webpackChunkadlash"]=self["webpackChunkadlash"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(7254)}));s=a.O(s)})();